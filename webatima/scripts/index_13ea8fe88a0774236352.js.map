{"version":3,"sources":["webpack:///./src/scripts/catima_config.js","webpack:///./src/scripts/styles.js","webpack:///./src/scripts/utils.js","webpack:///./src/scripts/components.js","webpack:///./src/scripts/material_editor_component.js","webpack:///./src/scripts/app.js","webpack:///./src/scripts/catima.js","webpack:///./src/scripts/nucleus_selector.js","webpack:///./src/scripts/VegaPlotComponent.js","webpack:///./src/scripts/PlotComponent.js","webpack:///./src/scripts/MaterialPlot.js","webpack:///./src/scripts/ConfigComponent.js","webpack:///./src/scripts/tingle.js","webpack:///./src/scripts/modal.js","webpack:///./src/scripts/AtimaResults.js","webpack:///./src/scripts/EpaxComponent.js","webpack:///./src/scripts/index.js"],"names":["config_atima13","z_effective","dedx_straggling","config_atima14","config_presets","name","config","catima_config","init","this","prototype","is_same","other","set","styles","container","container_narrow","my","table","thead_tr","tr","th","td","div_column","div_row","div_row_centered","div_cell","div_cell_auto","div_cell_100","div_cell_20","div_cell_20a","div_cell_80","button_full","button","button_ns","button_inverted","button_pill","button_svg","card","card_header","card_main","box","heading","heading_medium","h3","form_element","label","ul","li","footer","header","nav","nav_item","nav_item_sticky","nav_item_small","nav_item_right","dropdown","dropdown_content","color_error","error_badge","padding_vertical","combine","sa","join","debounce","func","wait","context","timeout","args","arguments","clearTimeout","setTimeout","apply","button_route","route","bstyle","m","class","onclick","utils_button","fun","text_error","txt","badge_error","SaveFile","v","blob","Blob","JSON","stringify","type","Object","FileSaver","FileLoader","f","id","onchange","e","target","files","value","document","getElementById","click","title","withAttr_nr","attrName","callback1","redraw","call","currentTarget","getAttribute","noredraw","callback","append_script","list","promises","forEach","src","p","Promise","resolve","reject","script","createElement","async","onload","onerror","head","appendChild","push","all","CardComponent","view","vnode","style","attrs","content","ToggleComponent","visible","off","display","toggle","el","oninit","bind","state","PlotComponent","oncreate","PlotObject","values","length","dsize","fig","clientWidth","clientHeight","width","height","set_width","set_height","show","withAttr","change_y_axis","plot_options","map","keys","data","item","k","toPrecision","GetDensity","z","elements_density","r","mocadimatter","Get","density","render_composition","components","hasOwnProperty","key","MatterLayer","symbol","A","mass","Z","rho","gas","l","I","parseFloat","isNaN","toFixed","elements_mass","GetMass","nucdata","GetNucData","parseInt","vendor_elements","GetSymbol","toArray","Mass","a","Th","ipot","toObject","MatterEditor","vm","layers","editindex","thickness","calculate","i","ui","changeSymbol","index","val","res","GetNuc","GetZ","toString","changel","changeZ","num","numa","changeA","numz","ndata","changerho","changeth","Remove","splice","App","clear_cache","Save","Add","Down","cur","Up","EditDone","alert","Edit","ctrl","onescape","onkeyup","keyCode","for","placeholder","oninput","trust","ThicknessCalculator","options","entry","GetName","sort","b","localeCompare","CompundMatterSelect","onenter","enterescape","href","ondblclick","AddLayersFromFile","MOCADIstr","thickness_calculator2","calculate_th","console","log","Catima","get_energy_out","then","eouts","projectile","T","get_data","prepare_one","srange","spline","energy","range","at","submit","nuc","matter","info","calculator","Set","window","LoadJSONFile","file","reader","FileReader","_e","Load","parse","result","err","readAsText","AddLayers","report","get_editindex","get_edit_layer","Array","isArray","SetNucleus","Q","loaded","layer","ll","GetNucleus","units","storage","save","DeleteStorage","localStorage","clear","mocadistr","mstr","fileapi","datavalid","CheckBrowser","String","load_config","uid","error","input","catch","extra","singleton_default","captureMessage","captureException","energy_min","energy_max","epsilon","url","check_material_duplicate","arr","some","prepare","unique","valid","mA","check_cache","Zm","Am","Math","abs","M","check_input","request","method","background","cache","Float32Array","dEdx","zm","am","energy_out","dedx_spline","range_spline","dedx","Eout_vs_thickness","sdedx","step","thicknesses","eout","Eloss","dedxi","rdif","edif","NucleusSelector","uiupdate","Symbol","Brho","Beta","Gamma","P","Nth","changesymbol","sym","SetNucleusSymbol","changeQ","changeT","changeBeta","changeGamma","changeBrho","changeP","changeNth","done","cell","nucinfo","nucs","GetNucS","AoQ","Sn","Sp","S2n","S2p","NucleusInfo","nucleus","vega_loaded","vegaplot","d","specs","$schema","autosize","selection","grid","mark","encoding","x","field","scale","x_axis_type","zero","axis","x_label","y","y_axis_type","y_label","color","legend","set_values","w","h","set_title","set_x","set_x_label","set_x_axis_type","set_y_axis_type","set_y","set_y_label","set_color_field","set_legend_title","vegaEmbed","mode","actions","plot","vplot_defaults","PlotData","status","reset","update","material","GetNucleusSymbol","col","MaterialPlot_vplot_defaults","MaterialPlotData","matname","Eout","ConfigComponent","transitionEvent","t","transitions","transition","OTransition","MozTransition","WebkitTransition","undefined","whichTransitionEvent","Modal","opts","extend","onClose","onOpen","beforeOpen","beforeClose","stickyFooter","cssClass","closeLabel","closeMethods","_recalculateFooterPosition","modalBoxFooter","modalBox","left","offsetLeft","modal","classList","add","indexOf","modalCloseBtn","modalCloseBtnIcon","innerHTML","modalCloseBtnLabel","modalBoxContent","_events","clickCloseBtn","close","clickOverlay","event","cls","parentElement","contains","_findAncestor","clientX","resize","checkOverflow","keyboardNav","which","isOpen","addEventListener","body","insertBefore","firstChild","addFooter","destroy","removeEventListener","parentNode","removeChild","open","self","removeProperty","removeAttribute","_scrollPosition","pageYOffset","top","setStickyFooter","handler","remove","scrollTo","setContent","getContent","setFooterContent","getFooterContent","isSticky","isOverflow","addFooterBtn","btn","split","warn","viewportHeight","innerHeight","modal_Modal","set_content","AtimaResults","matter_names","prepareoutput","sigma_a","partial","getResult","kinematics","brho_from_T","beta_from_T","save_file","c","Ein","sigma_E","tof","sigma_r","dEdxi","AtimaResultsView","TotalTemplate","tostring","toExponential","relative_momentum_deviation","sp","PartialTemplate","eouttitle","matterial_title","we","wp","location","origin","pathname","EpaxModel","fragment","cs","sigma_p","momentum_deviation","ap","zp","zt","af","zf","epax","p_from_T","EpaxComponent","input_function","attr","model","cplaceholder","Error","FooterComponent","scripts_NavigationComponent","install","Offside","item_style","preventDefault","NavigationList_Main","NavigationList_NucChange","MainPage","NucChangePage","ResultsPage","PlotPage","plotdata","MaterialPlotPage","ConfigPage","EpaxPage","loader","ss","search","idx","len","charAt","substring","stored","load","/","/nucchange","/results","/plot","/materialplot","/config","/epax"],"mappings":"+FAAA,IAgBAA,GAA6BC,YAAA,EAAAC,gBAAA,GAC7BC,GAA6BF,YAAA,EAAAC,gBAAA,GAE7BE,IACKC,KAAA,aAAAC,OAAAN,IACAK,KAAA,aAAAC,OAAAH,IAIL,SAAAI,EAAAC,GACAC,KAAAR,YAAAD,EAAAC,YACAQ,KAAAP,gBAAAF,EAAAE,gBACAM,IACAA,EAAAP,cACAQ,KAAAR,YAAAO,EAAAP,aACAO,EAAAN,kBACAO,KAAAP,gBAAAM,EAAAN,kBAKAK,EAAAG,UAAAC,QAAA,SAAAC,GACA,OAAAH,KAAAR,aAAAW,EAAAX,aAAAQ,KAAAP,iBAAAU,EAAAV,iBAMAK,EAAAG,UAAAG,IAAA,SAAAD,GACAH,KAAAR,YAAAW,EAAAX,YACAQ,KAAAP,gBAAAU,EAAAV,4CC5CAY,QACAA,EAAAC,UAAA,8BACAD,EAAAE,iBAAA,8BACAF,EAAAG,GAAA,KACAH,EAAAI,MAAA,sBAEAJ,EAAAK,SAAA,KACAL,EAAAM,GAAA,KACAN,EAAAO,GAAA,KACAP,EAAAQ,GAAA,KAGAR,EAAAS,WAAA,gCACAT,EAAAU,QAAA,iBACAV,EAAAW,iBAAA,8BACAX,EAAAY,SAAA,MACAZ,EAAAa,cAAA,gBACAb,EAAAc,aAAA,YACAd,EAAAe,YAAA,sBACAf,EAAAgB,aAAA,uBACAhB,EAAAiB,YAAA,sBAGAjB,EAAAkB,YAAA,mEACAlB,EAAAmB,OAAA,gEAEAnB,EAAAoB,UAAA,sEAEApB,EAAAqB,gBAAA,uEACArB,EAAAsB,YAAA,8DACAtB,EAAAuB,WAAA,iCAEAvB,EAAAwB,KAAA,6BACAxB,EAAAyB,YAAA,6BACAzB,EAAA0B,UAAA,qCAEA1B,EAAA2B,IAAA,yBAEA3B,EAAA4B,QAAA,KACA5B,EAAA6B,eAAA,KACA7B,EAAA8B,GAAA,+BAEA9B,EAAA+B,aAAA,0BACA/B,EAAAgC,MAAA,YAEAhC,EAAAiC,GAAA,WACAjC,EAAAkC,GAAA,MAEAlC,EAAAmC,OAAA,qCACAnC,EAAAoC,OAAA,6CACApC,EAAAqC,IAAA,2CACArC,EAAAsC,SAAA,uDACAtC,EAAAuC,gBAAA,iDACAvC,EAAAwC,eAAA,2DACAxC,EAAAyC,eAAA,uDACAzC,EAAA0C,SAAA,mFACA1C,EAAA2C,iBAAA,yEAEA3C,EAAA4C,YAAA,aACA5C,EAAA6C,YAAA,8BAEA7C,EAAA8C,iBAAA,MAEA9C,EAAA+C,QAAA,SAAAC,GACA,OAAAA,EAAAC,KAAA,kBC9DA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,EAEA,kBACA,IAAAC,EAAAC,UAMAC,aAAAH,GACAA,EAAAI,WANA,WACAJ,EAAA,KACAH,EAAAQ,MAAAN,GAAA1D,KAAA4D,IAIAH,GAAA,MAyEA,SAAAQ,EAAArE,EAAAsE,EAAAC,GACA,OAAAC,EAAA,KAAiBC,MAAA,GAAAhE,EAAAmB,OAAA8C,QAAA,WAAyDF,EAAAF,MAAA9D,IAAA8D,KAAuBtE,GAGjG,SAAA2E,EAAA3E,EAAA4E,EAAAL,GACA,OAAAC,EAAA,KAAgBC,MAAA,GAAAhE,EAAAmB,OAAA8C,QAAAE,GAAgD5E,GAGhE,SAAA6E,EAAAC,GACA,OAAAN,EAAA,QAAqBC,MAAAhE,EAAA4C,aAAyByB,GAG9C,SAAAC,EAAAD,GACA,OAAAN,EAAA,OAAoBC,MAAAhE,EAAA6C,aAAyBwB,GAG7C,SAAAE,EAAAC,EAAAjF,GACA,IAAAkF,EAAA,IAAAC,MAAA,iBAAAF,IAAAG,KAAAC,UAAAJ,EAAA,aAA+EK,KAAA,6BAC/EC,OAAAC,EAAA,OAAAD,CAAAL,EAAAlF,GAIA,SAAAyF,EAAAzB,EAAA0B,GACA,OAAAlB,EAAA,SAAuBC,MAAA,YAAAa,KAAA,OAAAK,GAAA3B,EAAA2B,GAAAC,SAAA,SAAAC,GAA8DH,EAAAG,EAAAC,OAAAC,MAAA,IAAqBF,EAAAC,OAAAE,MAAA,QAC1GxB,EAAA,KAAWC,MAAAT,EAAAS,MAAAC,QAAA,WAAoCuB,SAAAC,eAAAlC,EAAA2B,IAAAQ,UAA2CnC,EAAAoC,QAG1F,SAAAC,EAAAC,EAAAC,EAAAzC,GACA,gBAAA+B,GACAA,EAAAW,QAAA,EACAD,EAAAE,KAAA3C,GAAA1D,KAAAkG,KAAAT,EAAAa,cAAAb,EAAAa,cAAAJ,GAAAT,EAAAa,cAAAC,aAAAL,KAoBA,SAAAM,EAAAC,EAAA/C,GACA,gBAAA+B,GACAA,EAAAW,QAAA,EACAK,EAAAJ,KAAA3C,GAAA1D,OAIA,SAAA0G,EAAAC,GACA,IAAAC,KAgBA,OAfAD,EAAAE,QAAA,SAAAC,GACA,IAAAC,EAAA,IAAAC,QAAA,SAAAC,EAAAC,GACA,IAAAC,EAAAtB,SAAAuB,cAAA,UACAD,EAAAL,MACAK,EAAAE,OAAA,EACAF,EAAAG,OAAA,WACAL,KAEAE,EAAAI,QAAA,WACAL,KAEArB,SAAA2B,KAAAC,YAAAN,KAEAP,EAAAc,KAAAX,KAEAC,QAAAW,IAAAf,GC9JA,IAOAgB,GACAC,KAAA,SAAAC,GACA,OAAA1D,EAAA,WAAsBC,MAAAhE,EAAAwB,KAAAkG,MAAA,qBACtB3D,EAAA,OAAuBC,MAAAhE,EAAAyB,aAAyBgG,EAAAE,MAAAhC,OAChD5B,EAAA,OAAuBC,MAAAhE,EAAA0B,WAAuB+F,EAAAE,MAAAC,aAI9CC,GACAC,SAAA,EACAC,IAAA,SAAA7C,GACAM,SAAAC,eAAAP,GACAwC,MAAAM,QAAA,OACAH,EAAAC,SAAA,GAEAG,OAAA,SAAA/C,GACA,IAAAgD,EAAA1C,SAAAC,eAAAP,GACA2C,EAAAC,QAAAI,EAAAR,MAAAM,QAAA,OACAE,EAAAR,MAAAM,QAAA,QACAH,EAAAC,SAAAD,EAAAC,SAEAK,OAAA,WACAN,EAAAC,SAAA,GAGAN,KAAA,SAAAC,GACA,IAAAlE,EAAAkE,EAAAE,MACApI,EAAAsI,EAAA,QAAAtE,EAAAoC,MAAA,KAAApC,EAAAoC,MAAA,KAEA,OAAA5B,EAAA,OAA4BC,MAAA6D,EAAA,QAAA7H,EAAA2B,IAAA,KAC5BuC,EAAA3E,EAAAsI,EAAAI,OAAAG,KAAAX,EAAAY,MAAA9E,EAAA2B,IAAAlF,EAAAkB,aACA6C,EAAA,OAAyBC,MAAAhE,EAAAY,SAAAsE,GAAA3B,EAAA2B,GACzBwC,MAAA,iBACInE,EAAAqE,aAKJU,KACAA,EAAAC,SAAA,SAAAd,GACA,IAAAe,EAAAf,EAAAE,MACA,GAAAa,EAAAC,OAAAC,OAAA,cAEA,IDsHAxD,ECtHAyD,GDsHAzD,ECtHAsD,EAAAI,IAAA1D,IDuHAM,SAAAC,eAAAP,GAAA2D,YACArD,SAAAC,eAAAP,GAAA4D,eCvHAC,EAAAJ,EAAA,MACAK,EAAA,EAAAL,EAAA,OACAI,EAAA,MAAAA,EAAA,KACAC,EAAA,MAAAA,EAAA,KACAR,EAAAI,IAAAK,UAAAF,GACAP,EAAAI,IAAAM,WAAAF,GACAR,EAAAI,IAAAO,QAGAb,EAAAd,KAAA,SAAAC,GACA,IAAAe,EAAAf,EAAAE,MACA,OAAAa,EAAAC,OAAAC,OAAA,EACA,MAEA3E,EAAA,OAAqBC,MAAAhE,EAAAU,UAErB8H,EAAA,aAAAzE,EAAA,OAAgDC,MAAAhE,EAAAe,cAChDgD,EAAA,SAA2BC,MAAAhE,EAAAgC,OAAmB,QAC9C+B,EAAA,UAA4BoB,SAAApB,EAAAqF,SAAA,QAAAZ,EAAAa,gBAC5Bb,EAAAc,aAAAC,IAAA,SAAAnE,GACA,OAAArB,EAAA,UAA+CwB,MAAAH,EAAAG,OAAcH,EAAA7F,WAI7D,KACAwE,EAAA,OAAsBC,MAAAhE,EAAAiB,YAAAiE,GAAAsD,EAAAI,IAAA1D,OAKtBnB,EAAA,OAAqBC,MAAAhE,EAAAU,SAAqBwD,EAAA,uBAC1C,IAAAsF,EAAA1E,OAAA0E,KAAAhB,EAAAC,OAAA,IACAgB,EAAAjB,EAAAC,OAAAc,IAAA,SAAAG,GACA,OAAAF,EAAAD,IAAA,SAAAI,GAAgD,uBAAAD,EAAAC,GAAAD,EAAAC,GAAAD,EAAAC,GAAAC,YAAA,KAAqE3G,KAAA,OAErHsB,EAAAiF,EAAAvG,KAAA,UAAAwG,EAAAxG,KAAA,iDC7EA,SAAA4G,EAAAC,GACA,GAAAA,EAAA,GAAAA,EAAA,UAAAC,EAAA,EAAAF,WAAAC,GACA,GAAAA,EAAA,KACA,IAAAE,EAAAC,EAAA,EAAAC,IAAAJ,GACA,GAAAE,EAAAG,QACA,OAAAH,EAAAG,QAEA,SAqBA,IAAAC,EAAA,SAAAX,GACA,IAAAY,KACA,GAAAZ,EAAAa,eAAA,KACA,QAAAC,KAAAd,EAAA,EACAA,EAAA,EAAAa,eAAAC,IACAF,EAAAhD,MAAAkD,EAAAd,EAAA,EAAAc,KAIA,GAAAF,EAAA3B,OACA,OAAA3E,EAAA,SAA0BC,MAAAhE,EAAAI,QAC1B2D,EAAA,WACAA,EAAA,MAAgCC,MAAAhE,EAAAK,WAChC0D,EAAA,MAAqCC,MAAAhE,EAAAO,IAAgB,WACrDwD,EAAA,MAAqCC,MAAAhE,EAAAO,IAAgB,sBAErDwD,EAAA,YACAsG,EAAAd,IAAA,SAAAG,GACA,OAAA3F,EAAA,MAA2BC,MAAAhE,EAAAM,KAC3ByD,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAA,IAChD3F,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAA,aAShDc,EAAA,SAAAf,GAYA,GAXA9J,KAAAJ,KAAAkK,EAAAlK,MAAA,GACAI,KAAA8K,OAAAhB,EAAAgB,QAAA,GACA9K,KAAA+K,EAAAjB,EAAAiB,GAAA,GACA/K,KAAAgL,KAAAlB,EAAAkB,MAAA,GACAhL,KAAAiL,EAAAnB,EAAAmB,GAAA,GACAjL,KAAAkL,IAAApB,EAAAoB,KAAA,EACAlL,KAAAY,GAAAkJ,EAAAlJ,IAAA,EACAZ,KAAAmL,IAAArB,EAAAqB,MAAA,EACAnL,KAAAoL,EAAA,EACApL,KAAAqL,EAAAvB,EAAAuB,GAAA,EAEAvB,EAAAsB,EACApL,KAAAoL,EAAAtB,EAAAsB,MAEA,CACA,IAAAF,EAAAI,WAAAxB,EAAAoB,MACAK,MAAAL,MAAA,IAEAlL,KAAAoL,GAAAE,WAAAxB,EAAAlJ,IAAAsK,EAAA,KAAAM,QAAA,IAcA,GATA1B,EAAAkB,OACA,KAAAhL,KAAA+K,EACA/K,KAAAgL,KAAAS,EAAA,EAAAC,QAAA1L,KAAAiL,GAAAhB,YAAA,OAGAjK,KAAAgL,KAAAW,EAAA,EAAAC,WAAAC,SAAA/B,EAAAiB,GAAAc,SAAA/B,EAAAmB,IAAA,OAIA,GAAAjL,KAAA8K,OAAA/B,OACA,GAAA/I,KAAAiL,EAAA,IACAjL,KAAA8K,OAAAgB,EAAA,EAAAC,UAAA/L,KAAA+K,EAAA/K,KAAAiL,OAEA,CACA,IAAAZ,EAAAC,EAAA,EAAAC,IAAAvK,KAAAiL,GACAjL,KAAA8K,OAAAT,EAAA,IAAAA,EAAAO,IAAA,GACA5K,KAAAgL,KAAA,GACAhL,KAAA+K,EAAA,KAMAF,EAAA5K,UAAA+L,QAAA,WACA,IAAA7B,EAAA0B,SAAA7L,KAAAiL,GACA,GAAAM,MAAApB,GACA,SAEA,IAAAK,EAAAc,WAAAtL,KAAAkL,KACA,GAAAK,MAAAf,GACA,SAEA,IAIAyB,EAUAC,EAdAC,EAAAb,WAAAtL,KAAAY,IACA,GAAA2K,MAAAY,GACA,SAGA,QAAAnM,KAAAgL,MAAA,OAAAhL,KAAAgL,KACAiB,EAAA,OAIA,GADAA,EAAAX,WAAAtL,KAAAgL,MACAO,MAAAU,MAAA,EACA,SAIA,KAAAjM,KAAA+K,GAAA,OAAA/K,KAAA+K,EACAmB,EAAA,GAGAA,EAAAZ,WAAAtL,KAAA+K,IACAQ,MAAAW,MAAA,KACAA,EAAA,IAGA,IAAAE,EAAA,EACA,QAAApM,KAAAqL,GAAA,OAAArL,KAAAqL,EAAA,CACA,IAAAxG,EAAAyG,WAAAtL,KAAAqL,IACAE,MAAA1G,MAAA,IACAuH,EAAAvH,GAKA,OAAAqH,EAAA/B,EAAAK,EAAA2B,EADAnM,KAAA,QACAiM,EAAAG,IAGAvB,EAAA5K,UAAAoM,SAAA,WACA,IAAAlC,EAAA0B,SAAA7L,KAAAiL,GACA,GAAAM,MAAApB,GACA,SAEA,IAAAK,EAAAc,WAAAtL,KAAAkL,KACA,GAAAK,MAAAf,GACA,SAEA,IAIAyB,EAUAC,EAdAC,EAAAb,WAAAtL,KAAAY,IACA,GAAA2K,MAAAY,GACA,SAGA,QAAAnM,KAAAgL,MAAA,OAAAhL,KAAAgL,KACAiB,EAAA,OAIA,GADAA,EAAAX,WAAAtL,KAAAgL,MACAO,MAAAU,MAAA,EACA,SAIA,KAAAjM,KAAA+K,GAAA,OAAA/K,KAAA+K,EACAmB,EAAA,GAGAA,EAAAZ,WAAAtL,KAAA+K,IACAQ,MAAAW,MAAA,KACAA,EAAA,IAGA,IAAAE,EAAA,EACA,QAAApM,KAAAqL,GAAA,OAAArL,KAAAqL,EAAA,CACA,IAAAxG,EAAAyG,WAAAtL,KAAAqL,IACAE,MAAA1G,MAAA,IACAuH,EAAAvH,GAKA,OACAkG,EAAAmB,EACAjB,EAAAd,EACAe,IAAAV,EACA5J,GAAAuL,EACAnB,KAAAiB,EACAd,IAPAnL,KAAA,QAQAqL,EAAAe,EACAxM,KAAAI,KAAAJ,OAOA,IAAA0M,KAEAA,EAAAC,IACAC,UACAC,WAAA,EACAC,UAAA,EACA3D,OAAA,EACA4D,UAAA,WACA3M,KAAA0M,UAAA,EACA1M,KAAA+I,OAAA,EACA,QAAA6D,EAAA,EAAkBA,EAAA5M,KAAAwM,OAAAzD,OAAqB6D,IAAA,CACvC,IAAAnH,EAAAzF,KAAAwM,OAAAI,GACA5M,KAAA0M,UAAA1M,KAAA0M,UAAApB,WAAA7F,EAAA7E,IACAZ,KAAA+I,OAAA/I,KAAA+I,OAAAuC,WAAA7F,EAAA2F,MAKAkB,EAAAO,MACAP,EAAAO,GAAAC,aAAA,SAAAC,EAAAC,GACA,IAsBAxC,EACAW,EAvBApB,EAAAuC,EAAAC,GAAAC,OAAAO,GAEAE,EAAAnB,EAAA,EAAAoB,OAAAF,IACAC,EAAA,OACAlD,EAAAkB,EAAA,GACAlB,EAAAgB,EAAA,GACAhB,EAAAiB,KAAA,GAEAiC,EAAA,GAAA3C,EAAA,EAAA6C,KAAAH,IAGAC,EAAA,OACAlD,EAAAiB,KAAAW,EAAA,EAAAC,WAAAqB,EAAA,GAAAA,EAAA,MAAAhD,YAAA,GACAF,EAAAgB,EAAAkC,EAAA,GAAAG,YAGA,IAAAH,EAAA,IAAAA,EAAA,OACAlD,EAAAgB,EAAA,GACAhB,EAAAiB,KAAAS,EAAA,EAAAC,QAAAuB,EAAA,IAAAhD,YAAA,IAGAgD,EAAA,QAGAlD,EAAAkB,EAAAgC,EAAA,GAAAG,WAEAjC,GADAX,EAAAN,EAAA+C,EAAA,KACA,KAAAzC,EAAA,MACAT,EAAAmB,IAAAV,EACAT,EAAAoB,OAGApB,EAAAe,OAAA,EACA9K,KAAAqN,QAAAN,EAAAhD,EAAAqB,IAGAkB,EAAAO,GAAAS,QAAA,SAAAP,EAAAC,GACA,IAAAjD,EAAAuC,EAAAC,GAAAC,OAAAO,GACAQ,EAAA1B,SAAAmB,GAGA,GAFAjD,EAAAkB,EAAA+B,EACAjD,EAAAsB,EAAA,GACAE,MAAAgC,MAAA,EAIA,OAHAxD,EAAAgB,EAAA,GACAhB,EAAAiB,KAAA,QACAjB,EAAAe,OAAA,IAIA,IAGAA,EACAN,EACAW,EALAqC,EAAA3B,SAAA9B,EAAAgB,GAgBA,IAfAQ,MAAAiC,MAAA,KAAAA,EAAA,GAMAD,EAAA,MACAzC,EAAAgB,EAAA,EAAAC,UAAAyB,EAAAD,GAEAjB,EAAAC,GAAAC,OAAAO,GAAA/B,KADAwC,EAAA,EACA7B,EAAA,EAAAC,WAAA4B,EAAAD,GAAA,EAAAtD,YAAA,GAGAwB,EAAA,EAAAC,QAAA6B,GAAAtD,YAAA,IAGAsD,EAAA,KACA,IAAAlD,EAAAC,EAAA,EAAAC,IAAAgD,GACAzC,EAAAT,EAAA,IAAAA,EAAAO,IAAA,GACA0B,EAAAC,GAAAC,OAAAO,GAAA/B,KAAA,GACAsB,EAAAC,GAAAC,OAAAO,GAAAhC,EAAA,GAIAI,GADAX,EAAAN,EAAAqD,IACA,KAAA/C,EAAA,MAEAT,EAAAe,OAAA,EACAf,EAAAmB,IAAA,EACAnB,EAAAoB,IAAA,EAEAnL,KAAAqN,QAAAN,EAAAhD,EAAAqB,IAGAkB,EAAAO,GAAAY,QAAA,SAAAV,EAAAC,GACA,IAAAjD,EAAAuC,EAAAC,GAAAC,OAAAO,GACAQ,EAAA1B,SAAAmB,GACAU,EAAA7B,SAAA9B,EAAAkB,GACA,GAAAM,MAAAgC,MAAA,GACA,IAAAzC,EAAAgB,EAAA,EAAAC,UAAA,EAAA2B,GAKA,OAJA3D,EAAAe,SACAf,EAAAgB,EAAA,GACAhB,EAAAiB,KAAAS,EAAA,EAAAC,QAAAgC,GAAAzD,YAAA,QACA7F,EAAAgC,SAIA2D,EAAAgB,EAAA,EACA,IAAAkC,EAAAnB,EAAA,EAAAC,UAAAwB,EAAAG,GACA3D,EAAAe,OAAA,EACA,IAAA6C,EAAAhC,EAAA,EAAAC,WAAA2B,EAAAG,GACAC,EAAA,EACA5D,EAAAiB,KAAA2C,EAAA,EAAA1D,YAAA,GAGAF,EAAAiB,KAAA,GAGAhL,KAAAqN,QAAAN,EAAAhD,EAAAqB,GACAhH,EAAAgC,UAIAkG,EAAAO,GAAAe,UAAA,SAAAb,EAAAC,GACA,IAAAjD,EAAAuC,EAAAC,GAAAC,OAAAO,GAEA7B,EAAAI,WAAA0B,GACA5B,EAAAE,WAAAvB,EAAAqB,GAGA,GAFArB,EAAAmB,IAAA8B,IAEAzB,MAAAL,MAAA,IAIA,IAAAtK,EAAAwK,EAAAF,EAAA,IACAnB,EAAAnJ,KAAAqJ,YAAA,GACA7F,EAAAgC,WAGAkG,EAAAO,GAAAQ,QAAA,SAAAN,EAAAC,GACA,IAAAjD,EAAAuC,EAAAC,GAAAC,OAAAO,GAEA3B,EAAAE,WAAA0B,GACA9B,EAAAI,WAAAvB,EAAAmB,KACAtK,EAAA0K,WAAAvB,EAAAnJ,IACAmJ,EAAAqB,EAAA4B,EACAzB,MAAAH,MAAA,GACAG,MAAAL,MAAA,IAEAtK,EAAAwK,EAAAF,EAAA,IACAnB,EAAAnJ,KAAAqJ,YAAA,GACA7F,EAAAgC,WAGAkG,EAAAO,GAAAgB,SAAA,SAAAd,EAAAC,GACA,IAAAjD,EAAAuC,EAAAC,GAAAC,OAAAO,GACAnM,EAAA0K,WAAA0B,GACA9B,EAAAI,WAAAvB,EAAAmB,KACAE,EAAAE,WAAAvB,EAAAqB,GACArB,EAAAnJ,GAAAoM,EACAzB,MAAA3K,MAAA,GACA2K,MAAAL,MAAA,IAEAE,EAAAxK,EAAAsK,EAAA,IACAnB,EAAAqB,IAAAnB,YAAA,GACA7F,EAAAgC,WAGAkG,EAAAO,GAAAiB,OAAA,SAAAf,IACA,GAAAT,EAAAC,GAAAE,YACAH,EAAAC,GAAAC,OAAAuB,OAAAhB,EAAA,GACAiB,EAAAC,cACAD,EAAAE,OACA5B,EAAAC,GAAAI,YACAvI,EAAAgC,WAIAkG,EAAAO,GAAAsB,IAAA,WACA7B,EAAAC,GAAAE,UAAAH,EAAAC,GAAAC,OAAAzD,OACAuD,EAAAC,GAAAC,OAAA9E,KAAA,IAAAmD,GAAkDC,OAAA,GAAAlL,KAAA,GAAAmL,EAAA,GAAAE,EAAA,GAAAD,KAAA,GAAAE,IAAA,EAAAtK,GAAA,EAAAuK,KAAA,MAGlDmB,EAAAO,GAAAuB,KAAA,SAAArB,GACA,KAAAA,GAAAT,EAAAC,GAAAC,OAAAzD,OAAA,KACA,GAAAuD,EAAAC,GAAAE,UAAA,CACA,IAAA4B,EAAA/B,EAAAC,GAAAC,OAAAO,GACAT,EAAAC,GAAAC,OAAAO,GAAAT,EAAAC,GAAAC,OAAAO,EAAA,GACAT,EAAAC,GAAAC,OAAAO,EAAA,GAAAsB,EACAL,EAAAC,cACAD,EAAAE,OACA9J,EAAAgC,WAIAkG,EAAAO,GAAAyB,GAAA,SAAAvB,GACA,KAAAA,EAAA,KACA,GAAAT,EAAAC,GAAAE,UAAA,CACA,IAAA4B,EAAA/B,EAAAC,GAAAC,OAAAO,GACAT,EAAAC,GAAAC,OAAAO,GAAAT,EAAAC,GAAAC,OAAAO,EAAA,GACAT,EAAAC,GAAAC,OAAAO,EAAA,GAAAsB,EACAL,EAAAC,cACAD,EAAAE,OACA9J,EAAAgC,WAIAkG,EAAAO,GAAA0B,SAAA,WAEA,IAAAxE,EAAAuC,EAAAC,GAAAC,OAAAF,EAAAC,GAAAE,WAEA,KAAA1C,EAAAkB,IACAuD,MAAA,wCACAlC,EAAAC,GAAAE,WAAA,EACAH,EAAAO,GAAAiB,OAAAxB,EAAAC,GAAAE,YAGA,KAAA1C,EAAAnK,OACAmK,EAAAnK,KAAA,YAAA0M,EAAAC,GAAAE,WAGAlB,MAAAD,WAAAvB,EAAAqB,MACArB,EAAAqB,EAAA,EACArB,EAAAnJ,GAAA,GAGA2K,MAAAD,WAAAvB,EAAAnJ,OACAmJ,EAAAqB,EAAA,EACArB,EAAAnJ,GAAA,GAGA2K,MAAAD,WAAAvB,EAAAmB,QACAnB,EAAAmB,IAAAhB,EAAAH,EAAAkB,IAGAlB,EAAAqB,EAAAE,WAAAvB,EAAAqB,GACArB,EAAAnJ,GAAA0K,WAAAvB,EAAAnJ,IACAmJ,EAAAmB,IAAAI,WAAAvB,EAAAmB,KAEAoB,EAAAC,GAAAE,WAAA,EACAuB,EAAAC,cACAD,EAAAE,OACA5B,EAAAC,GAAAI,aAGAL,EAAAO,GAAA4B,KAAA,SAAA1B,IACA,GAAAT,EAAAC,GAAAE,YACAH,EAAAC,GAAAE,UAAAM,EACA3I,EAAAgC,WAKAkG,EAAAzE,KAAA,SAAAC,GACA,IAqDAiC,EAAAgD,EAAA2B,EFnfAC,EE8bApC,EAAAzE,EAAAY,MAAA6D,GACAM,EAAA/E,EAAAY,MAAAmE,GACA,OAAAN,EAAAE,WAAA,GAmDA1C,EAlDAwC,EAAAC,OAAAD,EAAAE,WAkDAM,EAlDAR,EAAAE,UAkDAiC,EAlDA7B,EAsDAzI,EAAA,OAAawK,SFvfbD,EEufaD,EAAAH,SAAA9F,KAAAiG,GFtfb,SAAAjJ,GACAA,EAAAW,QAAA,EACA,KAAAX,EAAAoJ,UACAF,IACAvK,EAAAgC,cEofAhC,EAAA,OAAiBC,MAAAhE,EAAA8B,IAAgB,aAAA4K,GACjC3I,EAAA,OAAiBC,MAAAhE,EAAAU,UAEjBqD,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,sBAAA9I,MAAA,0DAA4G,QACrI5B,EAAA,SAAyBc,KAAA,OAAA6C,MAAA,cAA8BgH,YAAA,gBAAAxJ,GAAA,sBAAAyJ,QAAA,SAAAvJ,GAA4EA,EAAAW,QAAA,EAAiB2D,EAAAnK,KAAA6F,EAAAa,cAAA,OAAqCV,MAAAmE,EAAAnK,SAEzLwE,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,wBAAA9I,MAAA,0EAA8H,UACvJ5B,EAAA,SAAyBc,KAAA,OAAA6C,MAAA,aAAAgH,YAAA,eAAAxJ,GAAA,wBAAAyJ,QAAA5K,EAAAqF,SAAA,QAAAiF,EAAA5B,aAAArE,KAAAiG,EAAA3B,IAAAnH,MAAAmE,EAAAe,WAEzB1G,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,mBAAA9I,MAAA,yDAAyG,KAClI5B,EAAA,SAAyBc,KAAA,OAAA6C,MAlBzB,aAkByBxC,GAAA,mBAAAyJ,QAAA/I,EAAA,QAAAyI,EAAAjB,QAAAhF,KAAAiG,EAAA3B,IAAAnH,MAAAmE,EAAAgB,MAEzB3G,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,oBAA0C,KACnE1K,EAAA,SAAyBc,KAAA,OAAA6C,MAtBzB,aAsByBxC,GAAA,mBAAAyJ,QAAA5K,EAAAqF,SAAA,QAAAiF,EAAApB,QAAA7E,KAAAiG,EAAA3B,IAAAnH,MAAAmE,EAAAkB,EAAA,IAAAlB,EAAAkB,EAAA,SAGzB7G,EAAA,OAAiBC,MAAAhE,EAAAU,UAEjBqD,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,uBAA6C1K,EAAA6K,MAAA,gBACtE7K,EAAA,SAAyBc,KAAA,OAAA6C,MA7BzB,aA6ByBxC,GAAA,sBAAAyJ,QAAA,SAAAvJ,GAA4EA,EAAAW,QAAA,EAAiB2D,EAAAiB,KAAAvF,EAAAa,cAAA,OAAqCV,MAAAmE,EAAAiB,SAE3J5G,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,sBAA4C1K,EAAA6K,MAAA,kCACrE7K,EAAA,SAAyBc,KAAA,OAAA6C,MAjCzB,aAiCyBxC,GAAA,qBAAAyJ,QAAA/I,EAAA,QAAAyI,EAAAd,UAAAnF,KAAAiG,EAAA3B,IAAAnH,MAAAmE,EAAAmB,QAEzB9G,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,qBAA2C1K,EAAA6K,MAAA,qCACpE7K,EAAA,SAAyBc,KAAA,OAAA6C,MArCzB,aAqCyBxC,GAAA,oBAAAyJ,QAAA/I,EAAA,QAAAyI,EAAAb,SAAApF,KAAAiG,EAAA3B,IAAAnH,MAAAmE,EAAAnJ,OAEzBwD,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,oBAA0C1K,EAAA6K,MAAA,mBACnE7K,EAAA,SAAyBc,KAAA,OAAA6C,MAzCzB,aAyCyBxC,GAAA,mBAAAyJ,QAAA/I,EAAA,QAAAyI,EAAArB,QAAA5E,KAAAiG,EAAA3B,IAAAnH,MAAAmE,EAAAqB,MAEzBhH,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,OAAmB+B,EAAA6K,MAAA,4BAC5C7K,EAAA8K,GAAqCnC,UACrC9I,EAAA,kCAIAG,EAAA,OAAiBC,MAAAhE,EAAA+C,SAAA/C,EAAAU,QAAA,uBAEjBqD,EAAA,OAAqBC,MAAAhE,EAAAe,aAAyBgD,EAAA,KAAQC,MAAAhE,EAAAkB,YAAA+C,QAAAoK,EAAAH,SAAA9F,KAAAiG,IAA0D,SAChHtK,EAAA,OAAqBC,MAAAhE,EAAAiB,cAAyB,aAnjB9C,SAAAsC,GACA,IAAAuL,KAEA,QAAAC,KAAA9E,EAAA,EAAAV,IAAA,CACA,IAAAhK,EACAA,EAAA0K,EAAA,EAAA+E,QAAAD,GACAD,EAAAzH,MAAA0H,EAAAxP,IAKA,OAFAuP,EAAAG,KAAA,SAAApD,EAAAqD,GAA+B,OAAArD,EAAA,GAAAsD,cAAAD,EAAA,MAE/BnL,EAAA,UAAuBmB,GAAA,qBAAAlB,MAAA,WAAAmB,SAAApB,EAAAqF,SAAA,QAAA7F,EAAA4B,WACvBpB,EAAA,UAAwBwB,MAAA,IAAS,gBACjCuJ,EAAAvF,IAAA,SAAAG,GACA,OAAA3F,EAAA,UAAmCwB,MAAAmE,EAAA,IAAcA,EAAA,OAqiBH0F,EAAoCjK,SAAAkJ,EAAApB,QAAA7E,KAAAiG,EAAA3B,SAElFhD,EAAAkB,EAAA,IAAA7G,EAAA,OAA8BC,MAAAhE,EAAA+C,SAAA/C,EAAAU,QAAA,kCAE9BqD,EAAA,OAAqBC,MAAAhE,EAAAY,WACrBmD,EAAA,OAAqBC,MAAAhE,EAAA8B,IACrBmI,EAAA,EAAA+E,QAAAtF,EAAAkB,IACAR,EAAAH,EAAA,EAAAC,IAAAR,EAAAkB,MACA7G,EAAA,OAAqBC,MAAAhE,EAAA+B,eACrBgC,EAAA,SAAyBC,MAAAhE,EAAAgC,MAAAyM,IAAA,mBAAA9I,MAAA,gFAA+H,MACxJ5B,EAAA,SACAC,MAAA,KACAa,KAAA,OACA6C,MAAA,aACAxC,GAAA,mBACAqJ,QFtkBA,SAAAc,EAAAf,GACA,gBAAAlJ,GACAA,EAAAW,QAAA,EACA,KAAAX,EAAAoJ,SACAa,IACAtL,EAAAgC,UACG,KAAAX,EAAAoJ,UACHF,IACAvK,EAAAgC,WE8jBAuJ,CAAAjB,EAAAH,SAAA9F,KAAAiG,KAAAH,SAAA9F,KAAAiG,IACAM,QAAA,SAAAvJ,GAEA,GADAA,EAAAW,QAAA,EACA,GAAAX,EAAAa,cAAA,MAAAyC,OAAA,CAIA,IAAAiE,EAAA1B,WAAA7F,EAAAa,cAAA,QACAiF,MAAAyB,MAAA,IACAjD,EAAAsB,EAAA2B,EACA5I,EAAAgC,eANA2D,EAAAsB,EAAA,GASAzF,MAAAmE,EAAAsB,EAAA,EAAAtB,EAAAsB,EAAA,QAIAjH,EAAA,OAAqBC,MAAAhE,EAAAY,UAAsBmD,EAAA,KAAQwL,KAAA,yBAAAlK,OAAA,SAAAM,MAAA,sLAAyO5B,EAAA6K,MF1hB5R,iQE2hBA,QAtIA7K,EAAA,OAAkB2D,MAAA,qBAAyB3D,EAAA,SAAaC,MAAAhE,EAAAI,QACxD2D,EAAA,SAAmBC,MAAA,KAASD,EAAA,MAC5BA,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgB,KACtCwD,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgB,QACtCwD,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgB,UACtCwD,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,kCACtC7K,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,kCACtC7K,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,mBAEtC7K,EAAA,MAAsBC,MAAAhE,EAAAO,IAAgB,QAEtCwD,EAAA,QACAmI,EAAAC,OAAA5C,IAAA,SAAAG,EAAAgD,GACA,OAAA3I,EAAA,MAA+BC,MAAAhE,EAAAM,GAAAkP,WAAAhD,EAAA4B,KAAAhG,KAAAoE,EAAAE,KAC/B3I,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkM,GAChD3I,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAnK,MAChDwE,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAe,QAChD1G,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAmB,KAChD9G,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAnJ,GAAA,EAAAmJ,EAAAnJ,GAAA6D,EAAAsF,EAAAnJ,KAChDwD,EAAA,MAAgCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAqB,EAAA,EAAArB,EAAAqB,EAAA3G,EAAAsF,EAAAqB,IAEhDhH,EAAA,MAAgCC,MAAAhE,EAAAQ,IAChCuD,EAAA,QAAsCC,MAAA,+CACtCD,EAAA,KAAuCC,MAAAhE,EAAAuB,WAAA0C,QAAAkC,EAAAqG,EAAAyB,GAAA7F,KAAAoE,EAAAE,IAAA/G,MAAA,WAAgF5B,EAAA6K,MF5bvH,2NE6bA7K,EAAA,KAAuCC,MAAAhE,EAAAuB,WAAA0C,QAAAkC,EAAAqG,EAAAuB,KAAA3F,KAAAoE,EAAAE,IAAA/G,MAAA,aAAoF5B,EAAA6K,MFlc3H,6OEmcA7K,EAAA,KAAuCC,MAAAhE,EAAAuB,WAAA0C,QAAAkC,EAAAqG,EAAA4B,KAAAhG,KAAAoE,EAAAE,IAAA/G,MAAA,QAA+E5B,EAAA6K,MF1btH,mTE2bA7K,EAAA,KAAuCC,MAAAhE,EAAAuB,WAAA0C,QAAAkC,EAAAqG,EAAAiB,OAAArF,KAAAoE,EAAAE,IAAA/G,MAAA,UAAmF5B,EAAA6K,MFzc1H,+KE+cA7K,EAAA,OAAWC,MAAAhE,EAAA+C,SAAA/C,EAAAU,QAAAV,EAAA8C,qBACXiB,EAAA,OAAiBC,MAAAhE,EAAAe,aAAyBgD,EAAA,KAASC,MAAAhE,EAAAsB,YAAA2C,QAAAuI,EAAAsB,IAAA1F,KAAAoE,IAAkD,eACrGzI,EAAA,OAAiBC,MAAAhE,EAAAiB,aAAyBiL,EAAAC,OAAAzD,OAAA3E,EAAA,4BAAAmI,EAAAG,UAAAlB,QAAA,aAAApH,EAAA,wBAAAmI,EAAAxD,OAAAyC,QAAA,mBAE1CpH,EAAA,QACAiB,GAAgBhB,MAAAhE,EAAAmB,OAAA+D,GAAA,aAAAS,MAAA,iBAA0DgI,EAAA8B,mBAC1EvD,EAAAC,OAAA,QACAjI,EAAA,4BAA2DK,EAAAoJ,EAAA+B,YAAA,aAAsC1P,EAAAoB,WACjGwC,EAAA,kBACA,UAoGA,IAAA+L,GACApP,GAAA,EACAwK,EAAA,EACA6E,aAAA,SAAAlD,EAAA7H,EAAA8H,GAEA,IAAA9B,EAAAoB,EAAAC,GAAAC,OAAAO,GAAA7B,IACAA,EAAAI,WAAAJ,GACA,IAAAqC,EAAAjC,WAAA0B,GACAzB,MAAAgC,MAAA,EACA2C,QAAAC,IAAA,0BAGAC,EAAAC,iBAAAC,KACA,SAAAC,GACA,OAAAxD,GAAAwD,EAAAxH,QACA,EAEAgE,EAAA,EAAAwD,EAAAxD,EAAA,GAAAiB,EAAAwC,WAAA9H,MAAA+H,IAEaH,KAAA,SAAAG,GACbT,EAAApP,IAAA,EACAoP,EAAA5E,GAAA,EACAqF,EAAA,GACA,GAAAvL,GAAAqI,EAAAkD,GACA,GAAAvL,GAAAqI,EAAA,GAEA6C,EAAAM,SAAAN,EAAAO,YAAA5D,IAAAuD,KAAA,SAAArD,GACA,IAAA2D,EAAA,IAAAC,EAAA,EAAA5D,EAAA,GAAA6D,OAAA7D,EAAA,GAAA8D,OAEAf,EAAApP,GADA,GAAAsE,EACA,KAAA0L,EAAAI,GAAAP,GAAAG,EAAAI,GAAAzD,IAGAqD,EAAAI,GAAAP,GAAAlD,EAAA,IAEAyC,EAAA5E,EAAA4E,EAAApP,GAAAsK,EAAA,IACA9G,EAAAgC,eAOA8I,GAEA+B,OAAA,SAAAlE,EAAAnM,EAAA6F,GACA7F,EAAA,IACA0L,EAAAO,GAAAgB,SAAAd,EAAAnM,EAAA4K,QAAA,IACA/E,KAAAzC,MAAAhE,QAIAwI,OAAA,WACAwH,EAAApP,GAAA,EACAoP,EAAA5E,EAAA,GAGAvD,KAAA,SAAAC,GACA,IAAAiF,EAAAjF,EAAAE,MAAA+E,MACAR,EAAAyD,EAGA,OAAA5L,EAAA8D,GAA6B3C,GAAA,SAAAS,MAAA,YAC7BiC,QAAA7D,EAAA,OAAwBC,MAAAhE,EAAAS,aACxBsD,EAAA,+BACAA,EAAA,SAA2BC,MAAAhE,EAAAgC,MAAAyM,IAAA,aAAA9I,MAAA,+BAAyE,gBACpG5B,EAAA,SAA2Bc,KAAA,OAAA6C,MAN3B,aAOAxC,GAAA,aACAyJ,QAAA/I,EAAA,QAAA1C,EAAAgJ,EAAA0D,aAAAxH,KAAAX,EAAAY,MAAAqE,EAAA,WAEA3I,EAAA,SAA2BC,MAAAhE,EAAAgC,MAAAyM,IAAA,sBAAA9I,MAAA,2BAA8E,YACzG5B,EAAA,SAA2Bc,KAAA,OAAA6C,MAX3B,aAYAxC,GAAA,sBACAyJ,QAAA/I,EAAA,QAAA1C,EAAAgJ,EAAA0D,aAAAxH,KAAAX,EAAAY,MAAAqE,EAAA,WAEAR,EAAA3L,IAAA,EAAAwD,EAAA,OAAsCC,MAAAhE,EAAAY,WACtC,SAAAsL,EAAA3L,GAAA4K,QAAA,GAAApH,EAAA6K,MAAA,0BACA,eAAA1C,EAAAnB,EAAAI,QAAA,WACApH,EAAA,MAAAK,EAAA,iBACA8H,EAAA3L,GAAA,EAAA2D,EAAA,mBAAAuD,EAAAY,MAAAuI,OAAAxI,KAAAX,EAAAY,MAAAqE,EAAAR,EAAA3L,GAAAsH,EAAAE,IAAAK,KAAAzI,KAAA,wDCxrBAgO,QACAA,EAAAtF,SACAsF,EAAAtF,MAAAwI,IAAA,GACAlD,EAAAtF,MAAA+H,EAAA,EACAzC,EAAAtF,MAAAyI,UACAnD,EAAAtF,MAAA7I,OAAA,IAAAC,EACAkO,EAAAoD,KAAA,GACApD,EAAAwC,WAAA,IAAAa,EAAA,EACArD,EAAAwC,WAAAc,IAAAb,EAAA,KACAzC,EAAA1B,eAEAiF,OAAAvD,MAEAA,EAAAwD,aAAA,SAAAC,GACA,IAAAC,EAAA,IAAAC,WACAD,EAAApK,OACA,SAAAsK,GACA,IACA5D,EAAA6D,KAAA7M,KAAA8M,MAAAF,EAAAlM,OAAAqM,SACA/D,EAAAE,OAEA,MAAA8D,GACAxD,MAAA,uBAEA,QACApK,EAAAgC,WAIAsL,EAAAO,WAAAR,IAGAzD,EAAA8B,kBAAA,SAAA2B,GACA,IAAAC,EAAA,IAAAC,WACAD,EAAApK,OACA,SAAAsK,GACA,IACA5D,EAAAkE,UAAAlN,KAAA8M,MAAAF,EAAAlM,OAAAqM,SACA/D,EAAAE,OAEA,MAAA8D,GACAxD,MAAA,iCACAR,EAAAmE,OAAAH,GAEA,QACA5N,EAAAgC,WAIAsL,EAAAO,WAAAR,IAGAzD,EAAAoE,cAAA,WACA,OAAA9F,EAAAC,GAAAE,WAGAuB,EAAAqE,eAAA,WACA,OAAA/F,EAAAC,GAAAE,WAAA,EACAH,EAAAC,GAAAC,OAAAF,EAAAC,GAAAE,WACA,MAGAuB,EAAA6D,KAAA,SAAA/H,GACAA,IAKAA,EAAAa,eAAA,QAAA2H,MAAAC,QAAAzI,EAAAoH,MACAlD,EAAAwC,WAAAgC,WAAA1I,EAAAoH,IAAA,GAAApH,EAAAoH,IAAA,GAAApH,EAAAoH,IAAA,IAGApH,EAAAa,eAAA,MACAqD,EAAAwC,WAAAc,IAAAb,EAAA3G,EAAA2G,GAIA3G,EAAAa,eAAA,eAAAb,EAAA0G,WAAA7F,eAAA,MAAAb,EAAA0G,WAAA7F,eAAA,OACAqD,EAAAwC,WAAAgC,WAAA1I,EAAA0G,WAAAzF,EAAAjB,EAAA0G,WAAAvF,EAAAnB,EAAA0G,WAAAiC,GACA3I,EAAA0G,WAAA7F,eAAA,MACAqD,EAAAwC,WAAAc,IAAAb,EAAA3G,EAAA0G,WAAAC,IAIAnE,EAAAC,GAAAC,OAAAzD,OAAA,EACAiF,EAAAkE,UAAApI,GACAwC,EAAAC,GAAAI,YAEA7C,EAAAjK,QACAmO,EAAAtF,MAAA7I,OAAAO,IAAA0J,EAAAjK,QAEAmO,EAAA0E,QAAA,EACA1E,EAAAE,SAGAF,EAAAkE,UAAA,SAAApI,GACA,GAAAA,EAAAqH,OACA,QAAAvE,EAAA,EAAgBA,EAAA9C,EAAAqH,OAAApI,OAAqB6D,IAAA,CACrC,IAAA+F,EAAA7I,EAAAqH,OAAAvE,GACA,GAAA0F,MAAAC,QAAAI,GAAA,CACA,IAAAC,KACAA,EAAAhT,KAAA,SAAAgN,EACAgG,EAAA7H,EAAA4H,EAAA,GACAC,EAAA3H,EAAA0H,EAAA,GACAC,EAAA1H,IAAAyH,EAAA,GACAC,EAAAhS,GAAA+R,EAAA,GACAC,EAAAzH,IAAAwH,EAAA,GACAC,EAAA5H,KAAA2H,EAAA,GACAC,EAAAvH,EAAAsH,EAAA,GACArG,EAAAC,GAAAC,OAAA9E,KAAA,IAAAmD,EAAA+H,SAGAtG,EAAAC,GAAAC,OAAA9E,KAAA,IAAAmD,EAAA8H,MAKA3E,EAAAE,KAAA,WACAF,EAAAtF,MAAAwI,IAAAlD,EAAAwC,WAAAqC,aACA7E,EAAAtF,MAAA+H,EAAAzC,EAAAwC,WAAA9H,MAAA+H,EACAzC,EAAAtF,MAAAyI,OAAA7E,EAAAC,GAAAC,OACAwB,EAAAtF,MAAAoK,OAAA,SACAC,EAAA,EAAAC,KAAA,QAAAhF,EAAAtF,QAGAsF,EAAAiF,cAAA,WACAC,aAAAC,SAGAnF,EAAA+B,UAAA,WACA,IAAAmB,EAAAlD,EAAAwC,WAAAqC,aACApC,EAAAzC,EAAAwC,WAAA9H,MAAA+H,EACAU,EAAA7E,EAAAC,GAAAC,OAEA4G,EAAA,4CAEAA,IAAA,gBAAA3C,EAAA,QAAAS,EAAA,QAAAA,EAAA,SAAAA,EAAA,GAAAA,EAAA,SACAkC,GAAA,qBACAA,GAAA,qBACAA,GAAA,qBAGAA,GAAA,uCAGA,QAAAxG,EAAA,EAAgBA,EAAAuE,EAAApI,OAAgB6D,IAAA,CAChC,IAAAyG,EAAA,SAAAlC,EAAAvE,GAAAhN,KAAA,kBAAAuR,EAAAvE,GAAA7B,GAAA,QAAAoG,EAAAvE,GAAA3B,EAAA,SAAAkG,EAAAvE,GAAA1B,IACAmI,IAAA,QAAAlC,EAAAvE,GAAAhM,GACAyS,GAAA,eAEAD,GADAC,GAAA,eAMA,OAFAD,GAAA,qCACAA,GAAA,SAIApF,EAAAsF,SAAA,EACAtF,EAAAuF,WAAA,EACAvF,EAAA0E,QAAA,EACA1E,EAAAC,YAAA,WACAD,EAAAuF,WAAA,EACAnD,GACAA,EAAA+C,SAKAnF,EAAAwF,aAAA,WACA,IAAAnJ,GAAA,EAIA,GAHAkH,OAAAI,aAAAtH,GAAA,GAEAkH,OAAA2B,eAAA7I,GAAA,KACA,eAAAoJ,OAAAxT,WAAA,CAGAyG,GADA,wDADA,+BACApD,KAAA,6BAIA,OAAA+G,GAGA2D,EAAA0F,YAAA,SAAAC,GACA,OAAAvD,EAAAsD,YAAAC,GAAArD,KAAA,SAAArD,IACAA,EAAA2G,OAAA3G,EAAA4G,QACArF,MAAA,uCAAAvB,EAAA2G,OACA5F,EAAAmE,OAAA,qCAAAwB,IAEA3F,EAAA6D,KAAA5E,EAAA4G,SAEKC,MAAA,WACLtF,MAAA,uCACAR,EAAAmE,OAAA,qCAAAwB,MAIA3F,EAAAmE,OAAA,SAAA1M,EAAA2L,GACAlB,QAAAC,IAAA1K,GACA,IAAAsO,EAAA,KACA3C,IACA2C,GAAiBA,MAAA3C,IAEjB,iBAAA3L,EACAuO,EAAA9H,EAAA+H,eAAAxO,EAAAsO,GAEAC,EAAA9H,EAAAgI,iBAAAzO,EAAAsO,ICnNA,IAAA3D,GAEA+D,WAAA,KACAC,WAAA,IACAC,QAAA,KAGAC,IAAA,mCAGAC,yBAAA,SAAAC,EAAAxH,GACA,OAAAwH,EAAAC,KAAA,SAAAlM,GACA,OAAAA,EAAAwC,GAAAiC,EAAAjC,GAAAxC,EAAA0C,GAAA+B,EAAA/B,GAAA1C,EAAAyC,MAAAgC,EAAAhC,QAIA0J,QAAA,SAAAC,EAAAC,GACA,IAAAf,KACA3C,EAAAlD,EAAAwC,WAAA9H,MACAyI,EAAAnD,EAAA1B,aAAAC,GAAAC,OACA,GAAA2E,EAAApI,OAAA,GAAAmI,EAAAT,EAAA,cACAoD,EAAArD,YACAqE,GAAA3D,EAAA2D,GACA9J,EAAAmG,EAAAnG,EACAE,EAAAiG,EAAAjG,EACAwH,EAAAvB,EAAAuB,EACAhC,EAAAS,EAAAT,GAEAoD,EAAA1C,UACA,QAAAvE,EAAA,EAAgBA,EAAAuE,EAAApI,OAAgB6D,IAAA,CAEhC,IAAA/H,EAAAsM,EAAAvE,GAAAP,WACAkD,GAAA,EACAoF,IACApF,EAAAa,EAAAmE,yBAAAV,EAAA1C,OAAAtM,IAGA+P,EACAzD,EAAAvE,GAAA1B,IAAA,GAAAiG,EAAAvE,GAAAhM,GAAA,IACA+T,GAAApF,GACAsE,EAAA1C,OAAAzJ,KAAA7C,IAIA8P,GAAApF,GACAsE,EAAA1C,OAAAzJ,KAAA7C,GAOA,OAHAmJ,EAAAtF,MAAA7I,SACAgU,EAAAhU,OAAAmO,EAAAtF,MAAA7I,QAEAgU,GAGAlD,YAAA,SAAA5D,GACA,IAAA8G,KACA3C,EAAAlD,EAAAwC,WAAA9H,MACAyI,EAAAnD,EAAA1B,aAAAC,GAAAC,OACA,GAAA2E,EAAApI,OAAA,GAAAmI,EAAAT,EAAA,cAUA,GARAoD,EAAArD,YACAqE,GAAA3D,EAAA2D,GACA9J,EAAAmG,EAAAnG,EACAE,EAAAiG,EAAAjG,EACAwH,EAAAvB,EAAAuB,EACAhC,EAAAS,EAAAT,GAEAoD,EAAA1C,UACApE,GAAAoE,EAAApI,OAAA,SAEA,IAAAlE,EAAAsM,EAAApE,GAAAV,WAQA,OAPA8E,EAAApE,GAAA7B,IAAA,GACA2I,EAAA1C,OAAAzJ,KAAA7C,GAGAmJ,EAAAtF,MAAA7I,SACAgU,EAAAhU,OAAAmO,EAAAtF,MAAA7I,QAEAgU,GAGAiB,YAAA,SAAA3D,GAkBA,IAjBA,IAAAlE,KAiBAL,EAAA,EAAoBA,EAAAwD,EAAAtG,KAAAf,OAAqB6D,IAAA,CACzC,IAAAnH,EAAA2K,EAAAtG,KAAA8C,GACA,GAAAnH,EAAAsP,GAAA,KAAAtP,EAAAsP,IAAA5D,EAAAlG,EAAA,CACA,GAAAxF,EAAA4F,EAAA,GAAA8F,EAAA9F,GAAA5F,EAAA4F,EAAA,SACA4B,EAAAvF,KAAAjC,GACA,MAEA,GAAAA,EAAAsP,IAAA5D,EAAAlG,GAAAxF,EAAAuP,IAAA7D,EAAApG,GAAAkK,KAAAC,IAAAzP,EAAA0P,EAAAhE,EAAAnG,MAAAoF,EAAAiE,QAAA,CACA,GAAA5O,EAAA4F,EAAA,GAAA8F,EAAA9F,GAAA5F,EAAA4F,EAAA,SACA4B,EAAAvF,KAAAjC,GACA,OAKA,OAAAwH,GAGAnD,QACAqJ,MAAA,WACA/C,EAAAtG,SAGAsL,YAAA,SAAAvB,GACA,SAAAA,EAAArD,YAAAqD,EAAArD,WAAAC,EAAA,QAGAoD,EAAA1C,SAAAmB,MAAAC,QAAAsB,EAAA1C,YAGA0C,EAAA1C,OAAApI,OAAA,KAOA4D,UAAA,SAAAkH,GACA,OAAAzD,EAAAgF,YAAAvB,GAIAzP,EAAAiR,SAAsBC,OAAA,OAAAhB,IAAAlE,EAAAkE,IAAA,YAAAxK,KAAA+J,EAAA0B,YAAA,IAAsEjF,KAC5F,SAAArD,GACA,OAAAA,GAEA,WAEA,OADAe,EAAAmE,OAAA,mCACkByB,MAAA,8BATlB5F,EAAAmE,OAAA,cAAA0B,GACA7M,QAAAC,cAcAyJ,SAAA,SAAAmD,GACA,IAAAzD,EAAAgF,YAAAvB,GAEA,OADA7F,EAAAmE,OAAA,cAAA0B,GACA7M,QAAAC,YAGA,MAAA4M,EAAA1C,OAAApI,OAAA,CACA,IAAAyM,EAAApF,EAAA0E,YAAAjB,EAAA1C,OAAA,IACA,MAAAqE,EAAAzM,OACA,OAAA/B,QAAAC,QAAAuO,GAIA,OAAApR,EAAAiR,SAAsBC,OAAA,OAAAhB,IAAAlE,EAAAkE,IAAA,OAAAxK,KAAA+J,EAAA0B,YAAA,IAAkEjF,KACxF,SAAArD,GACA,IAAAA,EAAAnD,KACA,SAEAsG,EAAAtG,QACA,QAAA8C,EAAA,EAAwBA,EAAAK,EAAAnD,KAAAf,OAAkB6D,IAAA,CAC1C,IAAAwC,KACAA,EAAA0B,OAAA,IAAA2E,aAAAxI,EAAA6D,QACA1B,EAAAoB,WAAAvD,EAAAuD,WACApB,EAAAsG,KAAA,IAAAD,aAAAxI,EAAAnD,KAAA8C,GAAA8I,MACAtG,EAAA2B,MAAA,IAAA0E,aAAAxI,EAAAnD,KAAA8C,GAAAmE,OACA,IAAA4E,EAAA9J,SAAAoB,EAAAnD,KAAA8C,GAAAmI,IACAa,EAAAtK,WAAA2B,EAAAnD,KAAA8C,GAAAoI,IACA5F,EAAA4F,GAAAY,EACAxG,EAAA2F,GAAAY,EACAvG,EAAA+F,EAAAlI,EAAAnD,KAAA8C,GAAAuI,EACA/F,EAAA/D,EAAA4B,EAAAnD,KAAA8C,GAAA,EAAAK,EAAAnD,KAAA8C,GAAAvB,EAAA,EACA+E,EAAAtG,KAAApC,KAAA0H,GAEA,OAAAgB,EAAAtG,MAEA,WACA,YAKA+L,WAAA,SAAApF,EAAA/D,EAAAoJ,EAAAC,GACA,IAAAhF,EAAAgF,EAAA/E,GAAAP,GACAuF,EAAAF,EAAA9E,GAAAP,GACA,GAAAM,EAAArE,EACA,SAEA,IAAAjH,EAAAgL,EAAA/D,EAAAsJ,EACA,GAAAvQ,EAAA,cACA,QAAAmH,EAAA,EAAgBA,EAAA,IAAMA,IAAA,CACtB,IAAAvC,EAAA0G,EAAAgF,EAAA/E,GAAAvL,GAAAiH,EACA,GAAAuI,KAAAC,IAAA7K,GAAA,KACA,OAAA5E,EAIA,IADAA,IADA4E,EAAA2L,GAEA,cACAA,EAAAF,EAAA9E,GAAAvL,GAEA,UAGAwQ,kBAAA,SAAAnM,EAAA2G,GACA,IAAAyF,EAAA,IAAArF,EAAA,EAAA/G,EAAAgH,OAAAhH,EAAA4L,MACA9E,EAAA,IAAAC,EAAA,EAAA/G,EAAAgH,OAAAhH,EAAAiH,OACAA,EAAAH,EAAAI,GAAAP,GAGAlD,EAAA,IACAA,EAAA,MAAAA,EAAA,KACAA,EAAA,KAAAA,EAAA,IAEA,IAAA4I,EAAA1F,EAAA,EACA0F,EAAA,OAAAA,EAAA,MAEA,IAAAC,EAAA,IAAAX,aAAAlI,GACA8I,EAAA,IAAAZ,aAAAlI,GACA+I,EAAA,IAAAb,aAAAlI,GACAgJ,EAAA,IAAAd,aAAAlI,GAEA9H,EAAAgL,EACA2F,EAAA,KACAC,EAAA,GAAA5Q,EACA6Q,EAAA,KACAC,EAAA,GAAAL,EAAAlF,GAAAP,GACA,QAAA7D,EAAA,EAAkBA,EAAAW,EAAOX,IAAA,CACzBnH,GAAA0Q,EACAE,EAAAzJ,GAAAnH,EACA,IAAA+Q,EAAAzF,EAAAH,EAAAI,GAAAvL,GACA2Q,EAAAxJ,GAAA4J,EACA,IAAAC,EAAAhG,EAAAhL,EACA6Q,EAAA1J,GAAA6J,EAAA3M,EAAA0G,WAAAzF,EACAwL,EAAA3J,GAAAsJ,EAAAlF,GAAAvL,GAEA,OAAA2Q,EAAAC,EAAAC,EAAAC,IAGAlG,eAAA,WACA,IAAAc,EAAAnD,EAAA1B,aAAAC,GAAAC,OACA,UAAA2E,EAAApI,QAAA,GAAAoI,EAAA,GAAAvQ,GACAoG,QAAAC,SAAA+G,EAAAwC,WAAA9H,MAAA+H,IAEAL,EAAAM,SAAAN,EAAAsE,WAAApE,KAAA,WAGA,IAFA,IAAAC,KACA9K,EAAAuI,EAAAwC,WAAA9H,MAAA+H,EACA7D,EAAA,EAAgBA,EAAAuE,EAAApI,OAAgB6D,IAAA,CAChC,IAAA9C,EAAAsG,EAAA0E,YAAA3D,EAAAvE,IACA,MAAA9C,EAAAf,OAGA,OAFAmH,QAAAC,IAAA,8BAAArG,EAAAf,QACAiF,EAAAmE,OAAA,oBAAArI,EAAAf,WAGA,IAAAkE,EAAAmD,EAAA6F,kBAAAnM,EAAA,GAAArE,GAEAA,EADA,IAAAoL,EAAA,EAAA5D,EAAA,GAAAA,EAAA,IACA+D,GAAA,KAAAG,EAAAvE,GAAAhM,IACA2P,EAAA7I,KAAAjC,GAEA,OAAA8K,KAKAmD,YAAA,SAAAnO,GACA,OAAAnB,EAAAiR,SAAsBC,OAAA,OAAAhB,IAAAlE,EAAAkE,IAAA,OAAAxK,MAA4CvE,UClRlEmR,KAwIA,SAAAtU,EAAAwB,GACA,OAAAQ,EAAA,OAAoBC,MAAAhE,EAAA+B,eACpBgC,EAAA,SAAmBC,MAAAhE,EAAAgC,MAAAyM,IAAAlL,EAAA2B,IAA+B3B,EAAAvB,OAClD+B,EAAA,SACAC,MAAA,KACAkB,GAAA3B,EAAA2B,IAAA,MAAA3B,EAAAvB,MACAuD,MAAAhC,EAAAgC,MACAV,KAAAtB,EAAAsB,MAAA,OACA6J,YAAAnL,EAAAmL,aAAA,GACAhH,MAAAnE,EAAAmE,OAAA,GACAiH,QAAApL,EAAAoL,YAhJA0H,EAAA7J,MACA6J,EAAAxF,OACAwF,EAAAlO,OAAA,WACAkO,EAAAxF,IAAAlD,EAAAwC,WACAkG,EAAA7J,GAAA8J,WACA3I,EAAAC,eAGAyI,EAAA7J,GAAA8J,SAAA,WAEAD,EAAA7J,GAAA+J,OAAAF,EAAAxF,IAAAxI,MAAAkO,OACAF,EAAA7J,GAAA9B,EAAA2L,EAAAxF,IAAAxI,MAAAqC,EACA2L,EAAA7J,GAAA5B,EAAAyL,EAAAxF,IAAAxI,MAAAuC,EACAyL,EAAA7J,GAAA4F,EAAAiE,EAAAxF,IAAAxI,MAAA+J,EACAiE,EAAA7J,GAAA4D,EAAAiG,EAAAxF,IAAAxI,MAAA+H,EAAAjF,QAAA,GACAkL,EAAA7J,GAAAgK,KAAAH,EAAAxF,IAAAxI,MAAAmO,KAAArL,QAAA,GACAkL,EAAA7J,GAAAiK,KAAAJ,EAAAxF,IAAAxI,MAAAoO,KAAAtL,QAAA,GACAkL,EAAA7J,GAAAkK,MAAAL,EAAAxF,IAAAxI,MAAAqO,MAAAvL,QAAA,GACAkL,EAAA7J,GAAAmK,EAAAN,EAAAxF,IAAAxI,MAAAsO,EAAAxL,QAAA,GACAkL,EAAA7J,GAAAoK,IAAAP,EAAAxF,IAAAxI,MAAAuO,IAAAzL,QAAA,GACAD,MAAAmL,EAAA7J,GAAAoK,OACAP,EAAA7J,GAAAoK,IAAA,IAEAjJ,EAAAC,eAGAyI,EAAA7J,GAAAqK,aAAA,SAAAC,GACAT,EAAA7J,GAAA+J,OAAAO,EACAT,EAAAxF,IAAAkG,iBAAAD,IACAT,EAAA7J,GAAA8J,YAKAD,EAAA7J,GAAAY,QAAA,SAAAT,GACA0J,EAAA7J,GAAA9B,EAAAiC,EACA,IAAAO,EAAAjC,WAAA0B,IACAzB,MAAAgC,IAAAmJ,EAAAxF,IAAAI,IAAAvG,EAAAwC,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAA9B,EAAAiC,IAIA0J,EAAA7J,GAAAS,QAAA,SAAAN,GACA0J,EAAA7J,GAAA5B,EAAA+B,EACA,IAAAO,EAAAjC,WAAA0B,IACAzB,MAAAgC,IAAAmJ,EAAAxF,IAAAI,IAAArG,EAAAsC,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAA5B,EAAA+B,IAIA0J,EAAA7J,GAAAwK,QAAA,SAAArK,GACA0J,EAAA7J,GAAA4F,EAAAzF,EACA,IAAAO,EAAAjC,WAAA0B,IACAzB,MAAAgC,IAAAmJ,EAAAxF,IAAAI,IAAAmB,EAAAlF,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAA4F,EAAAzF,IAIA0J,EAAA7J,GAAAyK,QAAA,SAAAtK,GACA0J,EAAA7J,GAAA4D,EAAAzD,EACA,IAAAO,EAAAjC,WAAA0B,GACAzB,MAAAgC,IACAmJ,EAAAxF,IAAAI,IAAAb,EAAAlD,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAA4D,EAAAzD,IAIA0J,EAAA7J,GAAA0K,WAAA,SAAAvK,GACA0J,EAAA7J,GAAAiK,KAAA9J,EACA,IAAAO,EAAAjC,WAAA0B,GACAzB,MAAAgC,IACAmJ,EAAAxF,IAAAI,IAAAwF,KAAAvJ,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAAiK,KAAA9J,IAIA0J,EAAA7J,GAAA2K,YAAA,SAAAxK,GACA0J,EAAA7J,GAAAkK,MAAA/J,EACA,IAAAO,EAAAjC,WAAA0B,GACAzB,MAAAgC,IACAmJ,EAAAxF,IAAAI,IAAAyF,MAAAxJ,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAAkK,MAAA/J,IAIA0J,EAAA7J,GAAA4K,WAAA,SAAAzK,GACA0J,EAAA7J,GAAAgK,KAAA7J,EACA,IAAAO,EAAAjC,WAAA0B,GACAzB,MAAAgC,IACAmJ,EAAAxF,IAAAI,IAAAuF,KAAAtJ,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAAgK,KAAA7J,IAIA0J,EAAA7J,GAAA6K,QAAA,SAAA1K,GACA0J,EAAA7J,GAAAmK,EAAAhK,EACA,IAAAO,EAAAjC,WAAA0B,GACAzB,MAAAgC,IACAmJ,EAAAxF,IAAAI,IAAA0F,EAAAzJ,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAAmK,EAAAhK,IAIA0J,EAAA7J,GAAA8K,UAAA,SAAA3K,GACA0J,EAAA7J,GAAAoK,IAAAjK,EACA,IAAAO,EAAAjC,WAAA0B,GACAzB,MAAAgC,IACAmJ,EAAAxF,IAAAI,IAAA2F,IAAA1J,KACAmJ,EAAA7J,GAAA8J,WACAD,EAAA7J,GAAAoK,IAAAjK,IAIA0J,EAAA7J,GAAA+K,KAAA,WACAlB,EAAAxF,IAAAxI,MAAA+H,EAAAL,EAAAgE,aACA5F,MAAA,6BAAA4B,EAAAgE,WAAA,UACAsC,EAAAxF,IAAAI,IAAAb,EAAAL,EAAAgE,aAEAsC,EAAAxF,IAAAxI,MAAA+H,EAAAL,EAAA+D,YACA3F,MAAA,wBAAA4B,EAAA+D,WAAA,UAGAnG,EAAAE,OACA9J,EAAAF,MAAA9D,IAAA,MAiBAsW,EAAA7O,KAAA,SAAAC,GACA,IAAA+P,EAAA,SAAApS,GACA,OAAArB,EAAA,OAAsBC,MAAAhE,EAAAY,UAAsBwE,IAG5CoH,EAAA/E,EAAAY,MAAAmE,GACAiL,EAAAnM,EAAA,EAAAC,WAAA8K,EAAAxF,IAAAxI,MAAAqC,EAAA2L,EAAAxF,IAAAxI,MAAAuC,GACA8M,EAAApM,EAAA,EAAAqM,QAAAtB,EAAAxF,IAAAxI,MAAAqC,EAAA2L,EAAAxF,IAAAxI,MAAAuC,GAEA,OAAA7G,EAAA,OAEAA,EAAA,mBACAA,EAAA,OAAaC,MAAAhE,EAAAU,UACb8W,EAAAzV,GAA2BC,MAAA,SAAA0M,YAAA,SAAAhH,MAAA,YAAAnC,MAAAiH,EAAA+J,OAAA5H,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAAqK,aAAArK,MAC3BgL,EAAAzV,GAA2BC,MAAA,IAAA0F,MAAA,YAAAnC,MAAAiH,EAAA9B,EAAAiE,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAAY,QAAAZ,MAC3BgL,EAAAzV,GAA2BC,MAAA,IAAA0F,MAAA,YAAAnC,MAAAiH,EAAA5B,EAAA+D,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAAS,QAAAT,MAC3BgL,EAAAzV,GAA2BC,MAAA,IAAA0F,MAAA,YAAAnC,MAAAiH,EAAA4F,EAAAzD,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAAwK,QAAAxK,QAE3BzI,EAAA,OAAaC,MAAAhE,EAAAU,UACb8W,EAAAzV,GAA2BC,MAAA,iBAAA0F,MAAA,YAAAnC,MAAAiH,EAAA4D,EAAAzB,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAAyK,QAAAzK,MAC3BgL,EAAAzV,GAA2BC,MAAA,YAAA0F,MAAA,YAAAnC,MAAAiH,EAAAgK,KAAA7H,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAA4K,WAAA5K,MAC3BgL,EAAAzV,GAA2BC,MAAA+B,EAAA6K,MAAA,UAAqBlH,MAAA,YAAAnC,MAAAiH,EAAAiK,KAAA9H,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAA0K,WAAA1K,MAChDgL,EAAAzV,GAA2BC,MAAA+B,EAAA6K,MAAA,UAAqBlH,MAAA,YAAAnC,MAAAiH,EAAAkK,MAAA/H,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAA2K,YAAA3K,QAEhDzI,EAAA,OAAaC,MAAAhE,EAAAU,UACb8W,EAAAzV,GAA2BC,MAAA+B,EAAA6K,MAAA,aAAAlH,MAAA,YAAAnC,MAAAiH,EAAAmK,EAAAhI,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAA6K,QAAA7K,MAC3BgL,EAAAzV,GAA2BC,MAAA+B,EAAA6K,MAAA,kBAAAlH,MAAA,YAAAnC,MAAAiH,EAAAoK,IAAAjI,QAAA5K,EAAAqF,SAAA,QAAAoD,EAAA8K,UAAA9K,QAE3BzI,EAAA,OAAaC,MAAAhE,EAAAU,UACbqD,EAAA,MAAgBC,MAAAhE,EAAAiC,KAChB8B,EAAA,MAAwBC,MAAAhE,EAAAkC,IAAgB,QAAAmU,EAAAxF,IAAAxI,MAAAmM,GAAArJ,QAAA,SACxCpH,EAAA,MAAwBC,MAAAhE,EAAAkC,IAAgB,SAAAmU,EAAAxF,IAAAxI,MAAAuP,IAAAzM,QAAA,IACxCsM,EAAAnN,eAAA,KAAAvG,EAAA,MAAsDC,MAAAhE,EAAAkC,IAAgB,eAAAuV,EAAArH,GAAA,KACtEsH,EAAApN,eAAA,MAAAvG,EAAA,MAAoDC,MAAAhE,EAAAkC,IAAgB,QAAAwV,EAAAG,GAAA1M,QAAA,gBACpEuM,EAAApN,eAAA,MAAAvG,EAAA,MAAoDC,MAAAhE,EAAAkC,IAAgB,QAAAwV,EAAAI,GAAA3M,QAAA,gBACpEuM,EAAApN,eAAA,OAAAvG,EAAA,MAAqDC,MAAAhE,EAAAkC,IAAgB,SAAAwV,EAAAK,IAAA5M,QAAA,gBACrEuM,EAAApN,eAAA,OAAAvG,EAAA,MAAqDC,MAAAhE,EAAAkC,IAAgB,SAAAwV,EAAAM,IAAA7M,QAAA,gBACrEsM,EAAAnN,eAAA,UAAAvG,EAAA,MAA2DC,MAAAhE,EAAAkC,IAAgB,4DAG3E6B,EAAA,OAAaC,MAAAhE,EAAAU,SAEbwD,EAAA,OAAAsI,EAAA+K,KAAAvX,EAAAkB,iBAKA,IAAA+W,GACAzQ,KAAA,SAAAC,GACA,IAAAY,EAAAZ,EAAAE,MAAAuQ,QAAA7P,MACA,OAAAtE,EAAA,OAAkBC,MAAAhE,EAAAS,aAElBsD,EAAA,QAAkBC,MAAAhE,EAAA8B,IAAgBiC,EAAA6K,MAAAvG,EAAAkO,OAAA,QAAAlO,EAAA+J,EAAA,YAClCrO,EAAA,KAAeC,MAAA,OACf,OAAAqE,EAAA+H,EAAA,KAAAhM,EAAAiE,EAAA+H,EAAAxG,YAAA,IAAAvB,EAAA+H,EAAAxG,YAAA,YAAA7F,EAAA,MACAA,EAAA6K,MAAA,YAAAvG,EAAAmO,KAAA5M,YAAA,SAAA7F,EAAA,MACA,QAAAsE,EAAAmM,GAAArJ,QAAA,QAAApH,EAAA,MACA,SAAAsE,EAAAuP,IAAAzM,QAAA,GAAApH,EAAA,QAEAH,EAAA,2BCrNAuU,GAAA,EAcA,SAAAC,EAAAC,GACA1Y,KAAAuF,GAAAmT,EAAAnT,IAAA,aACAvF,KAAA8I,OAAA4P,EAAA5P,WACA9I,KAAA2Y,OACAC,QAAA,kDACA5S,MAAA,GACA6S,UAAoB3T,KAAA,OACpBkE,MAAAsP,EAAAtP,OAAA,IACAC,OAAAqP,EAAArP,QAAA,IACAS,MACAhB,OAAA9I,KAAA8I,QAEAgQ,WACAC,MAAwB7T,KAAA,WAAAuD,KAAA,WAGxBuQ,KAAAN,EAAAM,MAAA,SACAC,UACAC,GAAsBC,MAAAT,EAAAQ,GAAA,GAAAhU,KAAA,eAAAkU,OAAkDlU,KAAAwT,EAAAW,aAAA,SAAAC,MAAA,GAA4CC,MAASvT,MAAA0S,EAAAc,SAAA,KAC7HC,GAAsBN,MAAAT,EAAAe,GAAA,GAAAvU,KAAA,eAAAkU,OAAkDlU,KAAAwT,EAAAgB,aAAA,SAAAJ,MAAA,GAA4CC,MAASvT,MAAA0S,EAAAiB,SAAA,KAC7HC,OAA2BT,MAAAT,EAAAkB,OAAA,GAAA1U,KAAA,UAAA2U,OAAAnB,EAAAmB,QAAA,QAI3BpB,EAAAxY,UAAA6Z,WAAA,SAAAjV,GACA7E,KAAA2Y,MAAA7O,KAAAhB,OAAAjE,GAGA4T,EAAAxY,UAAAqJ,UAAA,SAAAyQ,GACA/Z,KAAA2Y,MAAAvP,MAAA2Q,GAGAtB,EAAAxY,UAAAsJ,WAAA,SAAAyQ,GACAha,KAAA2Y,MAAAtP,OAAA2Q,GAGAvB,EAAAxY,UAAAga,UAAA,SAAAjU,GACAhG,KAAA2Y,MAAA3S,SAGAyS,EAAAxY,UAAAia,MAAA,SAAArV,EAAAmB,GACAhG,KAAA2Y,MAAAM,SAAAC,EAAAC,MAAAtU,EACAmB,GACAhG,KAAAma,YAAAnU,IAGAyS,EAAAxY,UAAAka,YAAA,SAAAnU,GACAhG,KAAA2Y,MAAAM,SAAAC,EAAAK,KAAAvT,SAGAyS,EAAAxY,UAAAma,gBAAA,SAAAlV,GACAlF,KAAA2Y,MAAAM,SAAAC,EAAAE,MAAAlU,QAGAuT,EAAAxY,UAAAoa,gBAAA,SAAAnV,GACAlF,KAAA2Y,MAAAM,SAAAQ,EAAAL,MAAAlU,QAIAuT,EAAAxY,UAAAqa,MAAA,SAAAzV,EAAAmB,GACAhG,KAAA2Y,MAAAM,SAAAQ,EAAAN,MAAAtU,EACAmB,GACAhG,KAAAua,YAAAvU,IAGAyS,EAAAxY,UAAAsa,YAAA,SAAAvU,GACAhG,KAAA2Y,MAAAM,SAAAQ,EAAAF,KAAAvT,SAGAyS,EAAAxY,UAAAua,gBAAA,SAAAxN,GACAhN,KAAA2Y,MAAAM,SAAAW,MAAAT,MAAAnM,GAGAyL,EAAAxY,UAAAwa,iBAAA,SAAAzN,GACAhN,KAAA2Y,MAAAM,SAAAW,MAAAC,OAAA7T,MAAAgH,GAGAyL,EAAAxY,UAAAuJ,KAAA,WACA,GAAAgP,EACAkC,UAAA,IAAA1a,KAAAuF,GAAAvF,KAAA2Y,OAA0CgC,KAAA,YAAAC,SAAA,QAE1C,CACA,IAAAC,EAAA7a,KA7FA0G,GACA,0CACA,mDACA,mDACA4J,KAAA,WAEA,OADAkI,GAAA,IAyFAlI,KAAA,WACAoK,UAAA,IAAAG,EAAAtV,GAAAsV,EAAAlC,OAA8CgC,KAAA,YAAAC,SAAA,QC/F9C,IAAAE,GACA5B,EAAA,SACAO,EAAA,OACAJ,YAAA,MACAK,YAAA,MACAF,QAAA,iBACAG,QAAA,oBACAC,MAAA,WACAC,WAGAkB,GACAjS,UACAkS,OAAA,GAEAC,MAAA,WACAF,EAAA9R,IAAA,IAAAwP,EAAAqC,GACAC,EAAAjS,UACAiS,EAAAC,OAAA,IAGAE,OAAA,WACAH,EAAA9R,IAAAO,QAIA8F,KAAA,SAAAxF,GACAiR,EAAAjS,UACAgB,EAAAf,OAAA,IACAe,EAAAjD,QAAA,SAAAuI,GACA,QAAAxC,EAAA,EAAoBA,EAAAwC,EAAA0B,OAAA/H,OAAsB6D,IAAA,CAC1C,IAAAhN,EAAAwP,EAAA2F,GAAA,IAAAjJ,EAAA,EAAAC,UAAAqD,EAAA4F,GAAA5F,EAAA2F,IAAAzK,EAAA,EAAAC,IAAA6E,EAAA2F,IAAAnV,KACAmb,EAAAjS,OAAApB,MAAkCoJ,OAAA1B,EAAA0B,OAAAlE,GAAA8I,KAAAtG,EAAAsG,KAAA9I,GAAAmE,MAAA3B,EAAA2B,MAAAnE,GAAAuO,SAAAvb,OAGlCmb,EAAA9R,IAAAgR,UAAA,eAAAjM,EAAAwC,WAAA4K,oBACAL,EAAA9R,IAAA6Q,WAAAiB,EAAAjS,UAIAa,eACK/D,MAAA,OAAAhG,KAAA,SACAgG,MAAA,QAAAhG,KAAA,UAGL8J,cAAA,SAAA2R,GACA,QAAAA,IACAN,EAAA9R,IAAA0P,MAAAM,SAAAQ,EAAAF,KAAAvT,MAAA,oBACA+U,EAAA9R,IAAA0P,MAAAM,SAAAQ,EAAAN,MAAAkC,EACAN,EAAA9R,IAAA0P,MAAAM,SAAAQ,EAAAL,MAAAlU,KAAA,OAEA,SAAAmW,IACAN,EAAA9R,IAAA0P,MAAAM,SAAAQ,EAAAF,KAAAvT,MAAA,gBACA+U,EAAA9R,IAAA0P,MAAAM,SAAAQ,EAAAN,MAAAkC,EACAN,EAAA9R,IAAA0P,MAAAM,SAAAQ,EAAAL,MAAAlU,KAAA,OAEA6V,EAAAG,WCvDAI,GACApC,EAAA,KACAO,EAAA,OACAD,QAAA,oBACAG,QAAA,qBACAC,MAAA,YAGA2B,GACAzS,UACAkS,OAAA,GAEAC,MAAA,WACAM,EAAAtS,IAAA,IAAAwP,EAAA6C,GACAC,EAAAzS,UACAyS,EAAAP,OAAA,IAGAE,OAAA,WACAK,EAAAtS,IAAAO,QAGAgS,QAAA,GAEAlM,KAAA,SAAAxF,GAEA,GADAyR,EAAAzS,UACA,GAAAgB,EAAAf,OAAA,CAGA,IAFA,IAAAqG,EAAAtF,EAAA,GACAmD,EAAAmD,EAAA6F,kBAAA7G,EAAApB,EAAAwC,WAAA9H,MAAA+H,GACA7D,EAAA,EAAgBA,EAAAK,EAAA,GAAAlE,OAAgB6D,IAAA,CAChC,IAAAhN,EAAAwP,EAAA2F,GAAA,IAAAjJ,EAAA,EAAAC,UAAAqD,EAAA4F,GAAA5F,EAAA2F,IAAAzK,EAAA,EAAAC,IAAA6E,EAAA2F,IAAAnV,KACA2b,EAAAC,QAAA5b,EACA2b,EAAAzS,OAAApB,MAAsC9G,GAAAqM,EAAA,GAAAL,GAAA6O,KAAAxO,EAAA,GAAAL,GAAA0J,MAAArJ,EAAA,GAAAL,GAAA8I,KAAAzI,EAAA,GAAAL,GAAAuO,SAAAvb,IAEtC2b,EAAAtS,IAAA6Q,WAAAyB,EAAAzS,UAGAa,eACK/D,MAAA,OAAAhG,KAAA,iBACAgG,MAAA,QAAAhG,KAAA,gBACAgG,MAAA,OAAAhG,KAAA,SAGL8J,cAAA,SAAA2R,GACA,QAAAA,IACAE,EAAAtS,IAAA0P,MAAA3S,MAAA,aAAAuV,EAAAC,QAAA,iBAAAxN,EAAAwC,WAAA4K,mBAAA,SAAApN,EAAAwC,WAAA9H,MAAA+H,EAAAxG,YAAA,WAOAsR,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAF,KAAAvT,MAAA,eACAuV,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAL,MAAAlU,KAAA,SACAqW,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAN,MAAAkC,GAEA,SAAAA,IASAE,EAAAtS,IAAA0P,MAAA3S,MAAA,aAAAuV,EAAAC,QAAA,iBAAAxN,EAAAwC,WAAA4K,mBAAA,SAAApN,EAAAwC,WAAA9H,MAAA+H,EAAAxG,YAAA,WACAsR,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAF,KAAAvT,MAAA,oBACAuV,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAL,MAAAlU,KAAA,SACAqW,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAN,MAAAkC,GAEA,QAAAA,IASAE,EAAAtS,IAAA0P,MAAA3S,MAAA,aAAAuV,EAAAC,QAAA,iBAAAxN,EAAAwC,WAAA4K,mBAAA,SAAApN,EAAAwC,WAAA9H,MAAA+H,EAAAxG,YAAA,WACAsR,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAF,KAAAvT,MAAA,mBACAuV,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAL,MAAAlU,KAAA,MACAqW,EAAAtS,IAAA0P,MAAAM,SAAAQ,EAAAN,MAAAkC,GAIAE,EAAAL,WCvFAQ,GAEA7T,KAAA,WACA,OAAAzD,EAAA,OAAqBC,MAAAhE,EAAAS,aACrBsD,EAAA,OAAiBC,MAAAhE,EAAA+B,eAEjBgC,EAAA,MAAoBC,MAAAhE,EAAA6B,gBAA4B,YAChDvC,EAAAiK,IAAA,SAAAG,GACA,OAAAiE,EAAAtF,MAAA7I,OAAAK,QAAA6J,EAAAlK,QACA0E,EAAAwF,EAAAnK,MAEAwE,EAAA,KAC6BC,MAAAhE,EAAAqB,gBAC7B4C,QAAA,WACA0J,EAAAtF,MAAA7I,OAAAO,IAAA2J,EAAAlK,QACAmO,EAAAC,cACAD,EAAAE,SAGAnE,EAAAnK,UAeAwE,EAAA,OAAiBC,MAAAhE,EAAA+B,cAA0B6B,EAAA,iBCjC3C0X,EAsZA,WACA,IAAAC,EACArT,EAAA1C,SAAAuB,cAAA,0BACAyU,GACAC,WAAA,gBACAC,YAAA,iBACAC,cAAA,gBACAC,iBAAA,uBAGA,IAAAL,KAAAC,EACA,QAAAK,IAAA3T,EAAAR,MAAA6T,GACA,OAAAC,EAAAD,GAlaAO,GAEA,SAAAC,EAAAjN,GAeAnP,KAAAqc,KA0XA,WACA,QAAAzP,EAAA,EAAuBA,EAAA/I,UAAAkF,OAAsB6D,IAC7C,QAAAhC,KAAA/G,UAAA+I,GACA/I,UAAA+I,GAAAjC,eAAAC,KACA/G,UAAA,GAAA+G,GAAA/G,UAAA+I,GAAAhC,IAIA,OAAA/G,UAAA,GAlYAyY,KAZAC,QAAA,KACAC,OAAA,KACAC,WAAA,KACAC,YAAA,KACAC,cAAA,EACAna,QAAA,EACAoa,YACAC,WAAA,QACAC,cAAA,8BAI6B3N,GAG7BnP,KAAAD,OAmPA,SAAAgd,IACA/c,KAAAgd,iBAGAhd,KAAAgd,eAAAjV,MAAAqB,MAAApJ,KAAAid,SAAA/T,YAAA,KACAlJ,KAAAgd,eAAAjV,MAAAmV,KAAAld,KAAAid,SAAAE,WAAA,MArPAf,EAAAnc,UAAAF,KAAA,WACAC,KAAAod,QAuPA,WAGApd,KAAAod,MAAAvX,SAAAuB,cAAA,OACApH,KAAAod,MAAAC,UAAAC,IAAA,iBAGA,IAAAtd,KAAAqc,KAAAS,aAAA/T,SAAA,IAAA/I,KAAAqc,KAAAS,aAAAS,QAAA,aACAvd,KAAAod,MAAAC,UAAAC,IAAA,gCAGAtd,KAAAod,MAAArV,MAAAM,QAAA,OAGArI,KAAAqc,KAAAO,SAAA/V,QAAA,SAAAkD,GACA,iBAAAA,GACA/J,KAAAod,MAAAC,UAAAC,IAAAvT,IAES/J,OAGT,IAAAA,KAAAqc,KAAAS,aAAAS,QAAA,YACAvd,KAAAwd,cAAA3X,SAAAuB,cAAA,UACApH,KAAAwd,cAAAH,UAAAC,IAAA,uBAEAtd,KAAAyd,kBAAA5X,SAAAuB,cAAA,QACApH,KAAAyd,kBAAAJ,UAAAC,IAAA,2BACAtd,KAAAyd,kBAAAC,UAAA,IAEA1d,KAAA2d,mBAAA9X,SAAAuB,cAAA,QACApH,KAAA2d,mBAAAN,UAAAC,IAAA,4BACAtd,KAAA2d,mBAAAD,UAAA1d,KAAAqc,KAAAQ,WAEA7c,KAAAwd,cAAA/V,YAAAzH,KAAAyd,mBACAzd,KAAAwd,cAAA/V,YAAAzH,KAAA2d,qBAIA3d,KAAAid,SAAApX,SAAAuB,cAAA,OACApH,KAAAid,SAAAI,UAAAC,IAAA,oBAGAtd,KAAA4d,gBAAA/X,SAAAuB,cAAA,OACApH,KAAA4d,gBAAAP,UAAAC,IAAA,6BAEAtd,KAAAid,SAAAxV,YAAAzH,KAAA4d,kBAEA,IAAA5d,KAAAqc,KAAAS,aAAAS,QAAA,WACAvd,KAAAod,MAAA3V,YAAAzH,KAAAwd,eAGAxd,KAAAod,MAAA3V,YAAAzH,KAAAid,WAtSA5W,KAAArG,MAgTA,WAEAA,KAAA6d,SACAC,cAAA9d,KAAA+d,MAAAtV,KAAAzI,MACAge,aAqBA,SAAAC,IAEA,IAAAje,KAAAqc,KAAAS,aAAAS,QAAA,aAMA,SAAAhV,EAAA2V,GACA,MAAA3V,IAAA4V,iBAAA5V,EAAA8U,UAAAe,SAAAF,KACA,OAAA3V,EARA8V,CAAAJ,EAAAvY,OAAA,iBACAuY,EAAAK,QAAAte,KAAAod,MAAAlU,aACAlJ,KAAA+d,SAzBAtV,KAAAzI,MACAue,OAAAve,KAAAwe,cAAA/V,KAAAzI,MACAye,YAYA,SAAAR,IAEA,IAAAje,KAAAqc,KAAAS,aAAAS,QAAA,gBAAAU,EAAAS,OAAA1e,KAAA2e,UACA3e,KAAA+d,SAfAtV,KAAAzI,QAGA,IAAAA,KAAAqc,KAAAS,aAAAS,QAAA,WACAvd,KAAAwd,cAAAoB,iBAAA,QAAA5e,KAAA6d,QAAAC,eAGA9d,KAAAod,MAAAwB,iBAAA,YAAA5e,KAAA6d,QAAAG,cACAzM,OAAAqN,iBAAA,SAAA5e,KAAA6d,QAAAU,QACA1Y,SAAA+Y,iBAAA,UAAA5e,KAAA6d,QAAAY,cA9TApY,KAAArG,MAGA6F,SAAAgZ,KAAAC,aAAA9e,KAAAod,MAAAvX,SAAAgZ,KAAAE,YAEA/e,KAAAqc,KAAA7Z,QACAxC,KAAAgf,cAIA5C,EAAAnc,UAAAgf,QAAA,WACA,OAAAjf,KAAAod,QA0UA,YACA,IAAApd,KAAAqc,KAAAS,aAAAS,QAAA,WACAvd,KAAAwd,cAAA0B,oBAAA,QAAAlf,KAAA6d,QAAAC,eAEA9d,KAAAod,MAAA8B,oBAAA,YAAAlf,KAAA6d,QAAAG,cACAzM,OAAA2N,oBAAA,SAAAlf,KAAA6d,QAAAU,QACA1Y,SAAAqZ,oBAAA,UAAAlf,KAAA6d,QAAAY,cA3UApY,KAAArG,MAGAA,KAAAod,MAAA+B,WAAAC,YAAApf,KAAAod,OAEApd,KAAAod,MAAA,OAIAhB,EAAAnc,UAAAof,KAAA,WAEA,IAAAC,EAAAtf,KAGA,mBAAAsf,EAAAjD,KAAAI,YACA6C,EAAAjD,KAAAI,aAGAzc,KAAAod,MAAArV,MAAAwX,eACAvf,KAAAod,MAAArV,MAAAwX,eAAA,WAEAvf,KAAAod,MAAArV,MAAAyX,gBAAA,WAIAxf,KAAAyf,gBAAAlO,OAAAmO,YACA7Z,SAAAgZ,KAAAxB,UAAAC,IAAA,kBACAzX,SAAAgZ,KAAA9W,MAAA4X,KAAA3f,KAAAyf,gBAAA,KAGAzf,KAAA4f,gBAAA5f,KAAAqc,KAAAM,cAGA3c,KAAAod,MAAAC,UAAAC,IAAA,yBAEA3B,EACA3b,KAAAod,MAAAwB,iBAAAjD,EAAA,SAAAkE,IACA,mBAAAP,EAAAjD,KAAAG,QACA8C,EAAAjD,KAAAG,OAAAnW,KAAAiZ,GAIAA,EAAAlC,MAAA8B,oBAAAvD,EAAAkE,GAAA,KAEa,GAEb,mBAAAP,EAAAjD,KAAAG,QACA8C,EAAAjD,KAAAG,OAAAnW,KAAAiZ,GAKAtf,KAAAwe,iBAGApC,EAAAnc,UAAA0e,OAAA,WACA,QAAA3e,KAAAod,MAAAC,UAAAe,SAAA,0BAGAhC,EAAAnc,UAAA8d,MAAA,WAGA,sBAAA/d,KAAAqc,KAAAK,cACA1c,KAAAqc,KAAAK,YAAArW,KAAArG,MACA,OAGA6F,SAAAgZ,KAAAxB,UAAAyC,OAAA,kBACAvO,OAAAwO,SAAA,EAAA/f,KAAAyf,iBACA5Z,SAAAgZ,KAAA9W,MAAA4X,IAAA,KAEA3f,KAAAod,MAAAC,UAAAyC,OAAA,yBAIA,IAAAR,EAAAtf,KAEA2b,EAEA3b,KAAAod,MAAAwB,iBAAAjD,EAAA,SAAAkE,IAEAP,EAAAlC,MAAA8B,oBAAAvD,EAAAkE,GAAA,GAEAP,EAAAlC,MAAArV,MAAAM,QAAA,OAGA,mBAAAiX,EAAAjD,KAAAE,SACA+C,EAAAjD,KAAAE,QAAAlW,KAAArG,QAGa,IAEbsf,EAAAlC,MAAArV,MAAAM,QAAA,OAEA,mBAAAiX,EAAAjD,KAAAE,SACA+C,EAAAjD,KAAAE,QAAAlW,KAAArG,QAKAoc,EAAAnc,UAAA+f,WAAA,SAAA/X,GAEA,iBAAAA,EACAjI,KAAA4d,gBAAAF,UAAAzV,GAEAjI,KAAA4d,gBAAAF,UAAA,GACA1d,KAAA4d,gBAAAnW,YAAAQ,IAGAjI,KAAA2e,UAEA3e,KAAAwe,iBAIApC,EAAAnc,UAAAggB,WAAA,WACA,OAAAjgB,KAAA4d,iBAGAxB,EAAAnc,UAAA+e,UAAA,YAkKA,WACAhf,KAAAgd,eAAAnX,SAAAuB,cAAA,OACApH,KAAAgd,eAAAK,UAAAC,IAAA,4BACAtd,KAAAid,SAAAxV,YAAAzH,KAAAgd,kBAnKA3W,KAAArG,OAGAoc,EAAAnc,UAAAigB,iBAAA,SAAAjY,GAEAjI,KAAAgd,eAAAU,UAAAzV,GAGAmU,EAAAnc,UAAAkgB,iBAAA,WACA,OAAAngB,KAAAgd,gBAGAZ,EAAAnc,UAAA2f,gBAAA,SAAAQ,GAEApgB,KAAAqgB,eACAD,GAAA,GAGAA,EACApgB,KAAAid,SAAAmB,SAAApe,KAAAgd,kBACAhd,KAAAid,SAAAmC,YAAApf,KAAAgd,gBACAhd,KAAAod,MAAA3V,YAAAzH,KAAAgd,gBACAhd,KAAAgd,eAAAK,UAAAC,IAAA,oCACAP,EAAA1W,KAAArG,MACAA,KAAA4d,gBAAA7V,MAAA,kBAAA/H,KAAAgd,eAAA7T,aAAA,SAESnJ,KAAAgd,iBACThd,KAAAid,SAAAmB,SAAApe,KAAAgd,kBACAhd,KAAAod,MAAAgC,YAAApf,KAAAgd,gBACAhd,KAAAid,SAAAxV,YAAAzH,KAAAgd,gBACAhd,KAAAgd,eAAAjV,MAAAqB,MAAA,OACApJ,KAAAgd,eAAAjV,MAAAmV,KAAA,GACAld,KAAA4d,gBAAA7V,MAAA,qBACA/H,KAAAgd,eAAAK,UAAAyC,OAAA,uCAMA1D,EAAAnc,UAAAqgB,aAAA,SAAAje,EAAAua,EAAAnW,GACA,IAAA8Z,EAAA1a,SAAAuB,cAAA,UAiBA,OAdAmZ,EAAA7C,UAAArb,EAGAke,EAAA3B,iBAAA,QAAAnY,GAEA,iBAAAmW,KAAA7T,QAEA6T,EAAA4D,MAAA,KAAA3Z,QAAA,SAAAkD,GACAwW,EAAAlD,UAAAC,IAAAvT,KAIA/J,KAAAgd,eAAAvV,YAAA8Y,GAEAA,GAGAnE,EAAAnc,UAAAse,OAAA,WACArO,QAAAuQ,KAAA,4DAIArE,EAAAnc,UAAAogB,WAAA,WACA,IAAAK,EAAAnP,OAAAoP,YAGA,OAFA3gB,KAAAid,SAAA9T,cAEAuX,GAGAtE,EAAAnc,UAAAue,cAAA,WAEAxe,KAAAod,MAAAC,UAAAe,SAAA,2BACApe,KAAAqgB,aACArgB,KAAAod,MAAAC,UAAAC,IAAA,0BAEAtd,KAAAod,MAAAC,UAAAyC,OAAA,2BAKA9f,KAAAqgB,cAAArgB,KAAAqc,KAAAM,aACA3c,KAAA4f,iBAAA,GACa5f,KAAAqgB,cAAArgB,KAAAqc,KAAAM,eACbI,EAAA1W,KAAArG,MACAA,KAAA4f,iBAAA,MCjQA,IAAAgB,MACAA,GAAAxD,MAAA,IAAAhB,GAA0B5Z,QAAA,EAAAqa,WAAA,UAE1B+D,GAAAxD,MAAAkD,aAAA,gCACAM,GAAAxD,MAAAW,UAGA6C,GAAAC,YAAA,SAAA5Y,GACA2Y,GAAAxD,MAAA4C,WAAA/X,IAGA2Y,GAAAvB,KAAA,WACAuB,GAAAxD,MAAAiC,QAGAuB,GAAA7C,MAAA,WACA6C,GAAAxD,MAAAW,qBCVA+C,IACA/O,UACAgP,gBACAnJ,MAAA,EAEAlD,QAAA,WACA,IAAAvD,EAAA7E,EAAAC,GAAAC,OACAsU,GAAA3P,OAAA7E,EAAAC,GAAAC,OACA,QAAAI,EAAA,EAAcA,EAAAuE,EAAApI,OAAgB6D,IAE9BkU,GAAAC,aAAArZ,KAAAyJ,EAAAvE,GAAAhN,OAMAohB,cAAA,SAAA/T,GAIA,GAHAA,EAAA8E,SACA9E,EAAA8E,OAAAkP,QAAA,IAAAhU,EAAA8E,OAAAkP,SAEAhU,EAAAiU,QACA,QAAAzb,KAAAwH,EAAAiU,QACAjU,EAAAiU,QAAAzb,GAAAwb,QAAA,IAAAhU,EAAAiU,QAAAzb,GAAAwb,SAMAE,UAAA,WACA,KAAAnT,EAAAuF,WAAAvF,EAAA+D,QAAA+O,GAAAlJ,OAAA5J,EAAA+D,OAAA6B,MAAA,CAGAkN,GAAA/O,UACA+O,GAAAC,gBACAD,GAAAlJ,MAAA,EAEAkJ,GAAApM,UACA,IAAAb,EAAAzD,EAAAsE,UACAtE,EAAAzD,UAAAkH,GAAAvD,KACA,SAAArD,GACA,IAAAA,EAAA8E,QAAA9E,EAAA2G,MAKA,OAJAkN,GAAAlJ,MAAA,EACA5J,EAAAC,cACA6S,GAAA/O,QAA2C6B,MAAA,kDAC3CxP,EAAAgC,SAWA,GARA0a,GAAAlJ,MAAA,EACA5J,EAAAuF,WAAA,EACAuN,GAAAE,cAAA/T,GACA6T,GAAA/O,OAAA9E,EACAA,EAAA8E,SACA+O,GAAA/O,cAAA8E,KAAAuK,GAAA,EAAAC,YAAApU,EAAA8E,OAAA0J,KAAAxO,EAAAuD,WAAAzF,EAAAkC,EAAAuD,WAAAvF,GAAAhB,YAAA,GACA6W,GAAA/O,cAAA+E,KAAAsK,GAAA,EAAAE,YAAArU,EAAA8E,OAAA0J,MAAAxR,YAAA,IAEAgD,EAAAiU,SAAAjU,EAAAiU,QAAAnY,OAAA,EACA,QAAA6D,EAAA,EAAkCA,EAAAK,EAAAiU,QAAAnY,OAAsB6D,IACxDkU,GAAA/O,OAAAmP,QAAAtU,GAAAiK,KAAAuK,GAAA,EAAAC,YAAApU,EAAAiU,QAAAtU,GAAA6O,KAAAxO,EAAAuD,WAAAzF,EAAAkC,EAAAuD,WAAAvF,GAAAhB,YAAA,GACA6W,GAAA/O,OAAAmP,QAAAtU,GAAAkK,KAAAsK,GAAA,EAAAE,YAAArU,EAAAiU,QAAAtU,GAAA6O,MAAAxR,YAAA,GAIA+D,EAAA+D,OAAA+O,GAAA/O,OACA3N,EAAAgC,UAEA,WACA0a,GAAAlJ,MAAA,EACA5J,EAAAC,cACA6S,GAAA/O,QAAuC6B,MAAA,6CACvC5F,EAAAmE,OAAA,6CACA/N,EAAAgC,WAEA0N,MAAA,SAAArO,GACAuI,EAAAmE,OAAA1M,OAIA8b,UAAA,WACA,GAAAT,GAAA/O,eAAA+O,GAAA/O,OAAAmP,QAAA,CACA,IAAA7W,EAAAyW,GAAA/O,cACAyP,EAAA,eAAAxT,EAAAwC,WAAA9H,MAAAkO,OAAA,MAAAvM,EAAAoX,IAAAjW,QAAA,WACAgW,GAAA,uCACAA,GAAA,cAAAnX,EAAAoR,KAAAjQ,QAAA,YACAgW,GAAA,eAAAnX,EAAAiM,MAAA9K,QAAA,SACAgW,GAAA,cAAAnX,EAAAwM,KAAA,KACA2K,GAAA,cAAAnX,EAAAyM,KACA0K,GAAA,iBAAAnX,EAAAqX,QAAAlW,QAAA,WACAgW,GAAA,iBAAAnX,EAAA4W,QAAAzV,QAAA,UACAgW,GAAA,aAAAnX,EAAAsX,IAAAnW,QAAA,SACAgW,GAAA,OACAA,GAAA,uCAGA,QAAA5U,EAAA,EAAkBA,EAAAkU,GAAA/O,OAAAmP,QAAAnY,OAAsC6D,IACxDvC,EAAAyW,GAAA/O,OAAAmP,QAAAtU,GAgBA4U,GAAA,OACAA,GAAA,OACAA,GAAA,SAAAV,GAAA3P,OAAAvE,GAAAhN,KAAA,SACA4hB,GAAA,iBAAAV,GAAA3P,OAAAvE,GAAA9B,OACA0W,GAAA,kBAAAV,GAAA3P,OAAAvE,GAAAhM,GAAA,UACA4gB,GAAA,aAAAnX,EAAAoX,IAAAjW,QAAA,YACAgW,GAAA,cAAAnX,EAAAoR,KAAAjQ,QAAA,YACAgW,GAAA,cAAAnX,EAAAwM,KAAA,MACA2K,GAAA,cAAAnX,EAAAyM,KAAA,IACA0K,GAAA,eAAAnX,EAAAiM,MAAA9K,QAAA,UACAgW,GAAA,iBAAAnX,EAAAqX,QAAAlW,QAAA,YACAgW,GAAA,iBAAAnX,EAAA4W,QAAAzV,QAAA,WACAgW,GAAA,eAAAnX,EAAA0G,MAAAvF,QAAA,YACAgW,GAAA,iBAAAnX,EAAAuX,QAAApW,QAAA,YACAgW,GAAA,eAAAnX,EAAAwX,MAAArW,QAAA,gBACAgW,GAAA,aAAAnX,EAAAsX,IAAAnW,QAAA,SAIA5G,EAAA4c,EAAA,mBAAAxT,EAAAwC,WAAA9H,MAAAkO,WAIAkL,IACAtZ,OAAA,WACAsY,GAAAK,aAGAY,cAAA,WACA,IAAAC,EAAA,SAAAhV,GACA,OAAAA,EAAA,IACAA,EAAAiV,cAAA,GAGAjV,EAAAxB,QAAA,IAGAyB,EAAA6T,GAAA/O,OACA,OAAA9E,EAAA8E,OAEA3N,EAAA,OAAoBC,MAAAhE,EAAAU,UACpBqD,EAAA,OAAyBC,MAAAhE,EAAAc,eACzBiD,EAAA,mBAAA4J,EAAAwC,WAAA9H,MAAAkO,OAAA,MAAAoL,EAAA/U,EAAA8E,OAAA0P,KAAA,WAEArd,EAAA,OAAyBC,MAAAhE,EAAAa,gBAEzBkD,EAAA,IAAAA,EAAA6K,MAAA,yBAAAhC,EAAA8E,OAAA0J,KAAAjQ,QAAA,aACApH,EAAA,IAAAA,EAAA6K,MAAA,gBAAAhC,EAAA8E,OAAA8E,KAAA,OACAzS,EAAA,IAAAA,EAAA6K,MAAA,eAAAhC,EAAA8E,OAAA+E,QAGA1S,EAAA,OAAyBC,MAAAhE,EAAAa,gBACzBkD,EAAA,IAAAA,EAAA6K,MAAA,0BAAA+S,EAAA/U,EAAA8E,OAAAuE,OAAA,QACAlS,EAAA,IAAAA,EAAA6K,MAAA,2BAAA+S,EAAA/U,EAAA8E,OAAA2P,SAAA,UACAtd,EAAA,IAAAA,EAAA6K,MAAA,aAAAhC,EAAA8E,OAAA4P,IAAAnW,QAAA,YAEApH,EAAA,OAAyBC,MAAAhE,EAAAa,gBACzB+L,EAAA8E,OAAA0J,KAAA,EAAArX,EAAA,IAAAA,EAAA6K,MAAA,0BAAAmS,GAAA,EAAAc,4BAAAjV,EAAA8E,OAAA2P,QAAAzU,EAAA8E,OAAA0J,MAAAwG,cAAA,SACA7d,EAAA,IAAAA,EAAA6K,MAAA,2BAAA+S,EAAA/U,EAAA8E,OAAAkP,SAAA,WAEAhU,EAAA8E,OAAApH,eAAA,MACAvG,EAAA,OAAyBC,MAAAhE,EAAAa,gBACzBkD,EAAA,sBAAA6I,EAAA8E,OAAAoQ,IAAA,GAAAlV,EAAA8E,OAAAoQ,IAAA,KAAAlV,EAAA8E,OAAAoQ,IAAA3W,QAAA,YACA,OAzBA,MAgCA4W,gBAAA,WACA,IAAAJ,EAAA,SAAAhV,GACA,OAAAA,EAAA,IACAA,EAAAiV,cAAA,GAGAjV,EAAAxB,QAAA,IAIAyB,EAAA6T,GAAA/O,OACA,OAAA9E,EAAAiU,QACA9c,EAAA,OAAqB2D,MAAA,qBACrB3D,EAAA,SAA2BC,MAAAhE,EAAAI,QAC3B2D,EAAA,QAAAA,EAAA,MAAkCC,MAAAhE,EAAAK,WAElC0D,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgB,KAC1CwD,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgB,QAC1CwD,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,8BAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,+BAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,8BAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,iCAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,gCAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,gCAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,4CAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,mDAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,gBAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,qBAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,QAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,kBAC1C7K,EAAA,MAA0BC,MAAAhE,EAAAO,IAAgBwD,EAAA6K,MAAA,qBAE1C7K,EAAA,QACA6I,EAAAiU,QAAAtX,IAAA,SAAAG,EAAAgD,GACA,IAEAsV,EAAA,WAFAtY,EAAA8M,KAAA,QAEA,YADA9M,EAAA+M,KAEAwL,EAAA,aAAAxB,GAAA3P,OAAApE,GAAAjC,OACA,SAAAgW,GAAA3P,OAAApE,GAAA3B,EAAA,cACA0V,GAAA3P,OAAApE,GAAAnM,GAAA,sBACAkgB,GAAA3P,OAAApE,GAAA7B,IAAA,SAGA,OAAA9G,EAAA,MAAmCC,MAAAhE,EAAAM,KACnCyD,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBkM,GACtD3I,EAAA,MAAsCC,MAAAhE,EAAAQ,GAAAmF,MAAAsc,GAAuCxB,GAAA3P,OAAApE,GAAAnN,MAC7EwE,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAA0X,MACtDrd,EAAA,MAAsCC,MAAAhE,EAAAQ,GAAAmF,MAAAqc,GAAgCL,EAAAjY,EAAA0R,OACtErX,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAAuM,QACtDlS,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAA2X,UACtDtd,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAAkX,UACtD7c,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAAgH,QACtD3M,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAA6X,UACtDxd,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAA8X,QACtDzd,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBmhB,EAAAjY,EAAA4X,MACtDvd,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAoY,IAAApY,EAAAoY,IAAA,GAAApY,EAAAoY,IAAA,KAAApY,EAAAoY,IAAA3W,QAAA,UACtDpH,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAgH,MAAA,EAAAiR,EAAA,KAAAlB,GAAA3P,OAAApE,GAAAnM,GAAAmJ,EAAAgH,OAAA,IACtD3M,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAwY,IAAAxY,EAAAwY,GAAA,EAAAP,EAAAjY,EAAAwY,IAAA,IACtDne,EAAA,MAAsCC,MAAAhE,EAAAQ,IAAgBkJ,EAAAyY,IAAAzY,EAAAyY,GAAA,EAAAR,EAAAjY,EAAAyY,IAAA,aA/CtD,MAuDA3a,KAAA,WACA,IAAAoF,EAAA6T,GAAA/O,OAEA,OAAA+O,GAAAlJ,KACA3K,EAAA2G,MAAAjP,EAAA,UAAAsI,EAAA2G,OACA3G,EAAA8E,OAEA3N,EAAA,OACAA,EAAA,OAAqBC,MAAAhE,EAAA8B,IAAgB,WACrCiC,EAAA,OAAqBC,MAAAhE,EAAAc,cAA0BiD,EAAAwD,GAAkB5B,MAAA,gBAAAiC,QAAA6Z,GAAAC,mBACjE3d,EAAA,OAAqBC,MAAAhE,EAAAc,cAA0BiD,EAAAwD,GAAkB5B,MAAA,kBAAAiC,QAAA6Z,GAAAM,qBAEjEhe,EAAA,OAAqBC,MAAAhE,EAAAc,eACrB8L,EAAA,GACA1I,EAAA,wBACA,IACA0D,EAAA,6DADAsJ,OAAAkR,SAAAC,OAAAnR,OAAAkR,SAAAE,SAAA,MAAA1V,EAAA1H,IACA,2BACAqb,GAAAC,YAAA5Y,GACA2Y,GAAAvB,SACiB,KACjB9a,EAAA,uBACA,IACAuc,GAAAS,YAEA,MAAA9b,GACAyK,QAAAC,IAAA1K,UApBAd,EAAA,iCAFAP,EAAA,gCC1PAwe,IACApS,WAAA,GACAM,OAAA,GACApL,OAAA,GACAmd,SAAA,GACAC,IAAA,EACAC,SAAA,EACAhc,GAAA,EACAic,oBAAA,EAGA7P,MAAA,WACAyP,GAAAE,IAAA,EACAF,GAAAG,SAAA,EACAH,GAAA7b,GAAA,EACA6b,GAAAI,oBAAA,IAGAJ,GAAAjW,UAAApJ,EAAA,WACA,KAAAqf,GAAApS,WAAAzH,OAAA,GAAA6Z,GAAAld,OAAAqD,OAAA,GAAA6Z,GAAAC,SAAA9Z,OAAA,IACA,IAAAmI,EAEA+R,GADA/R,EAAApF,EAAA,EAAAoB,OAAA0V,GAAApS,aACA,GACA0S,EAAAhS,EAAA,GAEAF,GADAE,EAAApF,EAAA,EAAAoB,OAAA0V,GAAAld,SACA,GACAyd,EAAAjS,EAAA,GAEAkS,GADAlS,EAAApF,EAAA,EAAAoB,OAAA0V,GAAAC,WACA,GACAQ,EAAAnS,EAAA,GAEA,GADA0R,GAAAzP,UACA8P,GAAA,GAAAG,GAAA,GAAApS,GAAA,GACAzF,MAAA0X,IAAA1X,MAAA2X,IAAA3X,MAAAyF,IAAAzF,MAAA4X,IAAA5X,MAAA6X,IAAA7X,MAAA8X,IACAJ,EAAAC,GAAAE,EAAAC,GAAArS,EAAAmS,GAAAF,GAAAG,GAAA,CACAR,GAAApS,WAAA1E,EAAA,EAAAC,UAAAkX,EAAAC,GACAN,GAAAld,OAAAoG,EAAA,EAAAC,UAAAiF,EAAAmS,GACAP,GAAAC,SAAA/W,EAAA,EAAAC,UAAAqX,EAAAC,GACAT,GAAAE,GAAA3d,OAAAme,GAAA,EAAAne,CAAA8d,EAAAC,EAAAlS,EAAAmS,EAAAC,EAAAC,GAAA7X,QAAA,GAEA,IAAA/F,EAAA6F,WAAAsX,GAAA9R,QACAvF,MAAA9F,KACAmd,GAAAG,QAAA5d,OAAAme,GAAA,EAAAne,CAAA8d,EAAAG,GACAR,GAAA7b,EAAAqa,GAAA,EAAAmC,SAAA9d,EAAA2d,GACAR,GAAAI,mBAAAJ,GAAAG,QAAAH,GAAA7b,EAEA3C,EAAAgC,aACC,KAED,IAAAod,MCrCA,GDuCAA,GAAAC,eAAA,SAAAC,EAAAC,EAAA5U,GACA,OAAA3K,EAAA,SAAsBC,MAAAhE,EAAAgC,QACtBqhB,EAAA,IACAtf,EAAA,SAAmBc,KAAA,OAAA6C,MAAA,aAA8B6b,aAAA7U,EACjDnJ,MAAA+d,EAAAD,GACA1U,QAAA,SAAAvJ,GACAA,EAAAW,QAAA,EACAud,EAAAD,GAAAje,EAAAa,cAAA,MACAqd,EAAAhX,kBAKA6W,GAAAhb,OAAA,WACAoa,GAAAzP,QACAyP,GAAApS,WAAAxC,EAAAwC,WAAA9H,MAAAkO,OACAgM,GAAA9R,OAAA9C,EAAAwC,WAAA9H,MAAA+H,EACAmS,GAAAld,OAAAqD,OAAA,GAAA6Z,GAAAC,SAAA9Z,OAAA,GACA6Z,GAAAjW,aAIA6W,GAAA3b,KAAA,WACA,IAAA8b,EAAAf,GACAE,EAAAxX,WAAAqY,EAAAb,IACArd,EAAA6F,WAAAqY,EAAA7S,QACAkS,EAAA1X,WAAAqY,EAAAX,oBACAjc,EAAAuE,WAAAqY,EAAA5c,GAEA,OADAmJ,QAAAC,IAAAyS,KAEAxe,EAAA,MAAgBC,MAAAhE,EAAA8B,IAAgB,uBAChCiC,EAAA,OAAiBC,MAAAhE,EAAAW,mBACjBwiB,GAAAC,eAAA,aAAAE,EAAA,YACAH,GAAAC,eAAA,SAAAE,EAAA,WACAH,GAAAC,eAAA,WAAAE,EAAA,cAEAvf,EAAA,OAAiBC,MAAAhE,EAAAW,mBACjBwiB,GAAAC,eAAA,SAAAE,EAAA,YACA,SACApY,MAAAxE,MAAA,QAAA4c,EAAA5c,EAAAyE,QAAA,mBAGApH,EAAA,OAAiBC,MAAAhE,EAAAW,mBACjBuK,MAAAuX,OAAA,OACA1e,EAAA,OAAqBC,MAAAhE,EAAAc,cAA0BiD,EAAA6K,MAAA,aAAkB0U,EAAAb,GAAA,QACjEvX,MAAA9F,IAAAud,EAAA,GAAAzX,MAAAyX,GAAA,KACA5e,EAAA,OAAqBC,MAAAhE,EAAAc,eACrBiD,EAAA6K,MAAA,4BACA0U,EAAAX,mBAAA/Y,YAAA,SCvFA,oBAAA7F,EAIA,MAHAoK,MAAA,6BACA3I,SAAAC,eAAA,WACA4X,UAAA,qEACA,IAAAmG,MAAA,6BAYA,SAAAC,KAWA,OAVA9V,EAAAtF,MAAA7I,OAAAK,QAAAX,GACAyO,EAAAoD,KAAA,sBAEApD,EAAAtF,MAAA7I,OAAAK,QAAAR,GACAsO,EAAAoD,KAAA,sBAGApD,EAAAoD,KAAA,kBAGAhN,EAAA,UAAyBC,MAAAhE,EAAAmC,QACzB4B,EAAA,QAAwB2D,MAAA,aAAA1D,MAAA,MAA8B2J,EAAAoD,OAGtD,SAAA2S,GAAA3Y,GACA,OAAAhH,EAAA,OAAoBC,MAAAhE,EAAAqC,KAAiB0I,GAzBrC4I,EAAA9H,EACArM,OAAA,8DACAmkB,UAGAhW,EAAAwF,gBACAhF,MAAA,yHAuBA,IAoBAyV,GAAA,WACA,IAAAC,EAAA,gCACA,OAAA9f,EAAA,OAAoBmB,GAAA,UAAAlB,MAAA,2FAEpBD,EAAA,KAAeC,MAAA,uBAAAC,QAAA,WACfuB,SAAAC,eAAA,WACAuX,UAAA/U,OAAA,QAEYlE,EAAA6K,MdEZ,iNcAA5J,GAAkBhB,MAAA6f,EAAAle,MAAA,OAAAT,GAAA,aAA6CyI,EAAAwD,cAC/DpN,EAAA,KAAaC,MAAA6f,EAAA5f,QAAA,WACbM,EAAAoJ,EAAAtF,MAAA,yBACS,QAtBTtE,EAAA,OAAoBC,MAAA,yCAAAC,QAAA,SAAAiE,GACpBA,EAAA4b,mBACM,QACN/f,EAAA,OAAiBC,MAAA,+EACjBD,EAAA,KAAeC,MAAA,iBAAAC,QAAA,WAA2CF,EAAAF,MAAA9D,IAAA,WAAuB,oBAoBjFgE,EAAA,KAAaC,MAAA6f,EAAA5f,QAAA,SAAAmB,GAAqCrB,EAAAF,MAAA9D,IAAA,WAAuBqF,EAAA0e,mBAAqB,YAC9F/f,EAAA,KAAaC,MAAA6f,EAAAtU,KAAA,aAAAlK,OAAA,UAAmD,YAIhE0e,GAAA,WACA,OACAhgB,EAAA,KAAeC,MAAAhE,EAAAwC,eAAAyB,QAAA,WACfuB,SAAAC,eAAA,WACAuX,UAAA/U,OAAA,QACYlE,EAAA6K,MdfZ,iNcgBA7K,EAAA,KAAaC,MAAAhE,EAAAsC,SAAA2B,QAAA,WACbM,EAAAoJ,EAAAtF,MAAA,yBACa,QACbrD,GAAkBhB,MAAAhE,EAAAsC,SAAAqD,MAAA,OAAAT,GAAA,aAAkDyI,EAAAwD,cACpEpN,EAAA,KAAaC,MAAAhE,EAAAyC,eAAA8M,KAAA,aAAAlK,OAAA,UAA8D,SAC3EtB,EAAA,KAAaC,MAAAhE,EAAAyC,eAAAwB,QAAA,SAAAmB,GAAgDrB,EAAAF,MAAA9D,IAAA,WAAuBqF,EAAA0e,mBAAqB,YAlDzG/f,EAAA,OAAoBC,MAAAhE,EAAA0C,SAAAuB,QAAA,SAAAiE,GACpBA,EAAA4b,mBACM,QACN/f,EAAA,OAAiBC,MAAAhE,EAAA2C,mBACjBoB,EAAA,KAAeC,MAAA,iBAAAC,QAAA,WAA2CF,EAAAF,MAAA9D,IAAA,WAAuB,sBAqDjFikB,GAAA,WACA,OACAjgB,EAAA,OAAeC,MAAAhE,EAAAuC,gBAAA0B,QAAA,SAAAmB,GAAiDrB,EAAAF,MAAA9D,IAAA,KAAiBqF,EAAA0e,mBAAqB,UAWtGG,IACA9b,OAAA,aAGAX,KAAA,WACA,OAAAzD,EAAA,OAAmBC,MAAAhE,EAAAE,mBACnBwjB,GAAAK,MACAhgB,EAAA,OAAaC,MAAAhE,EAAA+C,SAAA/C,EAAAU,QAAAV,EAAA8C,iBAAA,qBACbiB,EAAA,OAAqBC,MAAAhE,EAAAgB,cAA0B+C,EAAAwD,GAAkB5B,MAAA,aAAAiC,QAAA7D,EAAAkU,GAA0CC,QAAAvK,EAAAwC,gBAC3GpM,EAAA,OAAqBC,MAAAhE,EAAAiB,aAAyB8C,EAAAwD,GAAkB5B,MAAA,SAAAiC,QAAA7D,EAAAkI,QAEhElI,EAAA,OAAaC,MAAAhE,EAAA+C,SAAA/C,EAAAU,QAAAV,EAAA8C,oBACbiB,EAAA,OAAiBC,MAAAhE,EAAAc,eACjBiD,EAAA,gBACAA,EAAA,KAAuBC,MAAAhE,EAAAkB,YACvB+C,QAAA,YACA,GAAAgI,EAAAC,GAAAE,WACArI,EAAAF,MAAA9D,IAAA,cAC6B,gBAI7B6jB,OAEAH,QAGAS,IACA1c,KAAA,WACA,OAAAzD,EAAA,OAAkBC,MAAAhE,EAAAE,mBAClBwjB,GAAAM,MACAjgB,EAAAsS,OAIA8N,MACAA,GAAA3c,KAAA,WACA,GAAAmG,EAAA0E,OAIA,OACAtO,EAAA,OAAqBC,MAAAhE,EAAAC,YACrByjB,IAhDA3f,EAAA,KAAaC,MAAAhE,EAAAuC,gBAAA0B,QAAA,SAAAmB,GAAiDrB,EAAAF,MAAA9D,IAAA,KAAiBqF,EAAA0e,mBAAqB,QACpG/f,EAAA,KAAaC,MAAAhE,EAAAuC,gBAAA0B,QAAA,SAAAmB,GAAiDrB,EAAAF,MAAA9D,IAAA,cAA0BqF,EAAA0e,mBAAqB,gBAgD7G/f,EAAA0d,MAEAgC,MARA1f,EAAAF,MAAA9D,IAAA,MAYA,IAAAqkB,IACAjc,OAAA,SAAAV,GACAA,EAAAY,MAAAgc,SAAA3J,GAGAnS,SAAA,SAAAd,GACAA,EAAAY,MAAAgc,SAAAzJ,QACA7K,EAAAM,SAAAN,EAAAsE,SAAA,IAAApE,KAAA,SAAArD,GACAA,EAAAlE,OAAA,GACAjB,EAAAY,MAAAgc,SAAApV,KAAArC,GACA7I,EAAAgC,SACA0B,EAAAY,MAAAgc,SAAAxJ,UAGApT,EAAAY,MAAAgc,SAAA1J,OAAA,WAEKlH,MAAA,SAAArO,GACLuI,EAAAmE,OAAA1M,MAIAoC,KAAA,SAAAC,GACA,GAAAkG,EAAA0E,OAIA,OAAAtO,EAAA,OAAoBC,MAAAhE,EAAAC,YACpByjB,GAAAM,MACAjgB,EAAAuE,EAAAb,EAAAY,MAAAgc,YALAtgB,EAAAF,MAAA9D,IAAA,OAUAukB,IACAnc,OAAA,SAAAV,GACAA,EAAAY,MAAAgc,SAAAnJ,GAGA3S,SAAA,SAAAd,GACAA,EAAAY,MAAAgc,SAAAzJ,QACA,IAAAlO,EAAAiB,EAAAoE,gBACArF,EAAA,GACAqD,EAAAM,SAAAN,EAAAO,YAAA5D,IAAAuD,KAAA,SAAArD,GACAA,EAAAlE,OAAA,GACAjB,EAAAY,MAAAgc,SAAApV,KAAArC,GACA7I,EAAAgC,SACA0B,EAAAY,MAAAgc,SAAAhb,cAAA,SAGA5B,EAAAY,MAAAgc,SAAA1J,OAAA,WAEKlH,MAAA,SAAArO,GACLuI,EAAAmE,OAAA1M,MAIAoC,KAAA,SAAAC,GACA,GAAAkG,EAAA0E,OAIA,OAAAtO,EAAA,OAAoBC,MAAAhE,EAAAC,YACpByjB,GAAAM,MACAjgB,EAAAuE,EAAAb,EAAAY,MAAAgc,YALAtgB,EAAAF,MAAA9D,IAAA,OASAwkB,IACA/c,KAAA,WACA,OAAAzD,EAAA,OAAoBC,MAAAhE,EAAAE,mBACpBwjB,GAAAM,MACAjgB,EAAAsX,OAIAmJ,IACAhd,KAAA,WACA,OAAAzD,EAAA,OAAoBC,MAAAhE,EAAAE,mBACpBwjB,GAAAM,MACAjgB,EAAAof,QAKAxP,EAAA9H,EAAAxI,QAAA,WACAmC,SAAAC,eAAA,WACA4X,UAAAoH,OAAA,WACA,IAAAC,EAAAxT,OAAAkR,SAAAuC,OACAC,EAAAF,EAAAxH,QAAA,OACA,GAAAwH,EAAAhc,OAAA,GAAAkc,GAAA,GACA,IAAAC,EAAAH,EAAAhc,OACA,KAAAgc,EAAAI,OAAAD,EAAA,KACAA,GAAA,GAEA,IAAAvR,EAAAoR,EAAAK,UAAAH,EAAA,EAAAC,GACAlX,EAAA0F,YAAAC,OAEA,CACA,IAAA0R,EAAAtS,EAAA,EAAAuS,KAAA,SACAtX,EAAA6D,KAAAwT,GAGAjhB,EAAAF,MAAA2B,SAAAC,eAAA,WACAyf,IAAAjB,GACAkB,aAAAjB,GACAkB,WAAAjB,GACAkB,QAAAjB,GACAkB,gBAAAhB,GACAiB,UAAAhB,GACAiB,QAAAhB","file":"scripts/index_13ea8fe88a0774236352.js","sourcesContent":["var catima_z_eff = [\n    [\"none\",0],\n    [\"Pierce-Blann\",1],\n    [\"Anthony-Landorf\",2],\n    [\"Hubert\",3],\n    [\"Winger\",4],\n    [\"Schiwietz\",5],\n    [\"Global\",6],\n    [\"Atima v1.4\",7]\n];\n\nvar catima_omega = {\n   \"atima1.3\":0,\n   \"Bohr\":1\n};\n\nexport var config_atima13 = {\"z_effective\":1, \"dedx_straggling\":0};\nexport var config_atima14 = {\"z_effective\":7, \"dedx_straggling\":0};\n\nexport var config_presets = [\n    {\"name\":\"atima v1.3\",\"config\":config_atima13},\n    {\"name\":\"atima v1.4\",\"config\":config_atima14}\n];\n\n\nexport function catima_config(init){\n    this.z_effective = config_atima13.z_effective;\n    this.dedx_straggling = config_atima13.dedx_straggling;\n    if(init){\n        if(init.z_effective)\n            this.z_effective = init.z_effective;\n        if(init.dedx_straggling)\n            this.dedx_straggling = init.dedx_straggling;\n    }\n\n}\n\ncatima_config.prototype.is_same = function(other){\n    if(this.z_effective == other.z_effective && this.dedx_straggling == other.dedx_straggling)\n        return true;\n    else\n        return false;\n};\n\ncatima_config.prototype.set = function(other){\n    this.z_effective = other.z_effective;\n    this.dedx_straggling = other.dedx_straggling;\n};\n","\n\nvar styles = styles || {};\nstyles.container = \"mw-100 mw9-ns center ph2-ns\";\nstyles.container_narrow = \"mw-100 mw8-ns center ph4-ns\";\nstyles.my = \"my\";\nstyles.table = \"my mw-8 centered f5\";\n\nstyles.thead_tr = \"my\";\nstyles.tr = \"my\";\nstyles.th = \"my\";\nstyles.td = \"my\";\n\n\nstyles.div_column = \"flex flex-column items-center\";\nstyles.div_row = \"flex flex-wrap\";\nstyles.div_row_centered = \"flex flex-wrap items-center\";\nstyles.div_cell = \"pa2\";\nstyles.div_cell_auto = \"pa2 w-auto f5\";\nstyles.div_cell_100 = \"w-100 pa2\";\nstyles.div_cell_20 = \"w-100 w-20-l pa2-ns\";\nstyles.div_cell_20a = \"w-auto w-20-l pa2-ns\";\nstyles.div_cell_80 = \"w-100 w-80-l pa2-ns\";\n\n\nstyles.button_full = \"dib tc f5 w-100 ph3 pv2 link dim white bg-hcolor br3 mb2 pointer\",\nstyles.button = \"dib tc f5 fl ph3 pv2 link dim white bg-hcolor br2 mb2 pointer\";\n\nstyles.button_ns = \"dn dib-ns tc f5 fl ph3 pv2 link dim white bg-hcolor br2 mb2 pointer\";\n\nstyles.button_inverted = \"dib f5 fl ph3 pv2 link dim white hcolor br2 mb2 pointer ba b--hcolor\";\nstyles.button_pill = \"dib f5 ph3 pv2 link dim white bg-hcolor br-pill mb2 pointer\";\nstyles.button_svg = \"f5 fl ph1 pv1 link dim pointer\";\n\nstyles.card = \"db center mv2 br3 shadow-4\";\nstyles.card_header = \"f5 bg-hcolor white pv2 ph3\";\nstyles.card_main = \"f6 pa2 ba b--hcolor br3 br--bottom\";\n\nstyles.box = \"db center br3 shadow-4\";\n\nstyles.heading = \"f2\";\nstyles.heading_medium = \"f3\";\nstyles.h3 = \"f4 b sans-serif w-100 mv1 tc\";\n\nstyles.form_element = \"mt2 ml3 w-100 w-auto-ns\";\nstyles.label = \"db f5 pa1\";\n\nstyles.ul = \"list pl0\";\nstyles.li = \"ph2\";\n\nstyles.footer  = \"fixed bg-near-black w-100 bottom-0\";\nstyles.header = \"fixed bg-black w-100 ph1 pv1 pv2-ns ph2-ns\";\nstyles.nav = \"bg-black overflow-hidden  br3 br--bottom\";\nstyles.nav_item = \"dn db-ns pv3 tc pointer dim f4 fw6 mh2 white link fl\";\nstyles.nav_item_sticky = \"db pv3 tc pointer dim f4 fw6 mh2 white link fl\";\nstyles.nav_item_small = \"dn-ns db pv3 tc pointer dim f4 fw6 mh2 white link center\";\nstyles.nav_item_right = \"dn db-ns pv3 tc pointer dim f4 fw6 mh2 white link fr\";\nstyles.dropdown = \"dropdown dn db-ns pv3 tc overflow-hidden pointer f4 fw6 mh2 white link fr w-auto\";\nstyles.dropdown_content = \"dropdown-content dn absolute z-1 shadow-4 w-auto pa2 bg-white black tl\";\n\nstyles.color_error = \"text-error\";\nstyles.error_badge = \"bg-dark-red pa2 ma2 br2 dib\";\n\nstyles.padding_vertical = \"pv2\";\n\nstyles.combine = function(sa){\n    return sa.join(\" \");\n};\n\nexport {styles};\n","import {saveAs} from \"file-saver\";\nimport {styles} from \"./styles.js\";\n\n\nexport function debounce(func, wait, context) {\n  var timeout;\n\n  return function executedFunction() {\n    var args = arguments;\n    var later = function() {\n      timeout = null;\n      func.apply(context||this, args);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait||250);\n  };\n}\n\nexport function enterescape(onenter, onescape) {\n\treturn function (e) {\n    e.redraw = false;\n\t\tif (e.keyCode === 13) {\n\t\t\tonenter();\n            m.redraw();\n\t\t} else if (e.keyCode === 27) {\n\t\t\tonescape();\n            m.redraw();\n\t\t}\n        \n\t};\n}\n\nexport function escape(onescape) {\n\treturn function (e) {\n    e.redraw = false;\n\t\tif (e.keyCode === 27) {\n\t\t\tonescape();\n            m.redraw();\n\t\t}\n\t};\n}\n\nexport function enter(onescape) {\n\treturn function (e) {\n    e.redraw = false;\n\t\tif (e.keyCode === 13) {\n\t\t\tonescape();\n            m.redraw();\n\t\t}\n\t};\n}\n\nexport function svg_delete(){\n  var svg = '<svg height=\"24\" width=\"24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';\n  return svg;\n}\n\nexport function svg_down(){\n  var svg = '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\" fill=\"#010101\"/></svg>';\n  return svg;\n}\n\nexport function svg_up(){\nreturn '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"/></svg>';\n}\n\nexport function svg_edit(){\nreturn '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>';\n}\n\nexport function svg_settings(){\n  return '<svg fill=\"#FFFFFF\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\"/></svg>';\n}\n\nexport function svg_add(){\n\treturn '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/></svg>';\n\t}\n\nexport function svg_info(){\n\treturn '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"/></svg>';\n    }\n\nexport function svg_menu(){\n    return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\" style=\"fill:#ffffff\"/></svg>';\n\n}\n\nexport function button_route(name, route, bstyle){\n  return m(\"a\", {class:(bstyle)?bstyle:styles.button, onclick: function(){ m.route.set(route); }}, name );\n}\n\nexport function button(name, fun, bstyle){\n  return m(\"a\",{class:(bstyle)?bstyle:styles.button,onclick:fun},name);\n}\n\nexport function text_error(txt){\n    return m(\"span\",{class:styles.color_error},txt);\n}\n\nexport function badge_error(txt){\n    return m(\"div\",{class:styles.error_badge},txt); \n}\n\nexport function SaveFile(v,name){\n  var blob = new Blob([(typeof v ===\"string\")?v:JSON.stringify(v,null,'\\t')], {type: \"text/plain;charset=utf-8\"});\n  saveAs(blob, name);\n}\n\n\nexport function FileLoader(args,f){\n    return [m(\"input\",{class:\"my-remove\",type:\"file\",id:args.id,onchange:function(e){f(e.target.files[0]);e.target.value=null;}}),    \n    m(\"a\",{class:args.class,onclick:function(){document.getElementById(args.id).click();}},args.title)];\n}\n\nexport function withAttr_nr(attrName, callback1, context) {\n\treturn function(e) {\n    e.redraw = false;\n    callback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName));\n\t};\n}\n\nexport function check_set(attrName, newattr, callback1, context) {\n    return function(e) {\n\te.redraw = false;\n\tvar r = callback1.call(context, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName));\n\tif(r){\n\t    if(newattr in context){\n\t\te.currentTarget.attrName = context.newattr;\n\t\te.redraw = true;\n\t\t}\n\t}\n\telse {\n\t    e.currentTarget.attrName = \"\";\n\t    }\n\t};\n}\n\nexport function noredraw(callback, context){\n  return function(e){\n    e.redraw = false;\n    callback.call(context||this);\n  };\n}\n\nexport function append_script(list){\n    var promises = [];\n    list.forEach(function(src) {\n        var p = new Promise(function(resolve,reject){\n            var script = document.createElement('script');\n            script.src = src;\n            script.async = false;\n            script.onload = function(){\n                    resolve();\n                };\n            script.onerror = function(){\n                    reject();\n                };\n            document.head.appendChild(script);\n            });\n        promises.push(p);\n        });\n    return Promise.all(promises);\n    }\n\n\nexport function get_window_size(){\n  var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  var h = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  return [w,h];\n}\n\nexport function get_div_size(id){\n  var w = document.getElementById(id).clientWidth;\n  var h = document.getElementById(id).clientHeight;\n  return [w,h];\n}\n\nexport function to_string(val, num)\n{\n        var n = num || 4;\n        if(val<Math.pow(10,-n+1)){\n            return val.toExponential(n);\n            }\n        else {\n            return val.toFixed(n);\n            }\n}\n\n\nexport function linspace_array(a,b,num){\n    if(a>=b || num<2)return;\n    var res = new Float64Array(num);\n    var step = (b-a)/(num-1);\n    for(var i=0;i<num-1;i++){\n        res[i] = a + (step*i);\n        }\n    res[num-1] = b;\n    return res;\n}\n","/// CardComponent ///\nimport {styles} from \"./styles.js\";\nimport {button, get_div_size, SaveFile} from \"./utils.js\";\n\nvar NavigationComponent = {};\n\nNavigationComponent.view = function(vnode){\n       var links = vnode.attrs.links;\n       return m(\"nav\",{class:styles.nav},links);\n};\n\nvar CardComponent = {};\nCardComponent.view = function(vnode){\n  return m(\"article\",{class:styles.card,style:\"overflow:hidden;\"},[\n              m(\"div\",{class:styles.card_header},vnode.attrs.title),\n              m(\"div\",{class:styles.card_main},vnode.attrs.content)\n              ]);\n};\n\nvar ToggleComponent = {};\nToggleComponent.visible = false;\nToggleComponent.off = function(id){\n    var el = document.getElementById(id);\n    el.style.display = \"none\";\n    ToggleComponent.visible = false;\n};\nToggleComponent.toggle = function(id){\n\tvar el = document.getElementById(id);\n        if(ToggleComponent.visible)el.style.display = \"none\";\n        else el.style.display = \"block\";\n    ToggleComponent.visible = !ToggleComponent.visible;\n};\nToggleComponent.oninit = function(){\n    ToggleComponent.visible = false;\n};\n\nToggleComponent.view = function(vnode){\n    var args = vnode.attrs;\n    var name = (ToggleComponent.visible)?args.title+\" ^\":args.title+\" +\";\n            \n            return m(\"div\",{class:(ToggleComponent.visible)?styles.box:\"\"},[\n                button(name,ToggleComponent.toggle.bind(vnode.state,args.id),styles.button_full),\n                m(\"div\",{class:styles.div_cell,id:args.id,\n\t\t\t style:\"display:none;\"\n\t\t\t},args.content)\n            ]);\n};\n\n\nvar PlotComponent = {};\nPlotComponent.oncreate = function(vnode){\n    var PlotObject = vnode.attrs;\n    if(PlotObject.values.length<1)return null;\n    //if(PlotDensity.values.length<1)return;\n    var dsize = get_div_size(PlotObject.fig.id);\n    var width  = dsize[0]-90;\n    var height = (dsize[0]*2.0/3.0)|0;\n    if(width<400)width = 400;\n    if(height<300)height = 300;\n    PlotObject.fig.set_width(width);\n    PlotObject.fig.set_height(height);\n    PlotObject.fig.show();\n};\n\nPlotComponent.view = function(vnode){\n    var PlotObject = vnode.attrs;\n    if(PlotObject.values.length<1){\n        return null;\n        }\n    return [m(\"div\",{class:styles.div_row},\n            [\n             (PlotObject.plot_options)?m(\"div\",{class:styles.div_cell_20},[\n                m(\"label\",{class:styles.label},\"Plot\"),\n                m(\"select\",{onchange:m.withAttr(\"value\",PlotObject.change_y_axis)},\n                        PlotObject.plot_options.map(function(e){\n                            return m(\"option\",{value:e.value},e.name);\n                        })\n                        )\n                ]\n             ):null,\n             m(\"div\",{class:styles.div_cell_80, id:PlotObject.fig.id}\n                //(PlotObject.ready())?\n                //m(VegaPlot,{status:\"loading\",data:PlotObject.fig})\n              )\n            ]),\n            m(\"div\",{class:styles.div_row},button(\"Save Data\",function(){\n                var keys = Object.keys(PlotObject.values[0]);\n                var data = PlotObject.values.map(function(item){\n                    return keys.map(function(k){return (typeof item[k] === \"string\")?item[k]:item[k].toPrecision(5);}).join(\" \");\n                });\n                SaveFile(keys.join(\" \")+\"\\n\"+data.join(\"\\n\"),\"data.txt\");\n            }))\n        ];\n};\n\nexport {PlotComponent, CardComponent, NavigationComponent, ToggleComponent};\n","import {MOCADI_Matter} from \"../vendor/mocadimatter.js\";\nimport {ElementDensity} from \"../vendor/elements_density\";\nimport {ElementMass} from \"../vendor/elements_mass\";\nimport {styles} from \"./styles.js\";\nimport {withAttr_nr, text_error, enterescape, escape,debounce,button, button_route, svg_delete, svg_edit, svg_down, svg_up, svg_info} from \"./utils.js\";\nimport {ToggleComponent} from \"./components.js\";\nimport {FileLoader, SaveFile, noredraw} from \"./utils.js\";\nimport {Catima} from \"./catima.js\";\nimport {App} from \"./app.js\";\nimport {NucData} from \"../vendor/nucdata\";\nimport {NucID} from \"../vendor/elements\";\nimport {spline} from \"../vendor/spline\";\n\nfunction GetDensity(z){\n    if(z>0 && z<99)return ElementDensity.GetDensity(z);\n    if(z>200){\n        var r = MOCADI_Matter.Get(z);\n        if(r.density)\n            return r.density;\n        }\n    return 0.0;\n}\n\nfunction CompundMatterSelect(args){\n    var options = [];\n    \n    for(var entry in MOCADI_Matter.map){\n      var name;\n      name = MOCADI_Matter.GetName(entry);\n      options.push([entry, name]);\n    }\n    \n    options.sort(function(a,b){return a[1].localeCompare(b[1]);});\n    \n    return m(\"select\",{id:\"id_compound_select\",class:\"db w-100\",onchange:m.withAttr(\"value\",args.onchange)},\n            m(\"option\",{value:\"\"},\"Add Compound\"), // default 1st value\n            options.map(function(item){\n                return m(\"option\",{value:item[0]},item[1]);\n            }));\n}\n\nvar render_composition = function(data){\n    var components = [];\n    if(data.hasOwnProperty('c')){\n        for(var key in data['c']){\n            if(data['c'].hasOwnProperty(key)){\n                components.push([key,data['c'][key]]);\n            }\n        }\n    }\n    if(components.length){\n        return m(\"table\",{class:styles.table},[\n                    m(\"thead\",{},\n                        m(\"tr\",{class:styles.thead_tr},\n                            [m(\"th\",{class:styles.th},\"Element\"),\n                             m(\"th\",{class:styles.th},\"Weight Fraction\")])\n                    ),\n                    m(\"tbody\",{},[\n         components.map(function(item){\n            return m(\"tr\",{class:styles.tr},[\n                        m(\"td\",{class:styles.td},item[0]),\n                        m(\"td\",{class:styles.td},item[1])\n                    ]);\n            //return item[0] + \": \"+item[1];\n         })   \n        ])]);\n    }\n    return;\n  };\n\nexport var MatterLayer = function(data){\n  this.name = data.name||\"\";\n  this.symbol = data.symbol||\"\";\n  this.A = data.A||\"\";\n  this.mass = data.mass||\"\";\n  this.Z = data.Z||\"\";\n  this.rho = data.rho||0;\n  this.th = data.th||0;\n  this.gas = data.gas||false;\n  this.l = \"\"||0;\n  this.I = data.I || 0;\n  \n  if(data.l){\n      this.l = data.l;\n  }\n  else{\n    var rho = parseFloat(data.rho);\n    if(!isNaN(rho) && rho >0)\n    {\n      this.l = (((parseFloat(data.th)/rho)/1000).toFixed(4));\n      }\n    }\n    \n  // if mass is not provided take some default  \n  if(!data.mass){\n      if(this.A === \"\"){\n        this.mass = (ElementMass.GetMass(this.Z).toPrecision(5)||\"\");\n      }\n      else{\n        this.mass = (NucData.GetNucData(parseInt(data.A),parseInt(data.Z))[\"M\"]||\"\");\n      }\n  }\n\n  if(this.symbol.length==0){\n      if(this.Z<120){\n        this.symbol = NucID.GetSymbol(this.A,this.Z);\n      }\n      else{\n        var r = MOCADI_Matter.Get(this.Z);\n        this.symbol = (r.key)?r.key:\"\";\n        this.mass = \"\";\n        this.A = \"\";\n      }\n  }\n  \n};\n\nMatterLayer.prototype.toArray = function(){\n    var z = parseInt(this.Z);\n    if(isNaN(z)){\n        return [];\n    }    \n    var density = parseFloat(this.rho);\n    if(isNaN(density)){\n        return [];\n    }    \n    var Th = parseFloat(this.th);\n    if(isNaN(Th)){\n        return [];\n    }\n    var Mass;\n    if(this.mass === \"\" || this.mass===null){\n        Mass=0;\n    }\n    else{\n        Mass = parseFloat(this.mass);\n        if(isNaN(Mass) || Mass<0){\n            return [];\n        }\n    }\n    var a;\n    if(this.A === \"\" || this.A===null){\n        a=0;\n    }\n    else{\n        a = parseFloat(this.A);\n        if(isNaN(a) || a<0){\n            a = 0;\n        }\n    }\n    var ipot = 0.0;\n    if(this.I !== \"\" && this.I !== null){\n        var v = parseFloat(this.I);\n        if( !isNaN(v) && v>0.0){\n            ipot = v;\n            }\n        }\n\n    var gas = (this.gas)?1:0;\n    return [a,z,density,Th,gas,Mass,ipot];\n};\n\nMatterLayer.prototype.toObject = function(){\n    var z = parseInt(this.Z);\n    if(isNaN(z)){\n        return {};\n    }    \n    var density = parseFloat(this.rho);\n    if(isNaN(density)){\n        return {};\n    }    \n    var Th = parseFloat(this.th);\n    if(isNaN(Th)){\n        return {};\n    }\n    var Mass;\n    if(this.mass === \"\" || this.mass===null){\n        Mass=0;\n    }\n    else{\n        Mass = parseFloat(this.mass);\n        if(isNaN(Mass) || Mass<0){\n            return {};\n        }\n    }\n    var a;\n    if(this.A === \"\" || this.A===null){\n        a=0;\n    }\n    else{\n        a = parseFloat(this.A);\n        if(isNaN(a) || a<0){\n            a = 0;\n        }\n    }\n    var ipot = 0.0;\n    if(this.I !== \"\" && this.I !== null){\n        var v = parseFloat(this.I);\n        if( !isNaN(v) && v>0.0){\n            ipot = v;\n            }\n        }\n\n    var gas = (this.gas)?1:0;\n    return {\n        \"A\":a,\n        \"Z\":z,\n        \"rho\":density,\n        \"th\":Th,\n        \"mass\":Mass,\n        \"gas\":gas,\n        \"I\":ipot,\n        \"name\":this.name\n    };\n};\n\n\n\n// Main Matter Editor Component ///\nvar MatterEditor = {};\n\nMatterEditor.vm = {\n  layers : [],\n  editindex: -1,\n  thickness:0,\n  length:0,\n  calculate:function(){\n      this.thickness = 0;\n      this.length = 0;\n      for(var i=0;i<this.layers.length;i++){\n          var e = this.layers[i];\n          this.thickness =  this.thickness + parseFloat(e.th);\n          this.length =  this.length + parseFloat(e.l);\n      }\n  }\n};\n\nMatterEditor.ui = {};\nMatterEditor.ui.changeSymbol = function(index, val){\n    var item = MatterEditor.vm.layers[index];\n    // std element\n    var res = NucID.GetNuc(val);\n    if(res[1]<1){\n      item.Z = (\"\");\n      item.A = (\"\"); \n      item.mass = (\"\");\n      // try if its mocadi matter\n      res[1] = MOCADI_Matter.GetZ(val);\n    }\n    \n    if(res[0]>0){\n      item.mass = (NucData.GetNucData(res[0],res[1])[\"M\"].toPrecision(7));\n      item.A = res[0].toString();\n      }\n      \n    if(res[0]===0 && res[1]>0){\n      item.A = \"\";\n      item.mass = ElementMass.GetMass(res[1]).toPrecision(7);\n      }\n    \n    if(res[1]>0){\n        var density;\n        var gas;\n        item.Z = res[1].toString();\n        density = GetDensity(res[1]);\n        gas = (density<0.01 && density >0)?1:0;\n        item.rho = density;\n        item.gas = gas;\n      } \n      \n    item.symbol = (val);\n    this.changel(index,item.l);\n  };\n\n  MatterEditor.ui.changeZ = function(index, val){\n    var item = MatterEditor.vm.layers[index];\n    var num = parseInt(val);\n    item.Z = val;\n    item.I = \"\";\n    if(isNaN(num) || num < 1){\n      item.A =  \"\"; \n      item.mass = \"\";\n      item.symbol = \"\";\n      return;\n      }\n    \n    var numa = parseInt(item.A);\n    if(isNaN(numa) || numa<1)numa = 0;\n    \n    var symbol;\n    var density;\n    var gas;\n    \n    if(num<120){\n        symbol = NucID.GetSymbol(numa,num);\n        if(numa>0){\n            MatterEditor.vm.layers[index].mass = (NucData.GetNucData(numa,num)[\"M\"].toPrecision(7));\n          }\n        else{\n            MatterEditor.vm.layers[index].mass = (ElementMass.GetMass(num).toPrecision(7));\n            }\n        }\n    if(num>200){\n        var r = MOCADI_Matter.Get(num);\n        symbol = (r.key)?r.key:\"\";\n        MatterEditor.vm.layers[index].mass = \"\";\n        MatterEditor.vm.layers[index].A = \"\";\n        }\n        \n    density = GetDensity(num);\n    gas = (density<0.01 && density >0)?1:0;\n    \n    item.symbol = (symbol);\n    item.rho = (density);\n    item.gas = (gas);\n    \n    this.changel(index,item.l);  \n  };\n \n  MatterEditor.ui.changeA = function(index, val){\n    var item = MatterEditor.vm.layers[index];\n    var num = parseInt(val);\n    var numz = parseInt(item.Z);\n    if(isNaN(num) || num < 0){\n        var symbol = NucID.GetSymbol(0,numz);\n        item.symbol = symbol;\n        item.A = \"\";\n        item.mass = (ElementMass.GetMass(numz).toPrecision(7));\n        m.redraw();\n        return;\n        }\n        \n    item.A = (num);\n    var res = NucID.GetSymbol(num,numz);\n    item.symbol = (res);\n    var ndata = NucData.GetNucData(num,numz);\n    if(ndata[\"M\"]){\n        item.mass = (ndata[\"M\"].toPrecision(7));\n    }\n    else{\n        item.mass = \"\";\n    }\n    \n    this.changel(index,item.l);\n    m.redraw();\n  };\n\n\n  MatterEditor.ui.changerho = function(index, val){\n        var item = MatterEditor.vm.layers[index];\n        \n        var rho = parseFloat(val);\n        var l = parseFloat(item.l);\n        item.rho = val;\n        \n        if(isNaN(rho) || rho < 0){\n            return;\n            }\n        \n        var th = l*rho*1000;\n        item.th = (th.toPrecision(3));\n        m.redraw();\n    };\n\nMatterEditor.ui.changel = function(index, val){\n        var item = MatterEditor.vm.layers[index];\n        \n        var l = parseFloat(val);\n        var rho = parseFloat(item.rho);\n        var th = parseFloat(item.th);\n        item.l = val;\n        if(isNaN(l) || l < 0)return;\n        if(isNaN(rho) || rho < 0)return;\n        \n        th = l*rho*1000;\n        item.th = (th.toPrecision(4));\n        m.redraw();\n    };\n\nMatterEditor.ui.changeth = function(index, val){\n        var item = MatterEditor.vm.layers[index];\n        var th = parseFloat(val);\n        var rho = parseFloat(item.rho);\n        var l = parseFloat(item.l);\n        item.th = val;\n        if(isNaN(th) || th < 0)return;\n        if(isNaN(rho) || rho < 0)return;\n          \n        l = th/rho/1000;\n        item.l = (l.toPrecision(4));\n        m.redraw();\n    };\n\nMatterEditor.ui.Remove = function(index){\n    if(MatterEditor.vm.editindex==-1){\n        MatterEditor.vm.layers.splice(index,1);\n        App.clear_cache();\n        App.Save();\n        MatterEditor.vm.calculate();\n        m.redraw();\n    }\n  };\n\n  MatterEditor.ui.Add = function(){\n    MatterEditor.vm.editindex = MatterEditor.vm.layers.length;\n    MatterEditor.vm.layers.push( new MatterLayer({\"symbol\":\"\",\"name\":\"\",\"A\":\"\",\"Z\":\"\",\"mass\":\"\",\"rho\":0,\"th\":0,\"gas\":false}));\n  };\n\n  MatterEditor.ui.Down = function(index){\n    if(index>= (MatterEditor.vm.layers.length - 1))return;\n    if(MatterEditor.vm.editindex==-1){\n        var cur = MatterEditor.vm.layers[index];\n        MatterEditor.vm.layers[index] = MatterEditor.vm.layers[index+1];\n        MatterEditor.vm.layers[index+1] = cur;\n        App.clear_cache();\n        App.Save();\n        m.redraw();\n    }\n  };\n\n    MatterEditor.ui.Up = function(index){\n    if(index<1)return;\n    if(MatterEditor.vm.editindex==-1){\n        var cur = MatterEditor.vm.layers[index];\n        MatterEditor.vm.layers[index] = MatterEditor.vm.layers[index-1];\n        MatterEditor.vm.layers[index-1] = cur;\n        App.clear_cache();\n        App.Save();\n        m.redraw();\n    }\n  };\n\n  MatterEditor.ui.EditDone = function(){\n      \n      var item = MatterEditor.vm.layers[MatterEditor.vm.editindex];\n      \n      if(item.Z===\"\"){\n          alert(\"Wrong matter defined, matter removed\");\n          MatterEditor.vm.editindex = -1;\n          MatterEditor.ui.Remove(MatterEditor.vm.editindex);\n      }\n      \n      if(item.name===\"\"){\n        item.name = (\"Material_\"+MatterEditor.vm.editindex);\n      }\n      \n      if( isNaN(parseFloat(item.l)) ){\n          item.l = 0;\n          item.th = 0;\n          }\n          \n      if( isNaN(parseFloat(item.th)) ){\n          item.l = 0;\n          item.th = 0;\n          }\n        \n      if( isNaN(parseFloat(item.rho)) ){\n          item.rho = GetDensity(item.Z);\n          }\n          \n      item.l = parseFloat(item.l);\n      item.th = parseFloat(item.th);\n      item.rho = parseFloat(item.rho);\n      \n      MatterEditor.vm.editindex = -1;\n      App.clear_cache();\n      App.Save();\n      MatterEditor.vm.calculate();\n  };\n\n  MatterEditor.ui.Edit = function(index){\n      if(MatterEditor.vm.editindex==-1){\n        MatterEditor.vm.editindex = index;\n        m.redraw();\n        }\n  };\n\n\nMatterEditor.view = function(vnode){\n  var vm = vnode.state.vm;\n  var ui = vnode.state.ui;\n  if(vm.editindex>-1){\n      return MaterialEditor_itemEdit(vm.layers[vm.editindex],vm.editindex,ui);\n  }\n  \n  return m(\"div\",{style:\"overflow-x:auto;\"},[m(\"table\",{class:styles.table },[\n        m(\"thead\",{class:\"\"},[m(\"tr\",[\n              m(\"th\",{class:styles.th},\"#\"),\n              m(\"th\",{class:styles.th},\"name\"),\n              m(\"th\",{class:styles.th},\"matter\"),\n              m(\"th\",{class:styles.th},m.trust(\"density<br>(g/cm<sup>3</sub>)\")),\n              m(\"th\",{class:styles.th},m.trust(\"thick.<br>(mg/cm<sup>2</sup>)\")),\n              m(\"th\",{class:styles.th},m.trust(\"thick.<br>(cm)\")),\n              //m(\"th\",{class:th_class},\"gas\"),\n              m(\"th\",{class:styles.th},\"\")\n              ])]), // end of thead\n        m(\"tbody\",\n            vm.layers.map(function(item,index){ \n                return m(\"tr\",{class:styles.tr,ondblclick:ui.Edit.bind(ui,index)}, [\n                        m(\"td\",{class:styles.td},index),\n                        m(\"td\",{class:styles.td},item.name),\n                        m(\"td\",{class:styles.td},item.symbol),\n                        m(\"td\",{class:styles.td},item.rho),\n                        m(\"td\",{class:styles.td},(item.th>0)?item.th:text_error(item.th)),\n                        m(\"td\",{class:styles.td},(item.l>0)?item.l:text_error(item.l)),\n                        //m(\"td\",{class:td_class},item.gas()?\"yes\":\"no\"),\n                        m(\"td\",{class:styles.td},\n                            m(\"span\",{class:\"flex flex-row dib bg-moon-gray br-pill ph2\"},[\n                                m(\"a\",{class:styles.button_svg, onclick:noredraw(ui.Up.bind(ui,index)),title:\"Move Up\"},m.trust(svg_up(24))),\n                                m(\"a\",{class:styles.button_svg, onclick:noredraw(ui.Down.bind(ui,index)),title:\"Move Down\"},m.trust(svg_down(24))),\n                                m(\"a\",{class:styles.button_svg, onclick:noredraw(ui.Edit.bind(ui,index)),title:\"Edit\"},m.trust(svg_edit(24))),\n                                m(\"a\",{class:styles.button_svg, onclick:noredraw(ui.Remove.bind(ui,index)),title:\"Delete\"},m.trust(svg_delete(24)))\n                            ]))\n                      ]);\n                })\n    ) \n  ]), //end of table\n  m(\"div\",{class:styles.combine([styles.div_row,styles.padding_vertical])},[\n\t\t\t\t\t\t\t\tm(\"div\",{class:styles.div_cell_20}, m(\"a\",{class:styles.button_pill, onclick:ui.Add.bind(ui)},\"Add Matter\") ),\n\t\t\t\t\t\t\t\tm(\"div\",{class:styles.div_cell_80}, vm.layers.length?m(\"div\",[\"Total thickness = \"+vm.thickness.toFixed(3)+\" mg/cm2\",m(\"br\"),\"Total length = \"+vm.length.toFixed(3)+\" cm\"]):null )\n\t\t\t\t\t\t\t\t]),\n  m(\"span\",[\n    FileLoader({class:styles.button,id:\"loadmatter\",title:\"Add from File\"},App.AddLayersFromFile),\n    (vm.layers.length)?[\n                        button(\"Save as MOCADI\",function(){SaveFile(App.MOCADIstr(),\"input.in\");},styles.button_ns),\n                        button_route(\"Plots\",\"/plot\")\n                        ]:null\n    ])\n  ]);\n};\n\n\nfunction MaterialEditor_itemEdit(item,index,ctrl){\n  var input_style = \"width:7em;\";\n     \n  var cont = \n    m(\"div\",{onkeyup:escape(ctrl.EditDone.bind(ctrl))},\n      [\n        m(\"div\",{class:styles.h3},\"Material #\"+index),\n        m(\"div\",{class:styles.div_row},\n          [\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_name\",title:\"Name of the matter, ie vacuum window, this is optional\"},\"Name\"),\n              m(\"input\",{type:\"text\",style:\"width:10em;\",placeholder:\"optional name\",id:\"input_material_name\", oninput:function(e){e.redraw = false; item.name=e.currentTarget[\"value\"];},value:item.name})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_symbol\",title:\"Type element or nucleus symbol or compund matter ie air, P10, water...\"},\"Symbol\"),\n              m(\"input\",{type:\"text\",style:\"width:10em\",placeholder:\"i.e. Fe, 12C\",id:\"input_material_symbol\",oninput:m.withAttr(\"value\",ctrl.changeSymbol.bind(ctrl,index)),value:item.symbol})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_A\", title:\"Mass number or leave empty or zero for natural target\"},\"A\"),\n              m(\"input\",{type:\"text\",style:input_style,id:\"input_material_A\", oninput:withAttr_nr(\"value\",ctrl.changeA.bind(ctrl,index)),value:item.A})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_Z\"},\"Z\"),\n              m(\"input\",{type:\"text\",style:input_style,id:\"input_material_Z\", oninput:m.withAttr(\"value\",ctrl.changeZ.bind(ctrl,index)),value:(item.Z<200)?item.Z:\"\"})\n            ])\n          ]),\n        m(\"div\",{class:styles.div_row},\n          [\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_mass\"},m.trust(\"mass<br>(u)\")),\n              m(\"input\",{type:\"text\",style:input_style,id:\"input_material_mass\", oninput:function(e){e.redraw = false; item.mass=e.currentTarget[\"value\"];},value:item.mass})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_rho\"},m.trust(\"density<br>(g/cm<sup>3</sub>)\")),\n              m(\"input\",{type:\"text\",style:input_style,id:\"input_material_rho\", oninput:withAttr_nr(\"value\",ctrl.changerho.bind(ctrl,index)),value:item.rho})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_th\"},m.trust(\"Thickness<br>(mg/cm<sup>2</sub>)\")),\n              m(\"input\",{type:\"text\",style:input_style,id:\"input_material_th\", oninput:withAttr_nr(\"value\",ctrl.changeth.bind(ctrl,index)),value:item.th})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_l\"},m.trust(\"Length<br>(cm)\")),\n              m(\"input\",{type:\"text\",style:input_style,id:\"input_material_l\", oninput:withAttr_nr(\"value\",ctrl.changel.bind(ctrl,index)),value:item.l})\n            ]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label},m.trust(\"Thickness<br>calculator\")),\n              m(ThicknessCalculator,{index:index}),\n                              button_route(\"Show Plots\",\"/materialplot\")\n            ])\n          ]),\n\n        m(\"div\",{class:styles.combine([styles.div_row,\"items-center mt2\"])},\n          [\n            m(\"div\",{class:styles.div_cell_20},m(\"a\",{class:styles.button_full,onclick:ctrl.EditDone.bind(ctrl)},\"Done\")),\n            m(\"div\",{class:styles.div_cell_80},[\"Compounds:\",CompundMatterSelect({onchange:ctrl.changeZ.bind(ctrl,index)})])\n          ]),\n        (item.Z>200)?m(\"div\",{class:styles.combine([styles.div_row,\"items-center justify-center\"])},\n          [\n            m(\"div\",{class:styles.div_cell},[\n            m(\"div\",{class:styles.h3},\n            MOCADI_Matter.GetName(item.Z)),\n            render_composition(MOCADI_Matter.Get(item.Z))]),\n            m(\"div\",{class:styles.form_element},[\n              m(\"label\",{class:styles.label,for:\"input_material_I\",title:\"Mean Ionization Potential in eV or empty for elemental ionization potentials\"},\"<I>\",\n              m(\"input\",{\n                  class:\"db\",\n                  type:\"text\",\n                  style:\"width:7em;\",\n                  id:\"input_material_I\", \n                  onkeyup:enterescape(ctrl.EditDone.bind(ctrl),ctrl.EditDone.bind(ctrl)),\n                  oninput:function(e){\n                      e.redraw = false;\n                      if(e.currentTarget[\"value\"].length==0){\n                          item.I = 0.0;\n                          return;\n                      }\n                      var val = parseFloat(e.currentTarget[\"value\"]);\n                      if(!isNaN(val) && val>0){\n                          item.I = val;\n                          m.redraw();\n                          }\n                      },\n                  value:(item.I>0.0)?item.I:\"\"}\n                  )\n                )\n            ]),\n            m(\"div\",{class:styles.div_cell},m(\"a\",{href:\"physics.html#compounds\",target:\"_blank\",title:\"Bragg Rules is used to calculate energy loss of compounds. For custom non-elemental Ionization potential enter the mean I value in eV units or leave empty, click for more details\"},m.trust(svg_info())))\n          ]):null\n      ]);\n        \n        //return m(CardComponent,{title:index+\": \"+item.name,content:cont});\n      return cont;\n}\n\nvar thickness_calculator2 = {};\nthickness_calculator2.th = 0.0;\nthickness_calculator2.l = 0.0;\nthickness_calculator2.calculate_th = function(index,type, val){\n    //var item = MatterEditor.vm.layers[index];\n    var rho = MatterEditor.vm.layers[index].rho;\n    rho = parseFloat(rho);\n    var num= parseFloat(val);\n    if(isNaN(num) || num<0){\n        console.log(\"could not parse number\");\n        return;\n        }\n    Catima.get_energy_out().then(\n        function(eouts){\n            if(index>=eouts.length){\n                return -1;\n                }\n            var Ein = (index>0)?eouts[index-1]:App.projectile.state.T;\n            return Ein;\n            }).then(function(T){\n                thickness_calculator2.th = -1;\n                thickness_calculator2.l = -1;\n                if(T<0)return;\n                if(type == 0 && num>T)return;\n                if(type == 1 && num>1.0)return;\n                \n                Catima.get_data(Catima.prepare_one(index)).then(function(res){\n                    var srange = new spline(res[0].energy, res[0].range);\n                    if(type==0){                 \n                        thickness_calculator2.th = 1000*(srange.at(T)-srange.at(num));\n                    }\n                    else{\n                        thickness_calculator2.th = 1000*(srange.at(T)*num);\n                        }\n                    thickness_calculator2.l = thickness_calculator2.th/rho/1000;\n                    m.redraw();\n                });            \n                \n                });\n  };\n\n\nvar ThicknessCalculator = {};\n\nThicknessCalculator.submit = function(index,th, callback){\n    if(th>0.0){\n      MatterEditor.ui.changeth(index,th.toFixed(2));\n      if(callback)callback.apply(this);\n      }\n  };\n\nThicknessCalculator.oninit = function(){\n  thickness_calculator2.th = 0.0;\n  thickness_calculator2.l = 0.0;\n};\n\nThicknessCalculator.view = function(vnode){\n  var index = vnode.attrs.index;\n  var vm = thickness_calculator2;\n  var input_style = \"width:7em;\";\n  \n  return  m(ToggleComponent,{id:\"_thcal\", title:\"Calculate\", \n      content: m(\"div\",{class:styles.div_column},[\n                m(\"div\",\"Adjust thickness to: \"),\n                m(\"label\",{class:styles.label,for:\"input_Eout\", title:\"Enter Energy after material\"},\"Eout (MeV/u)\"),\n                m(\"input\",{type:\"text\",style:input_style,\n                            id:\"input_Eout\", \n                            oninput:withAttr_nr(\"value\",debounce(vm.calculate_th.bind(vnode.state,index,0),500))\n                            }),\n                m(\"label\",{class:styles.label,for:\"input_RangeFraction\", title:\"Enter Fraction of Range\"},\"th/range\"),\n                m(\"input\",{type:\"text\",style:input_style,\n                            id:\"input_RangeFraction\", \n                            oninput:withAttr_nr(\"value\",debounce(vm.calculate_th.bind(vnode.state,index,1),500))\n                            }),\n                (vm.th>=0.0)?m(\"div\",{class:styles.div_cell},[\n                        \"Th. = \"+vm.th.toFixed(2),m.trust(\" mg/cm<sup>2</sup><br>\"),\n                        \"Length    = \"+vm.l.toFixed(5)+\" cm\"\n                        ]):m(\"div\",text_error(\"Wrong value!\")),\n                (vm.th>0.0)?button(\"Submit Thickness\",vnode.state.submit.bind(vnode.state,index,vm.th,ToggleComponent.off.bind(this,\"_thcal\"))):null\n              ])\n      });\n              \n  /*\n  return m(\"div\",{class:styles.form_element},[\n                m(\"div\",\"Adjust thickness to: \"),\n                m(\"label\",{class:styles.label,for:\"input_Eout\", title:\"Enter Energy after material\"},\"Eout (MeV/u)\"),\n                m(\"input\",{type:\"text\",style:input_style,\n                            id:\"input_Eout\", \n                            oninput:withAttr_nr(\"value\",debounce(vm.calculate_th.bind(vnode.state,index),500))\n                            }),\n                (vm.th>=0.0)?m(\"div\",{class:styles.div_cell},[\n                        \"Th. = \"+vm.th.toFixed(2),m.trust(\" mg/cm<sup>2</sup><br>\"),\n                        \"Length    = \"+vm.l.toFixed(5)+\" cm\"\n                        ]):m(\"div\",text_error(\"Wrong value!\")),\n                (vm.th>0.0)?button(\"Submit Thickness\",vnode.state.submit.bind(vnode.state,index,vm.th)):null\n              ]);\n*/\n};\n\nexport {MatterEditor};\n","import {catima_config} from \"./catima_config.js\";\nimport {MatterEditor, MatterLayer} from \"./material_editor_component.js\";\nimport {StorageAPI} from \"../vendor/storage\";\nimport {Catima} from \"./catima.js\";\nimport Raven from 'raven-js';\nimport { append_script } from \"./utils.js\";\nimport {SharpCalculator} from \"../vendor/calculator\";\n\nexport var App = App||{};\nApp.state = {};\nApp.state.nuc = \"\";\nApp.state.T = 0;\nApp.state.matter = [];\nApp.state.config = new catima_config();\nApp.info = \"\";\nApp.projectile = new SharpCalculator();\nApp.projectile.Set.T(100.0);\nApp.MatterEditor = MatterEditor;\n\nwindow.App = App;\n\nApp.LoadJSONFile = function(file){\n    var reader = new FileReader();\n    reader.onload = (function(){\n                        return function(_e){\n                            try{\n                                App.Load(JSON.parse(_e.target.result));\n                                App.Save();\n                            }\n                            catch(err){\n                                alert(\"Failed to load file\");\n                            }\n                            finally{\n                                m.redraw();\n                            }\n                            };\n                    })(file);\n    reader.readAsText(file);\n};\n\nApp.AddLayersFromFile = function(file){\n    var reader = new FileReader();\n    reader.onload = (function(){\n                        return function(_e){\n                            try{\n                                App.AddLayers(JSON.parse(_e.target.result));\n                                App.Save();\n                            }\n                            catch(err){\n                                alert(\"Failed to add material layers\");\n                                App.report(err);\n                            }\n                            finally{\n                                m.redraw();\n                            }\n                            };\n                    })(file);\n    reader.readAsText(file);\n};\n\nApp.get_editindex = function(){\n    return MatterEditor.vm.editindex;\n};\n\nApp.get_edit_layer = function(){\n    if(MatterEditor.vm.editindex>-1)\n        return MatterEditor.vm.layers[MatterEditor.vm.editindex];\n    else return null;\n};\n\nApp.Load = function(data){\n    if(!data){\n        return;\n    }\n\n    // old style\n    if(data.hasOwnProperty(\"nuc\") && Array.isArray(data.nuc)){\n        App.projectile.SetNucleus(data.nuc[0],data.nuc[1],data.nuc[2]);\n    }\n\n    if(data.hasOwnProperty(\"T\")){\n        App.projectile.Set.T(data.T);\n    }\n    \n    // new style\n    if(data.hasOwnProperty(\"projectile\") && data.projectile.hasOwnProperty(\"A\") && data.projectile.hasOwnProperty(\"Z\")){\n        App.projectile.SetNucleus(data.projectile.A,data.projectile.Z,data.projectile.Q);\n        if(data.projectile.hasOwnProperty(\"T\")){\n            App.projectile.Set.T(data.projectile.T);\n        }\n    }\n    \n    MatterEditor.vm.layers.length = 0; // delete current data\n    App.AddLayers(data);\n    MatterEditor.vm.calculate();\n\n    if(data.config){\n        App.state.config.set(data.config);\n    }\n    App.loaded  = true;\n    App.Save();\n};\n\nApp.AddLayers = function(data){\n    if(!data.matter)return;\n    for(var i=0;i<data.matter.length;i++){\n            var layer = data.matter[i];\n            if(Array.isArray(layer)){ // this comes from server where is it saved as array\n                var ll = {};\n                ll.name = \"matter\"+i;\n                ll.A = layer[0];\n                ll.Z = layer[1];\n                ll.rho = layer[2];\n                ll.th = layer[3];\n                ll.gas = layer[4];\n                ll.mass = layer[5];\n                ll.I = layer[6];\n                MatterEditor.vm.layers.push( new MatterLayer(ll));\n            }\n            else{ // comes from file as dictionary\n                MatterEditor.vm.layers.push( new MatterLayer(layer));\n                }        \n        }\n};\n\nApp.Save = function(){\n    App.state.nuc = App.projectile.GetNucleus();\n    App.state.T = App.projectile.state.T;\n    App.state.matter = MatterEditor.vm.layers;\n    App.state.units = [1,1000,1];\n    StorageAPI.save(\"state\",App.state);\n};\n\nApp.DeleteStorage = function(){\n    localStorage.clear();\n};\n\nApp.MOCADIstr = function(){\n    var nuc = App.projectile.GetNucleus();\n    var T = App.projectile.state.T;\n    var matter = MatterEditor.vm.layers;\n    \n    var mocadistr = \"epax 2\\natima-1.0\\noption listmode tree\\n\";\n    // beam keyword\n    mocadistr = mocadistr + \"BEAM\\n20000\\n\" + T +\", 0, \"+nuc[0]+\", \"+nuc[1]+\", \"+(nuc[1]-nuc[2])+\"\\n\";\n    mocadistr = mocadistr + \"2\\n0, 0, 0, 0, 0\\n\";\n    mocadistr = mocadistr + \"2\\n0, 0, 0, 0, 0\\n\";\n    mocadistr = mocadistr + \"2\\n0, 0, 0, 0, 0\\n\";\n    \n    //save start\n    mocadistr = mocadistr + \"*\\nERWARTUNGSWERTE START\\nSAVE START\";\n    \n    //matters\n    for(var i=0;i<matter.length;i++){\n        var mstr = \"\\n*** \"+matter[i].name+\" ***\\nMATTER\\n\"+(matter[i].A||0)+\", \"+matter[i].Z+\", \"+(1000.0*matter[i].rho);\n        mstr = mstr+\"\\n3, \"+matter[i].th; //converto to mg/cm2 as in mocadi\n        mstr = mstr+\"\\n0\\n0, 0, 0\";\n        mstr = mstr+\"\\n1, 1, 0\\n0\";\n        mocadistr = mocadistr+mstr;\n    }\n    //save end\n    mocadistr = mocadistr + \"\\n*\\nERWARTUNGSWERTE END\\nSAVE END\";\n    mocadistr = mocadistr + \"\\nEND\";\n    return mocadistr; \n};\n\nApp.fileapi = false;\nApp.datavalid = false;\nApp.loaded = false;\nApp.clear_cache = function(){\n    App.datavalid = false;\n    if(Catima){\n\t\tCatima.clear();\n\t\t}\n};\n\n/////////////// Browser Check ///////////////\nApp.CheckBrowser = function(){\n    var r = true;\n    if(!window.FileReader)r=false;\n    //if(!window.Worker)r=false;\n    if(!window.localStorage)r=false;\n    if(!('startsWith' in String.prototype)) {\n        var features = ['String.prototype.startsWith'];\n        var src = 'https://cdn.polyfill.io/v2/polyfill.min.js?features='+features.join(',')+'&flags=gated,always';\n        append_script([src]);\n    }\n\n    return r;\n    };\n\nApp.load_config = function(uid){\n    return Catima.load_config(uid).then(function(res){\n        if(res.error || !res.input){\n            alert(\"Failed to load remote configuration:\"+res.error);\n            App.report(\"failed to load remote config, uid=\"+uid);\n        }\n        App.Load(res.input);\n\n    }).catch(function(){\n        alert(\"Failed to load remote configuration\");\n        App.report(\"failed to load remote config, uid=\"+uid);\n    });\n};\n\nApp.report = function(e, info){\n    console.log(e);\n    var extra = null;\n    if(info){\n        extra = {extra:info};\n    }\n    if(typeof e === \"string\")\n        Raven.captureMessage(e,extra);  \n    else \n        Raven.captureException(e,extra);  \n};\n","import {App} from \"./app.js\";\nimport {spline} from \"../vendor/spline\";\n\nvar Catima = {};\n\nCatima.energy_min = 1e-3;\nCatima.energy_max = 1e5;\nCatima.epsilon = 1e-9;\n\n\nCatima.url = \"https://isotopea.com/api/catima/\";\n//Catima.url = \"http://127.0.0.1:5000/\";\n\nCatima.check_material_duplicate = function(arr,val){\n    return  arr.some(function(el){\n        return (el.A==val.A && el.Z==val.Z && el.mass==val.mass);\n    });\n};\n\nCatima.prepare = function(unique,valid){\n    var input = {};\n    var nuc = App.projectile.state;\n    var matter = App.MatterEditor.vm.layers;\n    if(matter.length<1 || nuc.T<1e-3)return {};\n    input.projectile={ \n                        \"mA\":nuc.mA,\n                        \"A\":nuc.A,\n                        \"Z\":nuc.Z,\n                        \"Q\":nuc.Q,\n                        \"T\":nuc.T\n                    };\n    input.matter = [];\n    for(var i=0;i<matter.length;i++){\n        //var v = matter[i].toArray();\n        var v = matter[i].toObject();\n        var b = false;\n        if(unique){\n            b = Catima.check_material_duplicate(input.matter,v);\n        }\n\n        if(valid){\n            if(matter[i].rho > 0 && matter[i].th > 0){\n            if(!unique || !b)\n                input.matter.push(v);\n            }\n        }\n        else{\n            if(!unique || !b)\n                input.matter.push(v);\n        }\n      }\n  \n      if(App.state.config){\n          input.config = App.state.config;\n      }\n    return input;\n};\n\nCatima.prepare_one = function(index){\n    var input = {};\n    var nuc = App.projectile.state;\n    var matter = App.MatterEditor.vm.layers;\n    if(matter.length<1 || nuc.T<1e-3)return {};\n\n    input.projectile={ \n        \"mA\":nuc.mA,\n        \"A\":nuc.A,\n        \"Z\":nuc.Z,\n        \"Q\":nuc.Q,\n        \"T\":nuc.T\n    };\n    input.matter = [];\n    if(index>=matter.length)return {};\n    //var v = matter[index].toArray();    \n    var v = matter[index].toObject();\n    if(matter[index].rho > 0){\n        input.matter.push(v);\n        }\n    \n    if(App.state.config){\n        input.config = App.state.config;\n        }\n    return input;\n};\n\nCatima.check_cache = function(matter){\n    var res = [];\n    /*  this was older version where matter layer was as array\n    for(var i=0;i<Catima.data.length;i++){\n        var e = Catima.data[i];\n        if(e.Zm>200 && e.Zm == matter[1]){\n            if(e.I>0 && (matter[6]!=e.I))continue;\n            res.push(e);\n            break;\n            }\n        if(e.Zm == matter[1] && e.Am == matter[0] && Math.abs(e.M - matter[5])<Catima.epsilon){\n            if(e.I>0 && (matter[6]!=e.I))continue;\n            res.push(e);\n            break;\n            }\n        \n        }*/\n\n        for(var i=0;i<Catima.data.length;i++){\n            var e = Catima.data[i];\n            if(e.Zm>200 && e.Zm == matter.Z){\n                if(e.I>0 && (matter.I!=e.I))continue;\n                res.push(e);\n                break;\n                }\n            if(e.Zm == matter.Z && e.Am == matter.A && Math.abs(e.M - matter.mass)<Catima.epsilon){\n                if(e.I>0 && (matter.I!=e.I))continue;\n                res.push(e);\n                break;\n                }\n            \n            }\n\n    return res;\n};\n\nCatima.data = [];\nCatima.clear = function(){\n    Catima.data = [];\n};\n\nCatima.check_input = function(input){\n    if(!input.projectile && input.projectile.T>0){\n        return false;\n    }\n    if(!input.matter || !Array.isArray(input.matter)){\n        return false;\n    }\n    if(input.matter.length<1){\n        return false;\n    }\n    return true;\n};\n\n// calculate layers\nCatima.calculate = function(input){\n    if(!Catima.check_input(input)){\n        App.report(\"wrong input\",input);\n        return Promise.resolve({});\n    }\n    return m.request({method:\"POST\",url:Catima.url+\"calculate\", data:input, background:true}).then(\n        function(res){\n            return res;\n        },\n        function(){\n          App.report(\"Catima could not retrieve data\");\n          return {\"error\":\"Failed to retrieve data\"};\n        }\n        );\n};\n\n// load catima data from server if not in cache already, if loading from server Promise is returned.\nCatima.get_data = function(input){\n    if(!Catima.check_input(input)){\n        App.report(\"wrong input\",input);\n        return Promise.resolve([]);\n    }\n\n    if(input.matter.length == 1){\n        var cache = Catima.check_cache(input.matter[0]);\n        if(cache.length == 1){\n            return Promise.resolve(cache);\n        } \n    }\n\n    return m.request({method:\"POST\",url:Catima.url+\"data\", data:input, background:false}).then(\n        function(res){\n            if(!res.data){\n                return []; \n            }\n            Catima.data = [];\n            for(var i=0;i<res.data.length;i++){\n                var entry = {};\n                entry.energy = new Float32Array(res.energy);\n                entry.projectile = res.projectile;\n                entry.dEdx = new Float32Array(res.data[i].dEdx);\n                entry.range = new Float32Array(res.data[i].range);\n                var zm = parseInt(res.data[i].Zm);\n                var am = parseFloat(res.data[i].Am);\n                entry.Am = am;\n                entry.Zm = zm;\n                entry.M = res.data[i].M;\n                entry.I = (res.data[i].I)?res.data[i].I:0;\n                Catima.data.push(entry);\n            }\n            return Catima.data;\n        },\n        function(){\n          return [];\n        }\n        );\n};\n\nCatima.energy_out = function(T, thickness, dedx_spline, range_spline){\n    var range = range_spline.at(T);\n    var dedx = dedx_spline.at(T);\n    if(range<thickness){\n        return 0.0;\n        }\n    var e = T - (thickness*dedx);\n    if(e<1e-3)return 0.0;\n    for(var i=0;i<100;i++){\n        var r = range - range_spline.at(e)-thickness;\n        if(Math.abs(r)<1e-4){\n            return e;\n        }\n        var step = -r*dedx;\n        e = e - step;\n        if(e<1e-3)return 0.0;\n        dedx = dedx_spline.at(e);\n    }\n    return -1;\n};\n\nCatima.Eout_vs_thickness = function(data, T){\n    var sdedx = new spline(data.energy,data.dEdx);\n    var srange = new spline(data.energy,data.range);\n    var range = srange.at(T);\n    \n    //var num = range/0.001;\n    var num = 100;\n    if(num>1000)num=1000;\n    if(num<10)num=10;\n    \n    var step = T/(num);\n    if(step<1e-3)step=1e-3;\n\n    var thicknesses = new Float32Array(num);\n    var eout = new Float32Array(num);\n    var Eloss = new Float32Array(num);\n    var dedxi = new Float32Array(num);\n    \n    var e = T;\n    thicknesses[0] = 0.0;\n    eout[0] = e;\n    Eloss[0] = 0.0;\n    dedxi[0] = sdedx.at(T);\n    for(var i = 1; i<num; i++){\n        e = e - step;\n        eout[i] = e;\n        var rdif = range-srange.at(e);\n        thicknesses[i] = rdif;\n        var edif = (T - e);\n        Eloss[i] = edif*data.projectile.A;\n        dedxi[i] = sdedx.at(e);\n    }\n    return [thicknesses, eout, Eloss,dedxi];\n};\n\nCatima.get_energy_out = function(){\n    var matter = App.MatterEditor.vm.layers;\n    if(matter.length==1 && matter[0].th==0.0){\n        return Promise.resolve([App.projectile.state.T]);\n        }\n    return Catima.get_data(Catima.prepare()).then(function(){\n    var eouts = [];\n    var e = App.projectile.state.T;\n    for(var i=0;i<matter.length;i++){\n        var data = Catima.check_cache(matter[i]);\n        if(data.length!=1){\n            console.log(\"cache not found?, length = \"+data.length);\n            App.report(\"Cache not found? \"+data.length);\n            return[];\n            }\n        var res = Catima.Eout_vs_thickness(data[0],e);\n        var eout_vs_th = new spline(res[0],res[1]);\n        e = eout_vs_th.at(matter[i].th*0.001);\n        eouts.push(e);\n        }\n    return eouts;\n    });\n};\n\n\nCatima.load_config = function(id){\n    return m.request({method:\"POST\", url:Catima.url+\"load\", data:{\"id\":id}});\n};\n\nexport {Catima};\n","import {styles} from \"./styles.js\";\nimport {button, button_route, text_error} from \"./utils.js\";\nimport {Catima} from \"./catima.js\";\nimport {App} from \"./app.js\";\nimport {NucData} from \"../vendor/nucdata\";\n\nvar NucleusSelector = {};\n\nNucleusSelector.ui = {};\nNucleusSelector.nuc = {};\nNucleusSelector.oninit = function(){   \n    NucleusSelector.nuc = App.projectile;\n    NucleusSelector.ui.uiupdate();\n    App.clear_cache();\n};\n\nNucleusSelector.ui.uiupdate = function(){\n     \n      NucleusSelector.ui.Symbol = NucleusSelector.nuc.state.Symbol;\n      NucleusSelector.ui.A = NucleusSelector.nuc.state.A;\n      NucleusSelector.ui.Z = NucleusSelector.nuc.state.Z;\n      NucleusSelector.ui.Q = NucleusSelector.nuc.state.Q;\n      NucleusSelector.ui.T = NucleusSelector.nuc.state.T.toFixed(4);\n      NucleusSelector.ui.Brho = NucleusSelector.nuc.state.Brho.toFixed(4);\n      NucleusSelector.ui.Beta   = NucleusSelector.nuc.state.Beta.toFixed(6);\n      NucleusSelector.ui.Gamma   = NucleusSelector.nuc.state.Gamma.toFixed(5);\n      NucleusSelector.ui.P   = NucleusSelector.nuc.state.P.toFixed(3);\n      NucleusSelector.ui.Nth   = NucleusSelector.nuc.state.Nth.toFixed(4);\n      if(isNaN(NucleusSelector.ui.Nth)){\n        NucleusSelector.ui.Nth = \"\";\n      }\n      App.clear_cache();\n  };\n\nNucleusSelector.ui.changesymbol = function(sym){\n    NucleusSelector.ui.Symbol = sym;\n    if(NucleusSelector.nuc.SetNucleusSymbol(sym)){\n        NucleusSelector.ui.uiupdate();\n        }\n    };\n\n\nNucleusSelector.ui.changeA = function(val){\n    NucleusSelector.ui.A = val;\n    var num = parseFloat(val);\n    if(!isNaN(num) && NucleusSelector.nuc.Set.A(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.A = val;\n        }\n    };\n\nNucleusSelector.ui.changeZ = function(val){\n    NucleusSelector.ui.Z = val;\n    var num = parseFloat(val);\n    if(!isNaN(num) && NucleusSelector.nuc.Set.Z(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.Z = val;\n        }\n    };\n\nNucleusSelector.ui.changeQ = function(val){\n    NucleusSelector.ui.Q = val;\n    var num = parseFloat(val);\n    if(!isNaN(num) && NucleusSelector.nuc.Set.Q(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.Q = val;\n        }\n    };\n\nNucleusSelector.ui.changeT = function(val){\n    NucleusSelector.ui.T = val;\n    var num = parseFloat(val);\n    if(isNaN(num))return;\n    if(NucleusSelector.nuc.Set.T(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.T = val;\n        }\n    };\n\nNucleusSelector.ui.changeBeta = function(val){\n    NucleusSelector.ui.Beta = val;\n    var num = parseFloat(val);\n    if(isNaN(num))return;\n    if(NucleusSelector.nuc.Set.Beta(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.Beta = val;\n        }\n    };\n    \nNucleusSelector.ui.changeGamma = function(val){\n    NucleusSelector.ui.Gamma = val;\n    var num = parseFloat(val);\n    if(isNaN(num))return;\n    if(NucleusSelector.nuc.Set.Gamma(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.Gamma = val;\n        }\n    };\n\nNucleusSelector.ui.changeBrho = function(val){\n    NucleusSelector.ui.Brho = val;\n    var num = parseFloat(val);\n    if(isNaN(num))return;\n    if(NucleusSelector.nuc.Set.Brho(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.Brho = val;\n        }\n    };\n    \nNucleusSelector.ui.changeP = function(val){\n    NucleusSelector.ui.P = val;\n    var num = parseFloat(val);\n    if(isNaN(num))return;\n    if(NucleusSelector.nuc.Set.P(num)){\n        NucleusSelector.ui.uiupdate();\n        NucleusSelector.ui.P = val;\n        }\n    };\n\nNucleusSelector.ui.changeNth = function(val){\n        NucleusSelector.ui.Nth = val;\n        var num = parseFloat(val);\n        if(isNaN(num))return;\n        if(NucleusSelector.nuc.Set.Nth(num)){\n            NucleusSelector.ui.uiupdate();\n            NucleusSelector.ui.Nth = val;\n            }\n        };\n\nNucleusSelector.ui.done = function(){\n    if(NucleusSelector.nuc.state.T>Catima.energy_max){\n          alert(\"Maximal allowed energy is \"+Catima.energy_max+\" MeV/u\");\n          NucleusSelector.nuc.Set.T(Catima.energy_max);\n      }\n    if(NucleusSelector.nuc.state.T<Catima.energy_min){\n        alert(\"Set Energy more than \"+Catima.energy_min+\" MeV/u\");\n        }\n\n        App.Save();\n        m.route.set(\"/\");    \n    };\n\nfunction form_element(args){\n    return m(\"div\",{class:styles.form_element},[\n        m(\"label\",{class:styles.label,for:args.id},args.label),\n        m(\"input\",{\n            class:\"db\",\n            id:args.id||\"_id\"+args.label,\n            value:args.value, \n            type:args.type||\"text\",\n            placeholder:args.placeholder||\"\",\n            style:args.style||\"\",\n            oninput:args.oninput})\n        ]);\n}\n\nNucleusSelector.view = function(vnode){\n  var cell = function(e){\n      return m(\"div\",{class:styles.div_cell},e);\n  };\n \n  var ui = vnode.state.ui;\n  var nucinfo = NucData.GetNucData(NucleusSelector.nuc.state.A,NucleusSelector.nuc.state.Z);\n  var nucs = NucData.GetNucS(NucleusSelector.nuc.state.A,NucleusSelector.nuc.state.Z);\n  \n  return m(\"div\",\n    [\n    m(\"h2\",\"Projectile\"),\n    m(\"div\",{class:styles.div_row},[\n        cell(form_element({label:\"Symbol\",placeholder:\"ie 12C\",style:\"width:7em\",value:ui.Symbol,oninput:m.withAttr(\"value\",ui.changesymbol,ui)})),\n        cell(form_element({label:\"A\",style:\"width:7em\",value:ui.A,oninput:m.withAttr(\"value\",ui.changeA,ui)})),\n        cell(form_element({label:\"Z\",style:\"width:7em\",value:ui.Z,oninput:m.withAttr(\"value\",ui.changeZ,ui)})),\n        cell(form_element({label:\"Q\",style:\"width:7em\",value:ui.Q,oninput:m.withAttr(\"value\",ui.changeQ,ui)}))\n    ]), // end of 1st row\n    m(\"div\",{class:styles.div_row},[\n        cell(form_element({label:\"Energy [MeV/u]\",style:\"width:7em\",value:ui.T,oninput:m.withAttr(\"value\",ui.changeT,ui)})),\n        cell(form_element({label:\"Brho [Tm]\",style:\"width:7em\",value:ui.Brho,oninput:m.withAttr(\"value\",ui.changeBrho,ui)})),\n        cell(form_element({label:m.trust(\"&#946;\"),style:\"width:7em\",value:ui.Beta,oninput:m.withAttr(\"value\",ui.changeBeta,ui)})),\n        cell(form_element({label:m.trust(\"&#947;\"),style:\"width:7em\",value:ui.Gamma,oninput:m.withAttr(\"value\",ui.changeGamma,ui)}))\n    ]), //end of 2nd row\n    m(\"div\",{class:styles.div_row},[\n        cell(form_element({label:m.trust(\"p [MeV/c]\"),style:\"width:7em\",value:ui.P,oninput:m.withAttr(\"value\",ui.changeP,ui)})),\n        cell(form_element({label:m.trust(\"n<sub>th</sub>\"),style:\"width:7em\",value:ui.Nth,oninput:m.withAttr(\"value\",ui.changeNth,ui)}))\n    ]), //end of 3rd row\n    m(\"div\",{class:styles.div_row},[\n        m(\"ul\",{class:styles.ul},[\n                m(\"li\",{class:styles.li},\"mA = \",NucleusSelector.nuc.state.mA.toFixed(5)+\" u\"),\n                m(\"li\",{class:styles.li},\"A/Q = \",NucleusSelector.nuc.state.AoQ.toFixed(5)),\n                (nucinfo.hasOwnProperty(\"T\"))?m(\"li\",{class:styles.li},\"half life = \",nucinfo.T):null,\n                (nucs.hasOwnProperty(\"Sn\"))?m(\"li\",{class:styles.li},\"Sn = \",nucs.Sn.toFixed(3)+\" MeV\"):null,\n                (nucs.hasOwnProperty(\"Sp\"))?m(\"li\",{class:styles.li},\"Sp = \",nucs.Sp.toFixed(3)+\" MeV\"):null,\n                (nucs.hasOwnProperty(\"S2n\"))?m(\"li\",{class:styles.li},\"S2n = \",nucs.S2n.toFixed(3)+\" MeV\"):null,\n                (nucs.hasOwnProperty(\"S2p\"))?m(\"li\",{class:styles.li},\"S2p = \",nucs.S2p.toFixed(3)+\" MeV\"):null,\n                (nucinfo.hasOwnProperty(\"M\"))?null:m(\"li\",{class:styles.li},\"warning: Nucleus was not found in the AME16 database\")\n        ])\n    ]), //3rd row\n    m(\"div\",{class:styles.div_row},\n        \n        button(\"Done\",ui.done, styles.button_full)\n                )\n    ]);\n};\n\nvar NucleusInfo = {};\nNucleusInfo.view = function(vnode){\n  var state = vnode.attrs.nucleus.state;\n  return m(\"div\",{class:styles.div_column},[\n    \n        m(\"span\",{class:styles.h3},m.trust(state.Symbol+\"<sup>\"+state.Q+\"+</sup>\")), \n        m(\"p\",{class:\"f5\"},[\n            \"T = \",(state.T<1e-3)?text_error(state.T.toPrecision(6)):state.T.toPrecision(6),\" MeV/u\",m(\"br\"),\n            m.trust(\"B&#961= \"),state.Brho.toPrecision(6),\" Tm\",m(\"br\"),\n            \"mA = \",state.mA.toFixed(5),\" u\",m(\"br\"),\n            \"A/Q = \",state.AoQ.toFixed(4),m(\"br\"),\n        ]),\n        button_route(\"Change\",\"/nucchange\"),\n\n   ]//row\n    );\n};\n\nexport {NucleusSelector, NucleusInfo};\n","import {append_script} from \"./utils.js\";\n\nvar vega_loaded = false;\nfunction load_vega(){\n    //if(typeof vega === \"undefined\"){\n        return append_script([\n            \"https://cdn.jsdelivr.net/npm/vega@4.2.0\",\n            \"https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc0\",\n            \"https://cdn.jsdelivr.net/npm/vega-embed@3.18.1\"\n            ]).then(function(){\n                vega_loaded = true;\n                return vega_loaded;\n                });\n      //  }\n}\n\nexport function vegaplot(d){\n    this.id = d.id || \"catimaplot\";\n    this.values = d.values||[];\n    this.specs = {\n        \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n        \"title\" : \"\",\n        \"autosize\":{\"type\":\"fit\"},\n        \"width\":d.width||800,\n        \"height\":d.height||600,\n        \"data\": {\n          \"values\": this.values\n            },\n        \"selection\":{\n                \"grid\":{\"type\":\"interval\",\"bind\":\"scales\"}\n            },\n        \n            \"mark\": d.mark||\"circle\",\n            \"encoding\": {\n                \"x\": {\"field\": d.x||\"\", \"type\": \"quantitative\",\"scale\":{\"type\":d.x_axis_type||\"linear\",\"zero\":false},\"axis\":{\"title\":d.x_label||\"\"}},\n                \"y\": {\"field\": d.y||\"\", \"type\": \"quantitative\",\"scale\":{\"type\":d.y_axis_type||\"linear\",\"zero\":false},\"axis\":{\"title\":d.y_label||\"\"}},\n                \"color\" : {\"field\" : d.color||\"\", \"type\":\"nominal\", \"legend\":d.legend||null} \n                }\n    };\n}\nvegaplot.prototype.set_values = function(v){\n    this.specs.data.values = v;\n};\n\nvegaplot.prototype.set_width = function(w){\n    this.specs.width = w;\n};\n\nvegaplot.prototype.set_height = function(h){\n    this.specs.height = h;\n};\n\nvegaplot.prototype.set_title = function(title){\n    this.specs.title = title;\n};\n\nvegaplot.prototype.set_x = function(v, title){\n  this.specs.encoding.x.field = v;\n  if(title)\n    this.set_x_label(title);\n};\n\nvegaplot.prototype.set_x_label = function(title){\n  this.specs.encoding.x.axis.title = title;\n};\n\nvegaplot.prototype.set_x_axis_type = function(type){\n  this.specs.encoding.x.scale.type = type;\n};\n\nvegaplot.prototype.set_y_axis_type = function(type){\n  this.specs.encoding.y.scale.type = type;\n};\n\n\nvegaplot.prototype.set_y = function(v, title){\n  this.specs.encoding.y.field = v;\n  if(title)\n    this.set_y_label(title);\n};\n\nvegaplot.prototype.set_y_label = function(title){\n  this.specs.encoding.y.axis.title = title;\n};\n\nvegaplot.prototype.set_color_field = function(val){\n    this.specs.encoding.color.field = val;\n    };\n\nvegaplot.prototype.set_legend_title = function(val){\n    this.specs.encoding.color.legend.title = val;\n    };\n\nvegaplot.prototype.show = function(){\n    if(vega_loaded){\n        vegaEmbed(\"#\"+this.id,this.specs,{\"mode\":\"vega-lite\",\"actions\":false});\n        }\n    else{\n        var plot = this;\n        load_vega().then(function(){\n            vegaEmbed(\"#\"+plot.id,plot.specs,{\"mode\":\"vega-lite\",\"actions\":false});\n            });\n        }\n    };\n","import {MOCADI_Matter} from \"../vendor/mocadimatter.js\";\nimport {vegaplot} from \"./VegaPlotComponent.js\";\nimport {App} from \"./app.js\";\nimport {NucID} from \"../vendor/elements\";\n\nvar vplot_defaults = {\n    \"x\":\"energy\",\n    \"y\":\"dEdx\",\n    \"x_axis_type\":\"log\",\n    \"y_axis_type\":\"log\",\n    \"x_label\":\"Energy (MeV/u)\",\n    \"y_label\":\"dE/dx [MeV/g/cm2]\",\n    \"color\":\"material\",\n    \"legend\":{}\n};\n\nvar PlotData = {};\nPlotData.values = [];\nPlotData.status = \"\";\n\nPlotData.reset = function(){\n    PlotData.fig = new vegaplot(vplot_defaults);\n    PlotData.values = [];\n    PlotData.status = \"\";\n};\n\nPlotData.update = function(){\n    PlotData.fig.show();\n};\n\n// sort raw data to data format for plotting\nPlotData.sort = function(data){\n    PlotData.values = [];\n    if(data.length < 1)return;\n    data.forEach(function(entry){\n        for(var i=1;i<entry.energy.length;i++){                              \n            var name = (entry.Zm<201)?NucID.GetSymbol(entry.Am,entry.Zm):MOCADI_Matter.Get(entry.Zm).name;\n            PlotData.values.push({\"energy\":entry.energy[i],\"dEdx\":entry.dEdx[i],\"range\":entry.range[i],\"material\":name});\n        }\n    });\n    PlotData.fig.set_title(\"projectile: \"+App.projectile.GetNucleusSymbol());\n    PlotData.fig.set_values(PlotData.values);\n};\n\n\nPlotData.plot_options = [\n    {value:\"dEdx\", name:\"dEdx\"},\n    {value:\"range\", name:\"Range\"}\n];\n\nPlotData.change_y_axis = function(col){\n    if(col==\"dEdx\"){\n        PlotData.fig.specs.encoding.y.axis.title = \"dE/dx [MeV/g/cm2]\";\n        PlotData.fig.specs.encoding.y.field = col;\n        PlotData.fig.specs.encoding.y.scale.type = \"log\";\n    }\n    if(col==\"range\"){\n        PlotData.fig.specs.encoding.y.axis.title = \"range [g/cm2]\";\n        PlotData.fig.specs.encoding.y.field = col;\n        PlotData.fig.specs.encoding.y.scale.type = \"log\";\n    }\n    PlotData.update();\n};\n\nexport {PlotData};\n","import {MOCADI_Matter} from \"../vendor/mocadimatter.js\";\nimport {vegaplot} from \"./VegaPlotComponent.js\";\nimport {Catima} from \"./catima.js\";\nimport {App} from \"./app.js\";\nimport {NucID} from \"../vendor/elements\";\n\nvar vplot_defaults = {\n    \"x\":\"th\",\n    \"y\":\"Eout\",\n    \"x_label\":\"thickness (g/cm2)\",\n    \"y_label\":\"Energy out (MeV/u)\",\n    \"color\":\"material\"\n};\n\nvar MaterialPlotData = {};\nMaterialPlotData.values = [];\nMaterialPlotData.status = \"\";\n\nMaterialPlotData.reset = function(){\n    MaterialPlotData.fig = new vegaplot(vplot_defaults);\n    MaterialPlotData.values = [];\n    MaterialPlotData.status = \"\";\n};\n\nMaterialPlotData.update = function(){\n    MaterialPlotData.fig.show();\n};\n\nMaterialPlotData.matname = \"\";\n// sort raw data to data format for plotting\nMaterialPlotData.sort = function(data){\n    MaterialPlotData.values = [];\n    if(data.length != 1)return;\n    var entry = data[0];\n    var res = Catima.Eout_vs_thickness(entry,App.projectile.state.T);\n    for(var i=0;i<res[0].length;i++){                              \n        var name = (entry.Zm<201)?NucID.GetSymbol(entry.Am,entry.Zm):MOCADI_Matter.Get(entry.Zm).name;\n        MaterialPlotData.matname = name;\n        MaterialPlotData.values.push({\"th\":res[0][i],\"Eout\":res[1][i],\"Eloss\":res[2][i],\"dEdx\":res[3][i],\"material\":name});\n        }\n    MaterialPlotData.fig.set_values(MaterialPlotData.values);\n};\n\nMaterialPlotData.plot_options = [\n    {value:\"Eout\", name:\"Energy after\"},\n    {value:\"Eloss\", name:\"Energy loss\"},\n    {value:\"dEdx\", name:\"dEdx\"}\n];\n\nMaterialPlotData.change_y_axis = function(col){\n    if(col==\"Eout\"){\n        MaterialPlotData.fig.specs.title = \"material: \"+MaterialPlotData.matname+\", projectile: \"+App.projectile.GetNucleusSymbol()+\", T = \"+App.projectile.state.T.toPrecision(3) + \"MeV/u\";\n        /*\n        MaterialPlotData.specs.fig.layer[0].encoding.y.axis.title = \"Eout [MeV/u]\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.scale.type = \"linear\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.field = col;\n        MaterialPlotData.specs.fig.layer[1].encoding.y.field = col;\n        */ \n        MaterialPlotData.fig.specs.encoding.y.axis.title = \"Eout [MeV/u]\";\n        MaterialPlotData.fig.specs.encoding.y.scale.type = \"linear\";\n        MaterialPlotData.fig.specs.encoding.y.field = col;\n    }\n    if(col==\"Eloss\"){\n        /*\n        MaterialPlotData.specs.fig.title = \"Energy loss in material, projectile: \"+App.projectile.GetNucleusSymbol()+\", T = \"+App.projectile.state.T + \"MeV/u\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.axis.title = \"Energy loss [MeV]\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.scale.type = \"linear\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.field = col;\n        MaterialPlotData.specs.fig.layer[1].encoding.y.field = col;\n        */ \n\n        MaterialPlotData.fig.specs.title = \"material: \"+MaterialPlotData.matname+\", projectile: \"+App.projectile.GetNucleusSymbol()+\", T = \"+App.projectile.state.T.toPrecision(3) + \"MeV/u\";\n        MaterialPlotData.fig.specs.encoding.y.axis.title = \"Energy loss [MeV]\";\n        MaterialPlotData.fig.specs.encoding.y.scale.type = \"linear\";\n        MaterialPlotData.fig.specs.encoding.y.field = col;\n    }\n    if(col==\"dEdx\"){\n        /*\n        MaterialPlotData.specs.fig.title = \"Energy loss in material, projectile: \"+App.projectile.GetNucleusSymbol()+\", T = \"+App.projectile.state.T + \"MeV/u\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.axis.title = \"dEdx [MeV/g/cm2]\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.scale.type = \"log\";\n        MaterialPlotData.specs.fig.layer[0].encoding.y.field = col;\n        MaterialPlotData.specs.fig.layer[1].encoding.y.field = col;\n        */ \n\n        MaterialPlotData.fig.specs.title = \"material: \"+MaterialPlotData.matname+\", projectile: \"+App.projectile.GetNucleusSymbol()+\", T = \"+App.projectile.state.T.toPrecision(3) + \"MeV/u\";\n        MaterialPlotData.fig.specs.encoding.y.axis.title = \"dEdx [MeV/g/cm2]\";\n        MaterialPlotData.fig.specs.encoding.y.scale.type = \"log\";\n        MaterialPlotData.fig.specs.encoding.y.field = col;\n    }\n   \n    \n    MaterialPlotData.update();\n};\n\nexport {MaterialPlotData};\n","import {button, button_route} from \"./utils.js\";\nimport {config_presets} from \"./catima_config.js\";\nimport {styles} from \"./styles.js\";\nimport {App} from \"./app.js\";\n\nvar ConfigComponent = {};\n\nConfigComponent.view = function(){\n    return  m(\"div\",{class:styles.div_column},[\n        m(\"div\",{class:styles.form_element},[\n\n            m(\"h1\",{class:styles.heading_medium},\"Presets:\"),\n            config_presets.map(function(item){\n                if(App.state.config.is_same(item.config))\n                    return button(item.name);\n                else   \n                    return m(\"a\",\n                            {class:styles.button_inverted,\n                            onclick:function(){\n                                App.state.config.set(item.config);\n                                App.clear_cache();\n                                App.Save();\n                                }\n                            }, \n                            item.name);\n            })\n        ]),\n        //, //end of 1st row\n        //m(\"div\",{class:styles.div_row},[\n        //    m(\"div\",{class:styles.div_cell},[\n        //        m(\"h1\",{class:styles.heading_medium},\"Mean Charge:\"),\n        //        catima_z_eff.map(function(item){\n        //            return m(\"label\",{class:\"c-field c-field--choice\"},\n        //            [m(\"input\",{type:\"radio\",name:\"zeff\", checked:(App.state.config.z_effective===item[1]),value:item[1]}),item[0]]\n        //        );\n        //        \n        //        })\n         //   ]) // end 2nd row, 1st columne\n        //]) // end of 2nd row\n        m(\"div\",{class:styles.form_element},button_route(\"Done\",\"/\"))\n    ]\n    );\n};\n\nexport {ConfigComponent};\n","/*!\n* tingle.js\n* @author  robin_parisi\n* @version 0.13.2\n* @url\n*/\n    var transitionEvent = whichTransitionEvent();\n\n    export default function Modal(options) {\n\n        var defaults = {\n            onClose: null,\n            onOpen: null,\n            beforeOpen: null,\n            beforeClose: null,\n            stickyFooter: false,\n            footer: false,\n            cssClass: [],\n            closeLabel: 'Close',\n            closeMethods: ['overlay', 'button', 'escape']\n        };\n\n        // extends config\n        this.opts = extend({}, defaults, options);\n\n        // init modal\n        this.init();\n    }\n\n    Modal.prototype.init = function() {\n        if (this.modal) {\n            return;\n        }\n\n        _build.call(this);\n        _bindEvents.call(this);\n\n        // insert modal in dom\n        document.body.insertBefore(this.modal, document.body.firstChild);\n\n        if (this.opts.footer) {\n            this.addFooter();\n        }\n    };\n\n    Modal.prototype.destroy = function() {\n        if (this.modal === null) {\n            return;\n        }\n\n        // unbind all events\n        _unbindEvents.call(this);\n\n        // remove modal from dom\n        this.modal.parentNode.removeChild(this.modal);\n\n        this.modal = null;\n    };\n\n\n    Modal.prototype.open = function() {\n\n        var self = this;\n\n        // before open callback\n        if (typeof self.opts.beforeOpen === 'function') {\n            self.opts.beforeOpen();\n        }\n\n        if (this.modal.style.removeProperty) {\n            this.modal.style.removeProperty('display');\n        } else {\n            this.modal.style.removeAttribute('display');\n        }\n\n        // prevent double scroll\n        this._scrollPosition = window.pageYOffset;\n        document.body.classList.add('tingle-enabled');\n        document.body.style.top = -this._scrollPosition + 'px';\n\n        // sticky footer\n        this.setStickyFooter(this.opts.stickyFooter);\n\n        // show modal\n        this.modal.classList.add('tingle-modal--visible');\n\n        if (transitionEvent) {\n            this.modal.addEventListener(transitionEvent, function handler() {\n                if (typeof self.opts.onOpen === 'function') {\n                    self.opts.onOpen.call(self);\n                }\n\n                // detach event after transition end (so it doesn't fire multiple onOpen)\n                self.modal.removeEventListener(transitionEvent, handler, false);\n\n            }, false);\n        } else {\n            if (typeof self.opts.onOpen === 'function') {\n                self.opts.onOpen.call(self);\n            }\n        }\n\n        // check if modal is bigger than screen height\n        this.checkOverflow();\n    };\n\n    Modal.prototype.isOpen = function() {\n        return !!this.modal.classList.contains(\"tingle-modal--visible\");\n    };\n\n    Modal.prototype.close = function() {\n\n        //  before close\n        if (typeof this.opts.beforeClose === \"function\") {\n            var close = this.opts.beforeClose.call(this);\n            if (!close) return;\n        }\n\n        document.body.classList.remove('tingle-enabled');\n        window.scrollTo(0, this._scrollPosition);\n        document.body.style.top = null;\n\n        this.modal.classList.remove('tingle-modal--visible');\n\n        //Using similar setup as onOpen\n        //Reference to the Modal that's created\n        var self = this;\n\n        if (transitionEvent) {\n            //Track when transition is happening then run onClose on complete\n            this.modal.addEventListener(transitionEvent, function handler() {\n                // detach event after transition end (so it doesn't fire multiple onClose)\n                self.modal.removeEventListener(transitionEvent, handler, false);\n\n                self.modal.style.display = 'none';\n\n                // on close callback\n                if (typeof self.opts.onClose === \"function\") {\n                    self.opts.onClose.call(this);\n                }\n\n            }, false);\n        } else {\n            self.modal.style.display = 'none';\n            // on close callback\n            if (typeof self.opts.onClose === \"function\") {\n                self.opts.onClose.call(this);\n            }\n        }\n    };\n\n    Modal.prototype.setContent = function(content) {\n        // check type of content : String or Node\n        if (typeof content === 'string') {\n            this.modalBoxContent.innerHTML = content;\n        } else {\n            this.modalBoxContent.innerHTML = \"\";\n            this.modalBoxContent.appendChild(content);\n        }\n\n        if (this.isOpen()) {\n            // check if modal is bigger than screen height\n            this.checkOverflow();\n        }\n    };\n\n    Modal.prototype.getContent = function() {\n        return this.modalBoxContent;\n    };\n\n    Modal.prototype.addFooter = function() {\n        // add footer to modal\n        _buildFooter.call(this);\n    };\n\n    Modal.prototype.setFooterContent = function(content) {\n        // set footer content\n        this.modalBoxFooter.innerHTML = content;\n    };\n\n    Modal.prototype.getFooterContent = function() {\n        return this.modalBoxFooter;\n    };\n\n    Modal.prototype.setStickyFooter = function(isSticky) {\n        // if the modal is smaller than the viewport height, we don't need sticky\n        if (!this.isOverflow()) {\n            isSticky = false;\n        }\n\n        if (isSticky) {\n            if (this.modalBox.contains(this.modalBoxFooter)) {\n                this.modalBox.removeChild(this.modalBoxFooter);\n                this.modal.appendChild(this.modalBoxFooter);\n                this.modalBoxFooter.classList.add('tingle-modal-box__footer--sticky');\n                _recalculateFooterPosition.call(this);\n                this.modalBoxContent.style['padding-bottom'] = this.modalBoxFooter.clientHeight + 20 + 'px';\n            }\n        } else if (this.modalBoxFooter) {\n            if (!this.modalBox.contains(this.modalBoxFooter)) {\n                this.modal.removeChild(this.modalBoxFooter);\n                this.modalBox.appendChild(this.modalBoxFooter);\n                this.modalBoxFooter.style.width = 'auto';\n                this.modalBoxFooter.style.left = '';\n                this.modalBoxContent.style['padding-bottom'] = '';\n                this.modalBoxFooter.classList.remove('tingle-modal-box__footer--sticky');\n            }\n        }\n    };\n\n\n    Modal.prototype.addFooterBtn = function(label, cssClass, callback) {\n        var btn = document.createElement(\"button\");\n\n        // set label\n        btn.innerHTML = label;\n\n        // bind callback\n        btn.addEventListener('click', callback);\n\n        if (typeof cssClass === 'string' && cssClass.length) {\n            // add classes to btn\n            cssClass.split(\" \").forEach(function(item) {\n                btn.classList.add(item);\n            });\n        }\n\n        this.modalBoxFooter.appendChild(btn);\n\n        return btn;\n    };\n\n    Modal.prototype.resize = function() {\n        console.warn('Resize is deprecated and will be removed in version 1.0');\n    };\n\n\n    Modal.prototype.isOverflow = function() {\n        var viewportHeight = window.innerHeight;\n        var modalHeight = this.modalBox.clientHeight;\n\n        return modalHeight >= viewportHeight;\n    };\n\n    Modal.prototype.checkOverflow = function() {\n        // only if the modal is currently shown\n        if (this.modal.classList.contains('tingle-modal--visible')) {\n            if (this.isOverflow()) {\n                this.modal.classList.add('tingle-modal--overflow');\n            } else {\n                this.modal.classList.remove('tingle-modal--overflow');\n            }\n\n            // TODO: remove offset\n            //_offset.call(this);\n            if (!this.isOverflow() && this.opts.stickyFooter) {\n                this.setStickyFooter(false);\n            } else if (this.isOverflow() && this.opts.stickyFooter) {\n                _recalculateFooterPosition.call(this);\n                this.setStickyFooter(true);\n            }\n        }\n    };\n\n\n    /* ----------------------------------------------------------- */\n    /* == private methods */\n    /* ----------------------------------------------------------- */\n\n    function _recalculateFooterPosition() {\n        if (!this.modalBoxFooter) {\n            return;\n        }\n        this.modalBoxFooter.style.width = this.modalBox.clientWidth + 'px';\n        this.modalBoxFooter.style.left = this.modalBox.offsetLeft + 'px';\n    }\n\n    function _build() {\n\n        // wrapper\n        this.modal = document.createElement('div');\n        this.modal.classList.add('tingle-modal');\n\n        // remove cusor if no overlay close method\n        if (this.opts.closeMethods.length === 0 || this.opts.closeMethods.indexOf('overlay') === -1) {\n            this.modal.classList.add('tingle-modal--noOverlayClose');\n        }\n\n        this.modal.style.display = 'none';\n\n        // custom class\n        this.opts.cssClass.forEach(function(item) {\n            if (typeof item === 'string') {\n                this.modal.classList.add(item);\n            }\n        }, this);\n\n        // close btn\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modalCloseBtn = document.createElement('button');\n            this.modalCloseBtn.classList.add('tingle-modal__close');\n\n            this.modalCloseBtnIcon = document.createElement('span');\n            this.modalCloseBtnIcon.classList.add('tingle-modal__closeIcon');\n            this.modalCloseBtnIcon.innerHTML = '×';\n\n            this.modalCloseBtnLabel = document.createElement('span');\n            this.modalCloseBtnLabel.classList.add('tingle-modal__closeLabel');\n            this.modalCloseBtnLabel.innerHTML = this.opts.closeLabel;\n\n            this.modalCloseBtn.appendChild(this.modalCloseBtnIcon);\n            this.modalCloseBtn.appendChild(this.modalCloseBtnLabel);\n        }\n\n        // modal\n        this.modalBox = document.createElement('div');\n        this.modalBox.classList.add('tingle-modal-box');\n\n        // modal box content\n        this.modalBoxContent = document.createElement('div');\n        this.modalBoxContent.classList.add('tingle-modal-box__content');\n\n        this.modalBox.appendChild(this.modalBoxContent);\n\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modal.appendChild(this.modalCloseBtn);\n        }\n\n        this.modal.appendChild(this.modalBox);\n\n    }\n\n    function _buildFooter() {\n        this.modalBoxFooter = document.createElement('div');\n        this.modalBoxFooter.classList.add('tingle-modal-box__footer');\n        this.modalBox.appendChild(this.modalBoxFooter);\n    }\n\n    function _bindEvents() {\n\n        this._events = {\n            clickCloseBtn: this.close.bind(this),\n            clickOverlay: _handleClickOutside.bind(this),\n            resize: this.checkOverflow.bind(this),\n            keyboardNav: _handleKeyboardNav.bind(this)\n        };\n\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modalCloseBtn.addEventListener('click', this._events.clickCloseBtn);\n        }\n\n        this.modal.addEventListener('mousedown', this._events.clickOverlay);\n        window.addEventListener('resize', this._events.resize);\n        document.addEventListener(\"keydown\", this._events.keyboardNav);\n    }\n\n    function _handleKeyboardNav(event) {\n        // escape key\n        if (this.opts.closeMethods.indexOf('escape') !== -1 && event.which === 27 && this.isOpen()) {\n            this.close();\n        }\n    }\n\n    function _handleClickOutside(event) {\n        // if click is outside the modal\n        if (this.opts.closeMethods.indexOf('overlay') !== -1 && !_findAncestor(event.target, 'tingle-modal') &&\n        event.clientX < this.modal.clientWidth) {\n            this.close();\n        }\n    }\n\n    function _findAncestor(el, cls) {\n        while ((el = el.parentElement) && !el.classList.contains(cls));\n        return el;\n    }\n\n    function _unbindEvents() {\n        if (this.opts.closeMethods.indexOf('button') !== -1) {\n            this.modalCloseBtn.removeEventListener('click', this._events.clickCloseBtn);\n        }\n        this.modal.removeEventListener('mousedown', this._events.clickOverlay);\n        window.removeEventListener('resize', this._events.resize);\n        document.removeEventListener(\"keydown\", this._events.keyboardNav);\n    }\n\n    /* ----------------------------------------------------------- */\n    /* == confirm */\n    /* ----------------------------------------------------------- */\n\n    // coming soon\n\n    /* ----------------------------------------------------------- */\n    /* == alert */\n    /* ----------------------------------------------------------- */\n\n    // coming soon\n\n    /* ----------------------------------------------------------- */\n    /* == helpers */\n    /* ----------------------------------------------------------- */\n\n    function extend() {\n        for (var i = 1; i < arguments.length; i++) {\n            for (var key in arguments[i]) {\n                if (arguments[i].hasOwnProperty(key)) {\n                    arguments[0][key] = arguments[i][key];\n                }\n            }\n        }\n        return arguments[0];\n    }\n\n    function whichTransitionEvent() {\n        var t;\n        var el = document.createElement('tingle-test-transition');\n        var transitions = {\n            'transition': 'transitionend',\n            'OTransition': 'oTransitionEnd',\n            'MozTransition': 'transitionend',\n            'WebkitTransition': 'webkitTransitionEnd'\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined) {\n                return transitions[t];\n            }\n        }\n    }\n\n\n\n","import Tingle from \"./tingle.js\";\n\nexport var Modal = {};\nModal.modal = new Tingle({footer: true,closeLabel: \"Close\"});\n\nModal.modal.addFooterBtn('Close', 'tingle-btn', function() {\n    Modal.modal.close();\n});\n\nModal.set_content = function(content){\n    Modal.modal.setContent(content);\n};\n\nModal.open = function(){\n    Modal.modal.open();\n};\n\nModal.close = function(){\n    Modal.modal.close();\n};\n","import {MatterEditor} from \"./material_editor_component.js\";\nimport {styles} from \"./styles.js\";\nimport {badge_error, button, SaveFile} from \"./utils.js\";\nimport {Catima} from \"./catima.js\";\nimport {CardComponent} from \"./components.js\";\nimport {App} from \"./app.js\";\nimport {Modal} from \"./modal.js\";\nimport {NucKinematics} from \"../vendor/kinematics\";\nvar AtimaResults = {};\nAtimaResults.result = {};\nAtimaResults.matter_names = [];\nAtimaResults.done = true;\n\nAtimaResults.prepare = function(){\n  var matter = MatterEditor.vm.layers;\n  AtimaResults.matter = MatterEditor.vm.layers;\n  for(var i=0;i<matter.length;i++){\n    //if(matter[i].rho > 0 && matter[i].th > 0){\n        AtimaResults.matter_names.push(matter[i].name);\n    //    }\n    }\n\n};\n\nAtimaResults.prepareoutput = function(res){\n    if(res.result){\n        res.result.sigma_a = res.result.sigma_a*1000.0; //convert to mrad\n    }\n    if(res.partial){\n        for(var e in res.partial){\n            res.partial[e].sigma_a = res.partial[e].sigma_a*1000.0;\n        }\n    }\n    //return res;\n};\n\nAtimaResults.getResult = function(){\n        if(App.datavalid && App.result && AtimaResults.done && !App.result.error){\n            return;\n        }\n        AtimaResults.result = {}; // reset old values\n        AtimaResults.matter_names = [];\n        AtimaResults.done = false;\n\n        AtimaResults.prepare();\n        var input = Catima.prepare();\n        Catima.calculate(input).then(\n            function(res){\n                if(!res.result||res.error){\n                      AtimaResults.done = true;\n                    App.clear_cache();\n                    AtimaResults.result = {error:\"Failed to retrieve data from Atima Server\"};       \n                    m.redraw();\n                    return;\n                    }\n                  AtimaResults.done = true;\n                  App.datavalid = true;\n                  AtimaResults.prepareoutput(res);\n                  AtimaResults.result = res;\n                  if(res.result){\n                    AtimaResults.result.result.Brho = NucKinematics.brho_from_T(res.result.Eout,res.projectile.A,res.projectile.Z).toPrecision(6);\n                    AtimaResults.result.result.Beta = NucKinematics.beta_from_T(res.result.Eout).toPrecision(6);\n                    }\n                if(res.partial && res.partial.length>0){\n                    for(var i = 0; i<res.partial.length; i++){\n                        AtimaResults.result.partial[i].Brho = NucKinematics.brho_from_T(res.partial[i].Eout,res.projectile.A,res.projectile.Z).toPrecision(6);\n                        AtimaResults.result.partial[i].Beta = NucKinematics.beta_from_T(res.partial[i].Eout).toPrecision(6);\n                    }\n                }\n                \n                   App.result = AtimaResults.result;\n                   m.redraw();                  \n              },\n              function(){\n                AtimaResults.done = true;\n                App.clear_cache();\n                AtimaResults.result = {error:\"Failed to retrieve data from Atima Server\"};\n                App.report(\"Failed to retrieve data from Atima Server\");\n                m.redraw();\n            }\n              ).catch(function(e){\n                  App.report(e);\n              });\n};\n\nAtimaResults.save_file = function(){\n    if(!AtimaResults.result.result || !AtimaResults.result.partial)return;\n    var r = AtimaResults.result.result;\n    var c = \"Projectile: \" + App.projectile.state.Symbol+\" @ \"+r.Ein.toFixed(3)+ \"MeV/u\";\n    c += \"\\r\\n\\r\\nTotal Results\\n-------------\";\n    c += \"\\r\\nEout = \"+r.Eout.toFixed(3) + \" MeV/u\";\n    c += \"\\r\\nEloss = \"+r.Eloss.toFixed(3) + \"MeV\";\n    c += \"\\r\\nBrho = \"+r.Brho + \"Tm\";\n    c += \"\\r\\nBeta = \"+r.Beta;\n    c += \"\\r\\nsigma_E = \"+r.sigma_E.toFixed(3) + \"MeV/u\";\n    c += \"\\r\\nsigma_a = \"+r.sigma_a.toFixed(3) + \"mrad\";\n    c += \"\\r\\nTOF = \"+r.tof.toFixed(6) + \" ns\";\n    c += \"\\r\\n\";\n    c += \"\\r\\nPartial Results\\n\"+\"---------------\";\n\n    //c += \"\\r\\nname Ein(MeV/u) Eout(MeV/u) Brho(Tm) Beta Eloss(Mev) sigma_E(MeV/u) sigma_a(mrad) range(g/cm2) sigma_r(g/cm2) dEdxi(MeV/g.cm2) tof(ns)\";\n    for(var i = 0; i<AtimaResults.result.partial.length;i++){\n        r = AtimaResults.result.partial[i];\n        /*\n        c += \"\\r\\n\";\n        c += AtimaResults.matter[i].name+\" \";\n        c += r.Ein.toFixed(3)+\" \"; \n        c += r.Eout.toFixed(3)+\" \";\n        c += r.Brho+\" \";\n        c += r.Beta+\" \";\n        c += r.Eloss.toFixed(2)+\" \";\n        c += r.sigma_E.toFixed(3)+\" \";\n        c += r.sigma_a.toFixed(2)+\" \";\n        c += r.range.toFixed(3)+\" \";\n        c += r.sigma_r.toFixed(2)+\" \";\n        c += r.dEdxi.toFixed(3)+\" \";\n        c += r.tof.toFixed(4)+\" \";        \n        */\n        c += \"\\r\\n\";\n        c += \"\\r\\n\";\n        c += \"***** \"+AtimaResults.matter[i].name+\" *****\";\n        c += \"\\r\\nmaterial: \" + AtimaResults.matter[i].symbol;\n        c += \"\\r\\nthickness: \" + AtimaResults.matter[i].th + \" mg/cm2\";\n        c += \"\\r\\nEin = \"+r.Ein.toFixed(3)+\" MeV/u\"; \n        c += \"\\r\\nEout = \"+r.Eout.toFixed(3)+\" MeV/u\";\n        c += \"\\r\\nBrho = \"+r.Brho+\" Tm\";\n        c += \"\\r\\nBeta = \"+r.Beta+\" \";\n        c += \"\\r\\nEloss = \"+r.Eloss.toFixed(2)+\" MeV\";\n        c += \"\\r\\nsigma_E = \"+r.sigma_E.toFixed(3)+\" MeV/u\";\n        c += \"\\r\\nsigma_a = \"+r.sigma_a.toFixed(2)+\" mrad\";\n        c += \"\\r\\nrange = \"+r.range.toFixed(3)+\" g/cm2\";\n        c += \"\\r\\nsigma_r = \"+r.sigma_r.toFixed(2)+\" g/cm2\";\n        c += \"\\r\\ndEdxi = \"+r.dEdxi.toFixed(3)+\" MeV/g/cm2\";\n        c += \"\\r\\nTOF = \"+r.tof.toFixed(4)+\" ns\";        \n\n       \n    }\n    SaveFile(c,\"webatima_result_\"+App.projectile.state.Symbol);\n};\n\n\nvar AtimaResultsView = {};\nAtimaResultsView.oninit = function(){\n    AtimaResults.getResult();\n};\n\nAtimaResultsView.TotalTemplate = function(){\n    var tostring = function(val){\n        if(val<0.01){\n            return val.toExponential(4);\n        }\n        else{\n            return val.toFixed(4);\n            }\n    };\n    var res = AtimaResults.result;\n    if(!res.result) return null;\n    \n    return m(\"div\",{class:styles.div_row},[\n                m(\"div\",{class:styles.div_cell_100},[\n                        m(\"p\",\"Projectile: \", App.projectile.state.Symbol+\" @ \"+tostring(res.result.Ein)+ \"MeV/u\"),\n                        ]),\n                m(\"div\",{class:styles.div_cell_auto},[\n                        //m(\"p\",m.trust(\"E<sub>in</sub>\"),\" = \",tostring(res.result.Ein),\" MeV/u\"),\n                        m(\"p\",m.trust(\"E<sub>out</sub>\"),\" = \",res.result.Eout.toFixed(4),\" MeV/u\"),\n                        m(\"p\",m.trust(\"B&#961\"),\" = \",res.result.Brho,\" Tm\"),\n                        m(\"p\",m.trust(\"&#946\"),\" = \",res.result.Beta)\n                        ]),\n                        \n                m(\"div\",{class:styles.div_cell_auto},[\n                        m(\"p\",m.trust(\"E<sub>loss</sub>\"),\" = \",tostring(res.result.Eloss),\" MeV\"),\n                        m(\"p\",m.trust(\"&#963<sub>E</sub>\"),\" = \",tostring(res.result.sigma_E),\" MeV/u\"),\n                        m(\"p\",m.trust(\"TOF\"),\" = \",res.result.tof.toFixed(6),\" ns\")\n                        ]),\n                m(\"div\",{class:styles.div_cell_auto},[\n                        (res.result.Eout>0)?m(\"p\",m.trust(\"&#963<sub>p</sub>/p = \"),(NucKinematics.relative_momentum_deviation(res.result.sigma_E,res.result.Eout)).toExponential(3)):null,\n                        m(\"p\",m.trust(\"&#963<sub>a</sub>\"),\" = \",tostring(res.result.sigma_a),\" mrad\")\n                        ]),\n                (res.result.hasOwnProperty(\"sp\"))?\n                m(\"div\",{class:styles.div_cell_auto},[\n                    m(\"p\",\"Reaction rate: \",(res.result.sp>=0.0 && res.result.sp<=1.0)?(1-res.result.sp).toFixed(3):\"N/A\")\n                ]):null\n                \n            ]);    \n    \n};\n\n\nAtimaResultsView.PartialTemplate = function(){\n    var tostring = function(val){\n        if(val<0.01){\n            return val.toExponential(3);\n            }\n        else{\n            return val.toFixed(3);\n        }\n    };\n    \n    var res = AtimaResults.result;\n    if(!res.partial) return null;\n    return  m(\"div\",{style:\"overflow-x:auto;\"},[\n                m(\"table\",{class:styles.table},[\n                m(\"thead\",m(\"tr\",{class:styles.thead_tr},\n                    [\n                  m(\"th\",{class:styles.th},\"#\"),\n                  m(\"th\",{class:styles.th},\"name\"),\n                  m(\"th\",{class:styles.th},m.trust(\"E<sub>in</sub><br>(MeV/u)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"E<sub>out</sub><br>(MeV/u)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"E<sub>loss</sub><br>(MeV)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"&#963<sub>E</sub><br>(MeV/u)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"&#963<sub>a</sub><br>(mrad)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"range<br>(g/cm<sup>2</sup>)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"&#963<sub>r</sub><br>(g/cm<sup>2</sup>)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"dE<sub>in</sub>/dx<br>(MeV/(g/cm<sup>2</sup>))\")),\n                  m(\"th\",{class:styles.th},m.trust(\"tof<br>(ns)\")),\n                  m(\"th\",{class:styles.th},m.trust(\"Reaction<br>rate\")),\n                  m(\"th\",{class:styles.th},m.trust(\"d/R\")),\n                  m(\"th\",{class:styles.th},m.trust(\"W<sub>e</sub>\")),\n                  m(\"th\",{class:styles.th},m.trust(\"W<sub>p</sub>\"))\n                ])),\n                m(\"tbody\",\n                  res.partial.map(function(item,index){\n                    var brho = item.Brho + \"  Tm\";\n                    var beta = item.Beta;\n                    var eouttitle = (\"Brho = \"+brho+\"\\nBeta = \"+beta);\n                    var matterial_title = (\"material: \"+AtimaResults.matter[index].symbol\n                                            +\"\\nl = \"+AtimaResults.matter[index].l + \" cm\"\n                                            +\"\\nth. = \"+AtimaResults.matter[index].th + \" mg/cm2\"\n                                            +\"\\ndensity = \"+AtimaResults.matter[index].rho + \" g/cm3\"\n                                        );\n                    \n                    return m(\"tr\",{class:styles.tr},[\n                              m(\"td\",{class:styles.td},index),\n                              m(\"td\",{class:styles.td, title:matterial_title},AtimaResults.matter[index].name),\n                              m(\"td\",{class:styles.td},tostring(item.Ein)),\n                              m(\"td\",{class:styles.td,title:eouttitle},tostring(item.Eout)),\n                              m(\"td\",{class:styles.td},tostring(item.Eloss)),\n                              m(\"td\",{class:styles.td},tostring(item.sigma_E)),\n                              m(\"td\",{class:styles.td},tostring(item.sigma_a)),\n                              m(\"td\",{class:styles.td},tostring(item.range)),\n                              m(\"td\",{class:styles.td},tostring(item.sigma_r)),\n                              m(\"td\",{class:styles.td},tostring(item.dEdxi)),\n                              m(\"td\",{class:styles.td},tostring(item.tof)),\n                              m(\"td\",{class:styles.td},(item.sp && item.sp>=0.0 && item.sp<=1.0)?(1-item.sp).toFixed(3):\"N/A\"),\n                              m(\"td\",{class:styles.td},(item.range>0)?tostring(0.001*AtimaResults.matter[index].th/item.range):\"\"),\n                              m(\"td\",{class:styles.td},(item.we && item.we>0)?tostring(item.we):\"\"),\n                              m(\"td\",{class:styles.td},(item.wp && item.wp>0)?tostring(item.wp):\"\")\n                    ]);\n                  })\n                )\n              ])\n    ]);    \n};\n\nAtimaResultsView.view = function(){\n    var res = AtimaResults.result;\n    \n    if(!AtimaResults.done)return m(\"span\",\"Loading...\");\n    if(res.error)return badge_error(\"Error: \"+res.error);\n    if(!res.result)return badge_error(\"Error: Could not find results\");\n    \n    return m(\"div\",[\n            m(\"div\",{class:styles.h3},\"Results\"),\n            m(\"div\",{class:styles.div_cell_100},m(CardComponent,{title:\"Total Results\",content:AtimaResultsView.TotalTemplate()})),\n            m(\"div\",{class:styles.div_cell_100},m(CardComponent,{title:\"Partial Results\",content:AtimaResultsView.PartialTemplate()})),\n            \n            m(\"div\",{class:styles.div_cell_100},[\n                (res.id)?\n                button(\"Share Link\", function(){\n                    var share_link = window.location.origin+window.location.pathname+\"?c=\"+res.id;\n                    var content = '<div><label>Link:<input class=\"w-100\" type=\"text\" value=\"'+share_link+'\"></input></label></div>';\n                    Modal.set_content(content);\n                    Modal.open();\n                }):null,\n                button(\"Save Data\",function(){\n                    try{\n                    AtimaResults.save_file();\n                    }\n                    catch(e){\n                        console.log(e);\n                    }\n                })\n        ])\n  ]);\n  \n};\n\nexport {AtimaResultsView};\n","import {epax, goldhaber} from \"../vendor/epax\";\nimport {styles} from \"./styles\";\nimport {debounce} from \"./utils\";\nimport {NucID} from \"../vendor/elements\";\nimport {NucKinematics} from \"../vendor/kinematics\";\nimport {App} from \"./app\";\n\nvar EpaxModel = {\n    projectile: \"\",\n    energy:\"\",\n    target: \"\",\n    fragment: \"\",\n    cs : -1.0,\n    sigma_p : -1.0,\n    p:-1.0,\n    momentum_deviation : -1.0\n};\n\nEpaxModel.clear = function(){\n    EpaxModel.cs = -1.0;\n    EpaxModel.sigma_p = -1.0;\n    EpaxModel.p = -1.0;\n    EpaxModel.momentum_deviation = -1.0;\n};\n\nEpaxModel.calculate = debounce(function(){\n    if(EpaxModel.projectile.length<2 ||EpaxModel.target.length<2 || EpaxModel.fragment.length<2)return;\n    var nuc;\n    nuc = NucID.GetNuc(EpaxModel.projectile);\n    var ap = nuc[0];\n    var zp = nuc[1];    \n    nuc = NucID.GetNuc(EpaxModel.target);\n    var at = nuc[0];\n    var zt = nuc[1];\n    nuc = NucID.GetNuc(EpaxModel.fragment);\n    var af = nuc[0];\n    var zf = nuc[1];\n    EpaxModel.clear();\n    if(ap<=0 || af <= 0 || at <=0)return;\n    if(isNaN(ap) || isNaN(zp) || isNaN(at) || isNaN(zt) || isNaN(af) || isNaN(zf)) return;\n    if(ap<zp || af<zf || at<zt || ap<=af)return;\n    EpaxModel.projectile = NucID.GetSymbol(ap, zp);\n    EpaxModel.target = NucID.GetSymbol(at, zt);\n    EpaxModel.fragment = NucID.GetSymbol(af, zf);\n    EpaxModel.cs = epax(ap, zp, at, zt, af, zf).toFixed(3);\n\n    var e = parseFloat(EpaxModel.energy);\n    if(isNaN(e))return;\n    EpaxModel.sigma_p = goldhaber(ap, af);\n    EpaxModel.p = NucKinematics.p_from_T(e, af);\n    EpaxModel.momentum_deviation = EpaxModel.sigma_p/EpaxModel.p;\n\n    m.redraw();\n},250);\n\nexport var EpaxComponent = {};\n\nEpaxComponent.input_function = function(attr, model, placeholder){   \n    return m(\"label\",{class:styles.label},[\n        attr+\":\",\n        m(\"input\",{type:\"text\", style:\"width:7em;\", cplaceholder:placeholder, \n            value:model[attr],\n            oninput:function(e){\n                e.redraw = false;\n                model[attr] = e.currentTarget[\"value\"];\n                model.calculate();\n            }})\n    ]);\n};\n\nEpaxComponent.oninit = function(){\n    EpaxModel.clear();\n    EpaxModel.projectile = App.projectile.state.Symbol;\n    EpaxModel.energy = App.projectile.state.T;\n    if(EpaxModel.target.length>2 && EpaxModel.fragment.length>2){\n        EpaxModel.calculate();\n    }\n};\n\nEpaxComponent.view = function(){\n    var model = EpaxModel;\n    var cs = parseFloat(model.cs);\n    var e = parseFloat(model.energy);\n    var momentum_deviation = parseFloat(model.momentum_deviation);\n    var p = parseFloat(model.p);\n    console.log(EpaxModel);\n    return [\n        m(\"h3\",{class:styles.h3},\"EPAX v3 + Goldhaber\"),\n        m(\"div\",{class:styles.div_row_centered},[\n            EpaxComponent.input_function(\"projectile\",model, \"e.g. 12C\"),\n            EpaxComponent.input_function(\"target\",model, \"e.g 9Be\"),\n            EpaxComponent.input_function(\"fragment\",model, \"e.g. 11C\"),\n        ]),\n        m(\"div\",{class:styles.div_row_centered},[\n            EpaxComponent.input_function(\"energy\",model, \"in MeV/u\"),\n            \"MeV/u\",\n            (!isNaN(p) && p>0)?\" = \"+model.p.toFixed(1) + \" MeV/c\":null\n\n        ]),\n        m(\"div\",{class:styles.div_row_centered},[\n            (isNaN(cs) || cs<=0)?null:\n            m(\"div\",{class:styles.div_cell_100}, m.trust(\"&sigma; = \"+ model.cs+\" mb\")),\n        (isNaN(e) || momentum_deviation<0.0|| isNaN(momentum_deviation) )?null:\n            m(\"div\",{class:styles.div_cell_100},[\n                 m.trust(\"&#963<sub>p</sub> / p = \"), \n                 model.momentum_deviation.toPrecision(4),\n                ])\n        ])\n    ];\n};\n","import {config_atima13, config_atima14} from \"./catima_config.js\";\nimport {Catima} from \"./catima.js\";\nimport {styles} from \"./styles.js\";\nimport {NucleusSelector, NucleusInfo} from \"./nucleus_selector.js\";\nimport {MatterEditor} from \"./material_editor_component.js\";\nimport {PlotComponent, CardComponent} from \"./components.js\";\nimport {PlotData} from \"./PlotComponent.js\";\nimport {MaterialPlotData} from \"./MaterialPlot.js\";\nimport {SaveFile, FileLoader,svg_settings, svg_menu} from \"./utils.js\";\nimport {StorageAPI} from \"../vendor/storage\";\nimport {ConfigComponent} from \"./ConfigComponent.js\";\nimport {AtimaResultsView} from \"./AtimaResults.js\";\nimport {EpaxComponent} from \"./EpaxComponent\";\nimport {App} from \"./app.js\";\nimport Raven from 'raven-js';\n\n\n/// check consistency, mithril must be loaded\nif(typeof m === \"undefined\"){\n    alert(\"failed to load ui library\");\n    var main_element = document.getElementById('loading');\n    main_element.innerHTML = \"Failed to load ui library, probably old browser or network problem\";\n    throw new Error(\"failed to load ui library\");\n}\n\nRaven\n    .config('https://e64a8b51d35b4bddadf17a24eda759ce@sentry.io/1249356')\n    .install();\n//window.Raven = Raven;\n\nif(!App.CheckBrowser()){\n    alert(\"Some browser features were not detected, please use modern browser, otherwise this application may not work properly.\");\n}   \n\nfunction FooterComponent(){ \n      if(App.state.config.is_same(config_atima13)){\n          App.info = \"setting: ATIMA v1.3\";\n      }\n      else if(App.state.config.is_same(config_atima14)){\n          App.info = \"setting: ATIMA v1.4\";\n      }\n      else{\n          App.info =\"setting: custom\";\n      }\n  \n      return m(\"footer\",{class:styles.footer},\n              m(\"span\",{style:\"color:#666\",class:\"f7\"},App.info));\n  }\n\nfunction NavigationComponent(l){\n    return m(\"nav\",{class:styles.nav},l);\n  }\n  \n\nvar file_dropdown = function(){\n    return m(\"div\",{class:styles.dropdown, onclick:function(el){\n            el.preventDefault();\n    }}, \"Tools\",\n        m(\"div\",{class:styles.dropdown_content},[\n        m(\"a\",{class:\"db pa2 dim fw3\", onclick:function(){m.route.set(\"/epax\");}},\"Fragmentation\"),\n        ])\n    );\n};\n\nvar file_dropdown_o = function(){\n    return m(\"div\",{class:\"dropdown db white fw6 mt4 pointer link\", onclick:function(el){\n            el.preventDefault();\n    }}, \"Tools\",\n        m(\"div\",{class:\"dropdown-content bg-dark-gray white fw6 dn relative z-1 shadow-4 w-100 pa2\"},[\n        m(\"a\",{class:\"db pa2 dim fw3\", onclick:function(){m.route.set(\"/epax\");}},\"Fragmentation\"),\n        ])\n    );\n};\n\nvar Offside = function(){\n    var item_style = \"db white fw6 mt4 pointer link\";\n    return m(\"div\",{id:\"offside\",class:\"dn pt3 mw5-ns w-30-ns w-100 h-100 bg-black z-1 fixed top-0 left-0 overflow-x-hidden tc\"},\n    [\n        m(\"a\",{class:\"db white fw5 pointer\",onclick:function(){\n            var el = document.getElementById(\"offside\");\n            el.classList.toggle(\"dn\");\n            \n          }},m.trust(svg_menu())),\n\n      FileLoader({class:item_style,title:\"Load\",id:\"apploader\"},App.LoadJSONFile),\n      m(\"a\",{class:item_style,onclick:function(){\n        SaveFile(App.state,\"webatima_input.json\");}\n        },\"Save\"),\n      file_dropdown_o(),\n      m(\"a\",{class:item_style,onclick:function(e){m.route.set(\"/config\");e.preventDefault();}},\"Settings\"),\n      m(\"a\",{class:item_style,href:\"about.html\",target:\"_blank\"},\"About\"),\n    ]);\n};\n\nvar NavigationList_Main = function(){\n    return [\n        m(\"a\",{class:styles.nav_item_small,onclick:function(){\n            var el = document.getElementById(\"offside\");\n            el.classList.toggle(\"dn\");\n          }},m.trust(svg_menu())),\n      m(\"a\",{class:styles.nav_item,onclick:function(){\n            SaveFile(App.state,\"webatima_input.json\");}\n            },\"Save\"),\n      FileLoader({class:styles.nav_item,title:\"Load\",id:\"apploader\"},App.LoadJSONFile),\n      m(\"a\",{class:styles.nav_item_right,href:\"about.html\",target:\"_blank\"},\"About\"),\n      m(\"a\",{class:styles.nav_item_right,onclick:function(e){m.route.set(\"/config\");e.preventDefault();}},\"Settings\"),\n      file_dropdown()\n    ];                                                             \n  };                                                               \n\n                                                         \n                                                                   \n  var NavigationList_NucChange = function(){                       \n    return [                                                       \n      m(\"div\",{class:styles.nav_item_sticky,onclick:function(e){m.route.set(\"/\");e.preventDefault();}},\"Back\"),\n    ];                                                             \n  };                                                               \n                                                                   \n  var NavigationList_Results = function(){                         \n    return [                                                       \n      m(\"a\",{class:styles.nav_item_sticky,onclick:function(e){m.route.set(\"/\");e.preventDefault();}},\"Back\"),\n      m(\"a\",{class:styles.nav_item_sticky,onclick:function(e){m.route.set(\"/nucchange\");e.preventDefault();}},\"Projectile\")\n    ];\n  };\n\nvar MainPage = {};\nMainPage.oninit = function(){\n};\n\nMainPage.view = function(){\n  return [m(\"div\",{class:styles.container_narrow},[\n    NavigationComponent(NavigationList_Main()),\n    m(\"div\",{class:styles.combine([styles.div_row,styles.padding_vertical,\"justify-center\"])},[\n            m(\"div\",{class:styles.div_cell_20a},m(CardComponent,{title:\"Projectile\",content:m(NucleusInfo,{\"nucleus\":App.projectile})})),\n            m(\"div\",{class:styles.div_cell_80},m(CardComponent,{title:\"Matter\",content:m(MatterEditor)})),\n        ]),\n    m(\"div\",{class:styles.combine([styles.div_row,styles.padding_vertical])},\n        m(\"div\",{class:styles.div_cell_100},[\n                m(\"h2\",\"Results\"),\n                m(\"a\",{class:styles.button_full,\n                            onclick:function(){\n                                if(MatterEditor.vm.editindex == -1)\n                                    m.route.set(\"/results\");}\n                            },\"Calculate\")\n                //AtimaResults\n        ])\n    ),\n    Offside()\n  ]),\n    FooterComponent()];\n};\n\nvar NucChangePage = {};\nNucChangePage.view = function(){\n  return m(\"div\",{class:styles.container_narrow},[\n    NavigationComponent(NavigationList_NucChange()),\n    m(NucleusSelector)\n  ]);\n};\n\nvar ResultsPage = {};\nResultsPage.view = function(){\n    if(!App.loaded){\n        m.route.set(\"/\");\n        return; \n        }\n    return [\n            m(\"div\",{class:styles.container},[\n                NavigationComponent(NavigationList_Results()),\n                m(AtimaResultsView),\n            ]),\n            FooterComponent()\n    ];\n};\n\nvar PlotPage = {};\nPlotPage.oninit = function(vnode){\n    vnode.state.plotdata = PlotData;\n};\n\nPlotPage.oncreate = function(vnode){\n    vnode.state.plotdata.reset();\n    Catima.get_data(Catima.prepare(true)).then(function(res){\n        if(res.length>0){\n            vnode.state.plotdata.sort(res);\n            m.redraw();\n            vnode.state.plotdata.update();\n        }\n        else{\n            vnode.state.plotdata.status = \"failed\";\n        }\n    }).catch(function(e){\n        App.report(e);\n    });\n};\n\nPlotPage.view = function(vnode){\n    if(!App.loaded){\n        m.route.set(\"/\");\n        return; \n        }\n    return m(\"div\",{class:styles.container},[\n        NavigationComponent(NavigationList_NucChange()),\n        m(PlotComponent,vnode.state.plotdata)\n    ]);\n    \n};\n\nvar MaterialPlotPage = {};\nMaterialPlotPage.oninit = function(vnode){\n    vnode.state.plotdata = MaterialPlotData;\n};\n\nMaterialPlotPage.oncreate = function(vnode){\n    vnode.state.plotdata.reset();\n    var index = App.get_editindex();\n    if(index<0)return;\n    Catima.get_data(Catima.prepare_one(index)).then(function(res){\n        if(res.length>0){\n            vnode.state.plotdata.sort(res);\n            m.redraw();\n            vnode.state.plotdata.change_y_axis(\"Eout\");\n        }\n        else{\n            vnode.state.plotdata.status = \"failed\";\n        }\n    }).catch(function(e){\n        App.report(e);\n    });\n};\n\nMaterialPlotPage.view = function(vnode){\n    if(!App.loaded){\n        m.route.set(\"/\");\n        return; \n        }\n    return m(\"div\",{class:styles.container},[\n        NavigationComponent(NavigationList_NucChange()),\n        m(PlotComponent,vnode.state.plotdata)\n    ]);\n};\n\nvar ConfigPage = {};\nConfigPage.view = function(){\n    return m(\"div\",{class:styles.container_narrow},[\n        NavigationComponent(NavigationList_NucChange()),\n        m(ConfigComponent)\n    ]);\n};\n\nvar EpaxPage = {};\nEpaxPage.view = function(){\n    return m(\"div\",{class:styles.container_narrow},[\n        NavigationComponent(NavigationList_NucChange()),\n        m(EpaxComponent)\n    ]);\n};\n\n//// initialization //////\nRaven.context(function(){\nvar main_element = document.getElementById('loading');\nmain_element.innerHTML = loader(\"loading\");\nvar ss = window.location.search;\nvar idx = ss.indexOf(\"?c=\");\nif(ss.length>3 && idx>-1){\n    var len = ss.length;\n    if(ss.charAt(len-1)==\"/\"){\n        len = len - 1;\n    }\n    var uid = ss.substring(idx+3, len);\n    App.load_config(uid);\n}\nelse{\n    var stored = StorageAPI.load(\"state\");\n    App.Load(stored);\n}\n\nm.route(document.getElementById('NS'),\"/\",{\n  \"/\":MainPage ,\n  \"/nucchange\":NucChangePage,\n  \"/results\":ResultsPage,\n  \"/plot\":PlotPage,\n  \"/materialplot\":MaterialPlotPage,\n  \"/config\":ConfigPage,\n  \"/epax\":EpaxPage\n});\n\n\n});\n"],"sourceRoot":""}